(function(s){if(s._tb_tracer){return}var E=document,e="http://stat.alibaba.com/monitor.htm",z=(new Date()).getTime(),n=5000,B=null,h=s.g_hb_monitor_st,v=z,f=0,l=location.href,k=E.referrer,w=l.indexOf("tb-tracer-ignore=true")!=-1,g=0,p=1024,d="tps/i4/T1pkSfXexkXXXXXXXX-1-1.gif",i=0,o={},y=[],A=Math.random(),u=z+"."+A,c=!!E.attachEvent,b="attachEvent",j="addEventListener",t=false,m=function(F){return typeof F=="number"},r=function(J,O){var F,G,K,H,L,R,Q,I,N=0,P=0,M={};M.tpath=x(J);while(J){I=J.tagName;if(I&&I!="HTML"){N=1}if(I=="A"||I=="AREA"){F=J.getAttribute("href",2)||"";P=1;R=I}else{if(I=="IMG"||I=="BUTTON"||I=="INPUT"||I=="SELECT"){P=1}}if(P){L=L||J;R=R||I;Q=Q||J.id||"-"}if((J.id&&(G=o[J.id]))||!(K=J.parentNode)){break}J=K}if(!N||(!G&&i>0)){return}if(F){M.href=F}if(R){M.et=R}if(Q&&Q!="-"){M.elid=Q}M.pos=D(L,O).join(",");f++;M.cc=f;H=(new Date()).getTime();M.t=H-z;M.t2=H-v;v=H;C.send(M)},D=function(G,L){var N=E.compatMode=="BackCompat"?E.body:E.documentElement,I=Math.max(N.scrollWidth,N.clientWidth),O=N.scrollTop,J=N.scrollLeft;var Q=L.pageX,P=L.pageY;if(!m(Q)){Q=L.clientX+J;P=L.clientY+O}var M=-1,K,F;if(G){if(G.getBoundingClientRect){F=G.getBoundingClientRect();M=F.left+J;K=F.top+O}else{}}if(C.layout==0){var H=I>>1;Q-=H;M-=H}return m(K)?[Q,P,M,K,G.offsetWidth,G.offsetHeight]:[Q,P]},q=function(H){var F=[],G;for(G in H){F.push(G+"="+encodeURIComponent(H[G]))}return F.join("&")},a=function(K){var G=K.split("&"),H=0,F=G.length,I,J={};for(;H<F;H++){I=G[H].split("=");J[I[0]]=decodeURIComponent(I[1]||"")}return J},x=function(I){var G=[],H,J,F;while(I){J=I.tagName;if(I.id){G.unshift(J+"#"+I.id);break}if(J=="BODY"||J=="HTML"){break}F=0;H=I;while(H=H.previousSibling){if(H.tagName==J){F++}}G.unshift(J+(F?"["+F+"]":""));I=I.parentNode}return G.join(" ")};var C={init0:function(){if(w){return}var F=c?b:j;E[F]((c?"on":"")+"mousedown",function(H){H=H||s.event;var G=H.target||H.srcElement;if(G){r(G,H)}},t);if(h){s[F]((c?"on":"")+"load",function(H){var G={type:2,loadtime:(new Date()).getTime()-h};C.send(G)},t)}C.checkTrigger()},init:function(I,F,K){g=1;C.tid=I;C.eid=(F||0).toString();C.cfg=m(K)?{layout:K}:(K||{});C.layout=C.cfg.layout||0;var G=parseFloat(C.cfg.sample_rate),J=E.cookie.match(new RegExp("\\b"+(C.cfg.cookie_id||"ali_beacon_id")+"=([^;]+)")),H={type:"pv",sw:s.screen.width,sh:s.screen.height};if(k){H.referrer=k}if(!isNaN(G)&&A>G){g=2;return}C.cid=J?J[1]:"";C.send(H)},watch:function(H){for(var G=0,F=H.length;G<F;G++){o[H[G]]=1}i+=F},send:function(G){if(g==2){return}var I=Math.random(),H="rnd_id_"+I,F;G.f="tb-tracer";G.pvid=u;G.tid=C.tid;G.eid=C.eid;G.r=I;G.url=l;if(C.layout){G.layout=C.layout}if(C.cid){G.cid=C.cid}if(g==0){y.push(G)}else{if(g==1){F=new Image();s[H]=F;F.onload=F.onerror=function(){s[H]=B;if(y[0]){C.send(y.shift())}};F.src=e+"?"+q(G);F=B;setTimeout(function(){s[H]&&(s[H].src="")},n)}}},checkTrigger:function(){if(g!=0||p<=0){return}p--;var F=document.images,J=0,G=F.length,I,H;for(;J<G;J++){if((I=F[J].src)&&I.indexOf(d)!=-1&&(I=I.split("?")[1])&&(H=I.match(/.*?\btracer=([\w\-\/]+)&?/))&&C.trigger(H[1].split("/"),a(I))){return}}setTimeout(C.checkTrigger,200)},trigger:function(G,F){C.init(G[0],G[1],F);F.hasOwnProperty("watch")&&C.watch(F.watch.split(","));return 1}};C.init0();s._tb_tracer={version:"0.1.1",init:function(G,F,H){if(!G||w){return}C.init(G,m(F)?F:0,H||(typeof F=="object"?F:B));return this},watch:function(F){C.watch([].slice.call(arguments,0));return this}}})(window);
