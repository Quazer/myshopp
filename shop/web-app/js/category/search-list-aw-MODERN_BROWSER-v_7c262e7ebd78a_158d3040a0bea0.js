
var globalImgServer='http://style.alibaba.com';if(location.protocol==="https:"){globalImgServer='https://ipaystyle.alibaba.com';};

YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:false,_use_default_post_header:true,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:true,_default_xhr_header:"XMLHttpRequest",_has_default_headers:true,_default_headers:{},_isFormSubmit:false,_isFileUpload:false,_formNode:null,_sFormData:null,_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,_submitElementValue:null,_hasSubmitListener:(function(){if(YAHOO.util.Event){YAHOO.util.Event.addListener(document,"click",function(B){var A=YAHOO.util.Event.getTarget(B);if(A.nodeName.toLowerCase()=="input"&&(A.type&&A.type.toLowerCase()=="submit")){YAHOO.util.Connect._submitElementValue=encodeURIComponent(A.name)+"="+encodeURIComponent(A.value);}});return true;}return false;})(),startEvent:new YAHOO.util.CustomEvent("start"),completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),uploadEvent:new YAHOO.util.CustomEvent("upload"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(A){this._msxml_progid.unshift(A);},setDefaultPostHeader:function(A){if(typeof A=="string"){this._default_post_header=A;}else{if(typeof A=="boolean"){this._use_default_post_header=A;}}},setDefaultXhrHeader:function(A){if(typeof A=="string"){this._default_xhr_header=A;}else{this._use_default_xhr_header=A;}},setPollingInterval:function(A){if(typeof A=="number"&&isFinite(A)){this._polling_interval=A;}},createXhrObject:function(F){var E,A;try{A=new XMLHttpRequest();E={conn:A,tId:F};}catch(D){for(var B=0;B<this._msxml_progid.length;++B){try{A=new ActiveXObject(this._msxml_progid[B]);E={conn:A,tId:F};break;}catch(C){}}}finally{return E;}},getConnectionObject:function(A){var C;var D=this._transaction_id;try{if(!A){C=this.createXhrObject(D);}else{C={};C.tId=D;C.isUpload=true;}if(C){this._transaction_id++;}}catch(B){}finally{return C;}},asyncRequest:function(F,C,E,A){var D=(this._isFileUpload)?this.getConnectionObject(true):this.getConnectionObject();var B=(E&&E.argument)?E.argument:null;if(!D){return null;}else{if(E&&E.customevents){this.initCustomEvents(D,E);}if(this._isFormSubmit){if(this._isFileUpload){this.uploadFile(D,E,C,A);return D;}if(F.toUpperCase()=="GET"){if(this._sFormData.length!==0){C+=((C.indexOf("?")==-1)?"?":"&")+this._sFormData;}}else{if(F.toUpperCase()=="POST"){A=A?this._sFormData+"&"+A:this._sFormData;}}}if(F.toUpperCase()=="GET"&&(E&&E.cache===false)){C+=((C.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString();}D.conn.open(F,C,true);if(this._use_default_xhr_header){if(!this._default_headers["X-Requested-With"]){this.initHeader("X-Requested-With",this._default_xhr_header,true);}}if((F.toUpperCase()==="POST"&&this._use_default_post_header)&&this._isFormSubmit===false){this.initHeader("Content-Type",this._default_post_header);}if(this._has_default_headers||this._has_http_headers){this.setHeader(D);}this.handleReadyState(D,E);D.conn.send(A||"");if(this._isFormSubmit===true){this.resetFormState();}this.startEvent.fire(D,B);if(D.startEvent){D.startEvent.fire(D,B);}return D;}},initCustomEvents:function(A,C){var B;for(B in C.customevents){if(this._customEvents[B][0]){A[this._customEvents[B][0]]=new YAHOO.util.CustomEvent(this._customEvents[B][1],(C.scope)?C.scope:null);A[this._customEvents[B][0]].subscribe(C.customevents[B]);}}},handleReadyState:function(C,D){var B=this;var A=(D&&D.argument)?D.argument:null;if(D&&D.timeout){this._timeOut[C.tId]=window.setTimeout(function(){B.abort(C,D,true);},D.timeout);}this._poll[C.tId]=window.setInterval(function(){if(C.conn&&C.conn.readyState===4){window.clearInterval(B._poll[C.tId]);delete B._poll[C.tId];if(D&&D.timeout){window.clearTimeout(B._timeOut[C.tId]);delete B._timeOut[C.tId];}B.completeEvent.fire(C,A);if(C.completeEvent){C.completeEvent.fire(C,A);}B.handleTransactionResponse(C,D);}},this._polling_interval);},handleTransactionResponse:function(F,G,A){var D,C;var B=(G&&G.argument)?G.argument:null;try{if(F.conn.status!==undefined&&F.conn.status!==0){D=F.conn.status;}else{D=13030;}}catch(E){D=13030;}if(D>=200&&D<300||D===1223){C=this.createResponseObject(F,B);if(G&&G.success){if(!G.scope){G.success(C);}else{G.success.apply(G.scope,[C]);}}this.successEvent.fire(C);if(F.successEvent){F.successEvent.fire(C);}}else{switch(D){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:C=this.createExceptionObject(F.tId,B,(A?A:false));if(G&&G.failure){if(!G.scope){G.failure(C);}else{G.failure.apply(G.scope,[C]);}}break;default:C=this.createResponseObject(F,B);if(G&&G.failure){if(!G.scope){G.failure(C);}else{G.failure.apply(G.scope,[C]);}}}this.failureEvent.fire(C);if(F.failureEvent){F.failureEvent.fire(C);}}this.releaseObject(F);C=null;},createResponseObject:function(A,G){var D={};var I={};try{var C=A.conn.getAllResponseHeaders();var F=C.split("\n");for(var E=0;E<F.length;E++){var B=F[E].indexOf(":");if(B!=-1){I[F[E].substring(0,B)]=F[E].substring(B+2);}}}catch(H){}D.tId=A.tId;D.status=(A.conn.status==1223)?204:A.conn.status;D.statusText=(A.conn.status==1223)?"No Content":A.conn.statusText;D.getResponseHeader=I;D.getAllResponseHeaders=C;D.responseText=A.conn.responseText;D.responseXML=A.conn.responseXML;if(G){D.argument=G;}return D;},createExceptionObject:function(H,D,A){var F=0;var G="communication failure";var C=-1;var B="transaction aborted";var E={};E.tId=H;if(A){E.status=C;E.statusText=B;}else{E.status=F;E.statusText=G;}if(D){E.argument=D;}return E;},initHeader:function(A,D,C){var B=(C)?this._default_headers:this._http_headers;B[A]=D;if(C){this._has_default_headers=true;}else{this._has_http_headers=true;}},setHeader:function(A){var B;if(this._has_default_headers){for(B in this._default_headers){if(YAHOO.lang.hasOwnProperty(this._default_headers,B)){A.conn.setRequestHeader(B,this._default_headers[B]);}}}if(this._has_http_headers){for(B in this._http_headers){if(YAHOO.lang.hasOwnProperty(this._http_headers,B)){A.conn.setRequestHeader(B,this._http_headers[B]);}}delete this._http_headers;this._http_headers={};this._has_http_headers=false;}},resetDefaultHeaders:function(){delete this._default_headers;this._default_headers={};this._has_default_headers=false;},setForm:function(M,H,C){var L,B,K,I,P,J=false,F=[],O=0,E,G,D,N,A;this.resetFormState();if(typeof M=="string"){L=(document.getElementById(M)||document.forms[M]);}else{if(typeof M=="object"){L=M;}else{return;}}if(H){this.createFrame(C?C:null);this._isFormSubmit=true;this._isFileUpload=true;this._formNode=L;return;}for(E=0,G=L.elements.length;E<G;++E){B=L.elements[E];P=B.disabled;K=B.name;if(!P&&K){K=encodeURIComponent(K)+"=";I=encodeURIComponent(B.value);switch(B.type){case"select-one":if(B.selectedIndex>-1){A=B.options[B.selectedIndex];F[O++]=K+encodeURIComponent((A.attributes.value&&A.attributes.value.specified)?A.value:A.text);}break;case"select-multiple":if(B.selectedIndex>-1){for(D=B.selectedIndex,N=B.options.length;D<N;++D){A=B.options[D];if(A.selected){F[O++]=K+encodeURIComponent((A.attributes.value&&A.attributes.value.specified)?A.value:A.text);}}}break;case"radio":case"checkbox":if(B.checked){F[O++]=K+I;}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(J===false){if(this._hasSubmitListener&&this._submitElementValue){F[O++]=this._submitElementValue;}else{F[O++]=K+I;}J=true;}break;default:F[O++]=K+I;}}}this._isFormSubmit=true;this._sFormData=F.join("&");this.initHeader("Content-Type",this._default_form_header);return this._sFormData;},resetFormState:function(){this._isFormSubmit=false;this._isFileUpload=false;this._formNode=null;this._sFormData="";},createFrame:function(A){var B="yuiIO"+this._transaction_id;var C;if(YAHOO.env.ua.ie){C=document.createElement('<iframe id="'+B+'" name="'+B+'" />');if(typeof A=="boolean"){C.src="javascript:false";}}else{C=document.createElement("iframe");C.id=B;C.name=B;}C.style.position="absolute";C.style.top="-1000px";C.style.left="-1000px";document.body.appendChild(C);},appendPostData:function(A){var D=[],B=A.split("&"),C,E;for(C=0;C<B.length;C++){E=B[C].indexOf("=");if(E!=-1){D[C]=document.createElement("input");D[C].type="hidden";D[C].name=decodeURIComponent(B[C].substring(0,E));D[C].value=decodeURIComponent(B[C].substring(E+1));this._formNode.appendChild(D[C]);}}return D;},uploadFile:function(D,N,E,C){var I="yuiIO"+D.tId,J="multipart/form-data",L=document.getElementById(I),O=this,K=(N&&N.argument)?N.argument:null,M,H,B,G;var A={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",E);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",I);if(YAHOO.env.ua.ie){this._formNode.setAttribute("encoding",J);}else{this._formNode.setAttribute("enctype",J);}if(C){M=this.appendPostData(C);}this._formNode.submit();this.startEvent.fire(D,K);if(D.startEvent){D.startEvent.fire(D,K);}if(N&&N.timeout){this._timeOut[D.tId]=window.setTimeout(function(){O.abort(D,N,true);},N.timeout);}if(M&&M.length>0){for(H=0;H<M.length;H++){this._formNode.removeChild(M[H]);}}for(B in A){if(YAHOO.lang.hasOwnProperty(A,B)){if(A[B]){this._formNode.setAttribute(B,A[B]);}else{this._formNode.removeAttribute(B);}}}this.resetFormState();var F=function(){if(N&&N.timeout){window.clearTimeout(O._timeOut[D.tId]);delete O._timeOut[D.tId];}O.completeEvent.fire(D,K);if(D.completeEvent){D.completeEvent.fire(D,K);}G={tId:D.tId,argument:N.argument};try{G.responseText=L.contentWindow.document.body?L.contentWindow.document.body.innerHTML:L.contentWindow.document.documentElement.textContent;G.responseXML=L.contentWindow.document.XMLDocument?L.contentWindow.document.XMLDocument:L.contentWindow.document;}catch(P){}if(N&&N.upload){if(!N.scope){N.upload(G);}else{N.upload.apply(N.scope,[G]);}}O.uploadEvent.fire(G);if(D.uploadEvent){D.uploadEvent.fire(G);}YAHOO.util.Event.removeListener(L,"load",F);setTimeout(function(){document.body.removeChild(L);O.releaseObject(D);},100);};YAHOO.util.Event.addListener(L,"load",F);},abort:function(E,G,A){var D;var B=(G&&G.argument)?G.argument:null;if(E&&E.conn){if(this.isCallInProgress(E)){E.conn.abort();window.clearInterval(this._poll[E.tId]);delete this._poll[E.tId];if(A){window.clearTimeout(this._timeOut[E.tId]);delete this._timeOut[E.tId];}D=true;}}else{if(E&&E.isUpload===true){var C="yuiIO"+E.tId;var F=document.getElementById(C);if(F){YAHOO.util.Event.removeListener(F,"load");document.body.removeChild(F);if(A){window.clearTimeout(this._timeOut[E.tId]);delete this._timeOut[E.tId];}D=true;}}else{D=false;}}if(D===true){this.abortEvent.fire(E,B);if(E.abortEvent){E.abortEvent.fire(E,B);}this.handleTransactionResponse(E,G,true);}return D;},isCallInProgress:function(B){if(B&&B.conn){return B.conn.readyState!==4&&B.conn.readyState!==0;}else{if(B&&B.isUpload===true){var A="yuiIO"+B.tId;return document.getElementById(A)?true:false;}else{return false;}}},releaseObject:function(A){if(A&&A.conn){A.conn=null;A=null;}}};YAHOO.register("connection",YAHOO.util.Connect,{version:"2.6.0",build:"1321"});;

AE.namespace('AE.app');if(!AE.app.clickStat){AE.app.clickStat=(function(){var statMethod={'buttonClick':function(paramsObj){var projectId=paramsObj.projectId||'',pageType=paramsObj.pageType||'',pageArea=paramsObj.pageArea||'',buttonType=paramsObj.buttonType||'',objectType=paramsObj.objectType||'',objectValue=paramsObj.objectValue||'',clickBehavior=paramsObj.clickBehavior||'';var cookieId=AE.bom.getCookie('ali_apache_id')||'';var memberId=AE.app.cookieInfo.memberSeq||'';var userId='';var isMember=false;if(memberId!=''){isMember=true;userId=memberId;}else{userId=cookieId;}
var params={ae_project_id:projectId,ae_page_type:pageType,ae_page_area:pageArea,ae_button_type:buttonType,ae_object_type:objectType,ae_object_value:objectValue,ae_ismember:isMember,ae_user_id:userId,ae_click_behavior:clickBehavior};if(typeof dmtrack!='undefined'){dmtrack.clickstat('http://stat.alibaba.com/ae/aliexpress_button_click.html',params);}},'ctr':function(paramsObj){var projectId=paramsObj.projectId||'',expPage=paramsObj.expPage||'',expPageArea=paramsObj.expPageArea||'',expType=paramsObj.expType||'',expCondition=paramsObj.expCondition||'',expProduct=paramsObj.expProduct||'',expAttribute=paramsObj.expAttribute||'',expResultCnt=paramsObj.expResultCnt||'',pageSize=paramsObj.pageSize||'',pageNo=paramsObj.pageNo||'',refer=paramsObj.refer||'';var params={project_id:projectId,exp_page:expPage,exp_page_area:expPageArea,exp_type:expType,exp_condition:expCondition,exp_product:expProduct,exp_attribute:expAttribute,exp_result_cnt:expResultCnt,Page_size:pageSize,Page_no:pageNo,refer:refer};if(typeof dmtrack!='undefined'){dmtrack.clickstat('http://stat.alibaba.com/ctr/aliexpress_ctr.html',params);}}};return statMethod;})();};

AE.namespace('AE.run');if(!AE.run.userVipInfo){AE.run.userVipInfo=(function(){var vipInfo={level:{'1':{title:'VIP Silver',logoClass:'vip-icon vip-icon-silver'},'2':{title:'VIP Gold',logoClass:'vip-icon vip-icon-gold'},'3':{title:'VIP Platinum',logoClass:'vip-icon vip-icon-platinum'}},lnkUrl:'http://help.aliexpress.com/vip_club.html'};var init=function(callback){var _ajaxUrl=callback.ajaxUrl,_seqs=callback.buyerSeqs,_onSuccess=callback.onSuccess;var tempJsonpName='tempJson'+new Date().getTime();YAHOO.util.Get.script(_ajaxUrl+'?buyerSeqs='+_seqs+'&jsonName='+tempJsonpName,{onSuccess:function(o){o.purge();var r=window[tempJsonpName];if(r&&_onSuccess){_onSuccess.call(vipInfo,r);}},timeout:5000});};return init;})();};

AE.namespace('AE.app');AE.app.cookieInfo=new function(){var _self=this;_self.isLoggedIn=false;_self.isFirstIn=false;_self.country='';_self.firstName='';_self.lastName='';_self.serviceType='';_self.memberSeq='';var init=function(){var isLoginCookie=AE.bom.getCookie('xman_us_t');var userCookie=AE.bom.getCookie('xman_us_f');if(isLoginCookie&&isLoginCookie.indexOf('sign=y')!==-1){_self.isLoggedIn=true;}
var userReg=/x_user=([^&"]+)/;if(userCookie&&userReg.test(userCookie)){userCookie.match(userReg);userCookie=RegExp.$1;userCookie=userCookie.split('|');if(userCookie.length>=5){_self.country=userCookie[0];_self.firstName=userCookie[1].replace(/</g,"&lt;").replace(/>/g,"&gt;");_self.lastName=userCookie[2].replace(/</g,"&lt;").replace(/>/g,"&gt;");_self.serviceType=userCookie[3];_self.memberSeq=userCookie[4];}}
if(AE.bom.getCookie('ali_intl_firstIn').isEmpty()){_self.isFirstIn=true;}}
init();};;

AE.namespace('AE.run');if(!AE.run.signState){AE.run.signState=function(){this.config={target:'ws-welcome'};this.cache={joinServer:'http://us.ae.alibaba.com/wsuser/buyerJoin/expressJoin.htm',signServer:'https://login.aliexpress.com/buyer.htm',signoutServer:'https://login.alibaba.com/xman/xlogout.htm'};return this;};AE.run.signState.prototype={init:function(config){this.config=YAHOO.lang.merge(this.config,config||{});if(!get(this.config.target)){return;}
this.config.target=get(this.config.target);this.cache.currentUrl=escape(window.location);this.cache.signUrl=this.cache.signServer+'?return='+this.cache.currentUrl;this.cache.signoutUrl=this.cache.signoutServer+'?return_url='+this.cache.currentUrl;this.cache.joinUrl=this.cache.joinServer+'?return=www.aliexpress.com';if(AE.app.cookieInfo['isLoggedIn']){this.showUserInfo();this.showUserLevel();}else{this.showJoinLink();}},showJoinLink:function(){if(!AE.bom.getCookie('xman_us_f')){this.config.target.innerHTML='Welcome to AliExpress! <a rel="nofollow" href="'+
this.cache.joinUrl+'">Join Free</a> | <span><a rel="nofollow" href="'+this.cache.signUrl+'">Sign In</a></span> or <a rel="nofollow" target="_blank" id="ws-sign-facebook"'+'href="http://thirdparty.aliexpress.com/login.htm?type=fb&tracelog=ws_fb_topbar">Sign In With</a>';}else{this.config.target.innerHTML='Welcome '+AE.app.cookieInfo['firstName']+'! <a rel="nofollow" href="'+this.cache.signUrl+'">Sign In</a> (Not <b>'+'<a rel="nofollow" href="'+this.cache.signUrl+'">you</a></b>?) | '+'<a rel="nofollow" href="'+this.cache.joinUrl+'">Join Free</a> or '+'<a rel="nofollow" target="_blank" id="ws-sign-facebook" href="'+'http://thirdparty.aliexpress.com/login.htm?type=fb&tracelog=ws_fb_topbar">Sign In With</a>';}
YUE.on('ws-sign-facebook','click',function(e){YUE.stopEvent(e);window.open(this.href,'fb','menubar=no,location=yes,'+'resizable=yes,scrollbars=yes,status=no,toolbar=no,width=650,height=500');});},showUserInfo:function(){this.config.target.innerHTML='Welcome '+AE.app.cookieInfo['firstName']+'<a id="ws-user-name" class="vip-icon"></a> ! | <a rel="nofollow" href="'+
this.cache.signoutUrl+'">Sign Out</a>';},showUserLevel:function(){var memberSeq=AE.app.cookieInfo['memberSeq'];if(typeof(AE.run.userVipInfo)!='undefined'){AE.run.userVipInfo({ajaxUrl:'http://www.aliexpress.com/help/ajax/get_wsbuyer_level_for_ajax.htm',buyerSeqs:memberSeq,onSuccess:function(o){var vipInfo=this;var lnkElm=get('ws-user-name');lnkElm.setAttribute('href',vipInfo.lnkUrl);lnkElm.setAttribute('title',vipInfo.level[o[memberSeq]].title);lnkElm.className=vipInfo.level[o[memberSeq]].logoClass;}});}}};};

AE.namespace('AE.widget.xSelector');AE.widget.xSelector=function(){var _config={fetchUrl:'/wssearchtool/allCategory.htm',catId:'catId',searchCategory:'searchCategory',fakeSelectId:'fakeSelectorBox',catInput:YUD.getElementsByClassName('inputEl','input','fakeSelectorBox')[0],categoryList:'categoryList'},currentCatId=get('catId'),currentCatItem,catLoaded=0,catList,needToAdd=0,isMobileDevice=navigator.userAgent.toLowerCase().match(/ipad|iphone/i),_asyncGetCats=function(onload){var _self=this,fetchUrl=_config.fetchUrl,container=get(_config.searchCategory),callback={cache:true,success:function(res){catLoaded=1;container.innerHTML=res.responseText;catList=get(_config.categoryList);if(needToAdd){var currentItem=document.createElement('li');YUD.addClass(currentItem,'optionLi subSpecialColor');currentItem.innerHTML=_config.catInput.value;currentItem.setAttribute('catId',currentCatId.value);YUD.insertBefore(currentItem,YUD.getChildren(catList)[0]);}
onload();},failure:function(res){catLoaded=0;},timeout:6000};YAHOO.util.Connect.asyncRequest('GET',fetchUrl,callback);},_ipadAsyncGetCats=function(){var _self=this,fetchUrl=_config.fetchUrl,container=get(_config.searchCategory),callback={cache:true,success:function(res){var response=res.responseText.match(/\<ol id=\"categoryList\"[\s\S]*\<\/ol\>/)[0];response=response.replace('<ol ','<select ').replace(/<li class="optionLi subLine"><\/li>/g,'').replace('</ol>','</select>').replace(/<li /g,'<option ').replace(/<\/li>/g,'</option>').replace(/catId/g,'value');var wrapper=document.createElement('div'),container=get(_config.fakeSelectId),originalInput=YUD.getElementsByClassName('inputEl','input',container)[0];wrapper.innerHTML=response;YUD.insertBefore(wrapper,originalInput);get('categoryList').style.cssText='position:absolute;left:0;top:0px;padding:0px;height:27px;width:125px;background:#fff;';get('categoryList').value=currentCatId.value;YUE.on('categoryList','change',function(){get('catId').value=this.value;});},failure:function(res){catLoaded=0;},timeout:6000};YAHOO.util.Connect.asyncRequest('GET',fetchUrl,callback);},_toggleItems=function(){var listItems=YUD.getChildren(get(_config.categoryList));itemCount=listItems.length;for(var i=itemCount;i--;){var item=listItems[i];if(item.getAttribute('catId')==currentCatId.value&&!YUD.hasClass(item,'subSpecialColor')){YUD.addClass(listItems[i],'currentLi');get(_config.searchCategory).scrollTop=i*item.offsetHeight;}}},_formatCatList=function(){var listItems=YUD.getChildren(get(_config.categoryList));YUE.on(listItems,'mouseover',function(){if(!YUD.hasClass(this,'subLine')){YUD.addClass(this,'currentLi');}});YUE.on(listItems,'mouseout',function(){if(this!==currentCatItem){YUD.removeClass(this,'currentLi');}});YUE.on(listItems,'click',function(e){var item=this;if(!YUD.hasClass(item,'subLine')){YUD.removeClass(listItems,'currentLi');YUD.addClass(item,'currentLi');if(currentCatId){currentCatId.value=item.getAttribute('catId');_config.catInput.value=item.innerHTML.replace('&amp;','&');}
currentCatItem=item;YUD.setStyle(_config.searchCategory,'display','none');YUD.setStyle(_config.searchCategory,'visibility','hidden');}
YUE.stopEvent(e);});YUD.setStyle(_config.searchCategory,'display','block');YUD.setStyle(_config.searchCategory,'visibility','visible');_toggleItems();},_changeCateStatus=function(){var status=YUD.getStyle(_config.searchCategory,'display');if(status=='block'){YUD.setStyle(_config.searchCategory,'display','none');YUD.setStyle(_config.searchCategory,'visibility','hidden');}else{YUD.setStyle(_config.searchCategory,'display','block');YUD.setStyle(_config.searchCategory,'visibility','visible');}},_handleCat=function(){if(catLoaded){_changeCateStatus();}else{_asyncGetCats(function(){_formatCatList();});}},_liveEvents=function(){if(isMobileDevice){_ipadAsyncGetCats();}else{YUE.on(_config.fakeSelectId,'click',function(){_handleCat();});YUE.on(get(_config.fakeSelectId).getElementsByTagName('label'),'click',function(e){YUE.preventDefault(e);});YUE.on(document.body,'click',function(e){var eventTarget=YUE.getTarget(e);if(!YUD.isAncestor(_config.fakeSelectId,eventTarget)||eventTarget.id==_config.fakeSelectId){YUD.setStyle(_config.searchCategory,'display','none');YUD.setStyle(_config.searchCategory,'visibility','hidden');}});}};return{init:function(customConfig){_config=YL.merge(_config,customConfig||{});if(currentCatId&&currentCatId.value==0){_config.catInput.value='All Categories';}else{needToAdd=1;}
_liveEvents();YUE.on('SearchTextIdx','mousedown',function(e){YUD.setStyle('searchCategory','display','none');});return this;},rollup:function(){}};};;

AE.namespace('AE.widget.intelligentSearch');AE.widget.intelligentSearch=function(){this.inputEl=null;this.jsonData=[];this.selectedOption=[-1,'',''];this.config={};this._defConfig={url:'',inputElId:'',listCssClass:'intelligentList',listCssStyle:'left:0px;top:0px;width:200px;height:auto;z-index:100',keyWordClass:'',listItemNum:10,requestDelay:0.15,enableResultCount:1,enableCatShow:1,returnVarName:'intelSearchData',isNeedSubmit:true,autoWidthFn:null};this.init=function(userConfig){this.config=YL.merge(this._defConfig,userConfig);this.inputEl=get(this.config.inputElId);this.UIController=YL.merge(this.UIController,{});this.requestHander=YL.merge(this.requestHander,{});this.dataParser=YL.merge(this.dataParser,{});this.UIController.init(this);this.onInit.fire();if(window.location.href.indexOf('chinasuppliers')!=-1){this.config.enableCatShow=0;}};this.initOnActive=function(){if(parseInt(this.requestHander.requestCount,10)===0&&!this.dataParser.isInit){this.requestHander.init(this);this.dataParser.init(this);this.UIController.initEvts();this.onActive.fire();return true;}
return false;};this.onInit=new YAHOO.util.CustomEvent('onInit',this);this.onActive=new YAHOO.util.CustomEvent('onActive',this);this.onRequestSent=new YAHOO.util.CustomEvent('onRequestSent',this);this.onRequestFailure=new YAHOO.util.CustomEvent('onRequestFailure',this);this.onRequestSuccess=new YAHOO.util.CustomEvent('onRequestSuccess',this);this.onListDisplay=new YAHOO.util.CustomEvent('onListDisplay',this);this.onListDisplayed=new YAHOO.util.CustomEvent('onListDisplayed',this);this.onListHide=new YAHOO.util.CustomEvent('onListHide',this);this.onListHidden=new YAHOO.util.CustomEvent('onListHidden',this);this.onOptionClick=new YAHOO.util.CustomEvent('onOptionClick',this);this.onOptionMouseDown=new YAHOO.util.CustomEvent('onOptionMouseDown',this);this.onInputKeyDown=new YAHOO.util.CustomEvent('onInputKeyDown',this);this.onFormSubmit=new YAHOO.util.CustomEvent('onFormSubmit',this);this.onSetInputElValue=new YAHOO.util.CustomEvent('onSetInputElValue',this);};AE.widget.intelligentSearch.prototype={requestHander:{_parent:null,_timer:null,_processor:null,_isLoading:false,disabled:false,requestCount:0,previousQuery:'',returnDataLength:0,init:function(scope){this._parent=scope;},send:function(){var _self=this,P=this._parent,config=P.config;var inputEl=P.dataParser.HTMLElements.inputEl;if(this.disabled||this._isLoading){return;}
this._isLoading=true;this._timer=setTimeout(function(){var inputVal=inputEl.value.toLowerCase().replace(/^\s+/,'').replace(/\s{2,}/g,' ');if(trim(inputVal)===''){P.UIController.hideList();_self._isLoading=false;return;}
P.onRequestSent.fire();_self.requestCount++;_self._processor=YAHOO.util.Get.script(_self._buildURL(inputVal,inputEl.form),{onSuccess:_self._onSuccess,scope:_self,charset:'utf-8',data:{userInput:inputVal,requestCount:_self.requestCount},insertBefore:P.inputEl});_self._isLoading=false;},config.requestDelay*1000);},_onSuccess:function(o){var P=this._parent;P.jsonData=eval('window.'+P.config.returnVarName);if(!YL.isArray(P.jsonData)||P.jsonData.length===0||trim(P.inputEl.value)===''){this.returnDataLength=0;P.UIController.needDisplayList=false;P.UIController.hideList();}else{P.UIController.needDisplayList=true;P.dataParser.update(P);P.UIController.displayList();P.onRequestSuccess.fire();}
P.selectedOption[2]=o.data.userInput;P.jsonData=null;o.purge();if(AE.app.clickStat.buttonClick&&o.data&&o.data.requestCount){var dataParam={projectId:'73200',pageArea:'auto_suggestion',buttonType:'auto_suggestion',objectType:'recommand',objectValue:o.data.requestCount};AE.app.clickStat.buttonClick(dataParam);}},_buildURL:function(searchStr,f){var P=this._parent,config=P.config,param='',baseUrl=config.url;if(baseUrl.indexOf('?')!=-1){var urlArray=baseUrl.split('?');baseUrl=urlArray[0];param='&'+urlArray[1];}
return(baseUrl+'?keyword='+encodeURIComponent(searchStr)+'&'+'searchType='+(config.enableCatShow==1?(!!f.IndexArea?f.IndexArea.value:''):'')+'&'+'varname='+config.returnVarName+'&'+'__number='+config.enableResultCount+'&'+'time='+(new Date()).getTime()+param);}},dataParser:{_parent:null,isInit:false,HTMLElements:{docEl:document,inputEl:null,listBox:null,iframeMask:null,showBtn:null,hideBtn:null,optionList:[]},init:function(scope){var P=scope,config=P.config,inputEl=P.inputEl,els=this.HTMLElements;this._parent=P;els.inputEl=inputEl;els.iframeMask=this._insertHTMLAfter(els.inputEl,this._buildHTML(config.listCssClass,config.listItemNum));els.listBox=YUD.getNextSibling(els.iframeMask);this._initHTMLElements(els.listBox);this._formatHTML();this.isInit=true;},update:function(parentScope){var P=this._parent,config=P.config,els=this.HTMLElements,optionList=els.optionList,jsonData=P.jsonData,tempData=[];if(!this.isInit){this.init(parentScope);}
for(var i=0,l=jsonData.length;i<l;i++){if(!!jsonData[i].cat){for(j=0,k=jsonData[i].cat.length;j<k;j++){tempData.push({keywords:jsonData[i].keywords,cat:jsonData[i].cat[j]});}
tempData.push({keywords:jsonData[i].keywords});}else{tempData.push(jsonData[i]);}}
P.requestHander.returnDataLength=tempData.length;for(i=0,l=optionList.length;i<l;i++){var option=optionList[i],numHtml='',txtHtml='';var inputVal=els.inputEl.value.toLowerCase().replace(/^\s+/,'').replace(/\s{2,}/g,' ');if(i<tempData.length){if(config.keyWordClass!==''){txtHtml='<span class="js_key">'+this._boldKeyWords(tempData[i].keywords,inputVal,config.keyWordClass)+'</span>';}else{txtHtml='<span class="js_key">'+tempData[i].keywords+'</span>';}
if(config.enableCatShow==1){option.removeAttribute('catid');if(!!tempData[i].cat){for(var item in tempData[i].cat){if(tempData[i].cat.hasOwnProperty(item)){txtHtml+='<span class="cat" style="font-weight:bold;"> in '+tempData[i].cat[item]+'</span>';option.setAttribute('catid',item);}}}}
if(config.enableResultCount==1&&tempData[i].count){numHtml='<span class="s">about <span class="count">'+tempData[i].count+'</span> results</span>';}
option.innerHTML=numHtml+txtHtml;YUD.setStyle(option,'display','');}else{YUD.setStyle(option,'display','none');}
option=null;}
tempData=null;},_buildHTML:function(skinClass,itemNum){var searchSuggestion='Search Suggestions';var hide='Hide';if(typeof LANGUAGE_PACKAGE!='undefined'){searchSuggestion=LANGUAGE_PACKAGE.searchSuggestion;hide=LANGUAGE_PACKAGE.hideSearchSuggestion;}
var html='<iframe frameborder="0" src="about:blank" scrolling="no" class="intelligentIframeMask" style="visibility:hidden;"></iframe>'+'<div class="'+skinClass+'" style="visibility:hidden;">'+'<div class="showSearchSuggestion" style="display:none;">'+searchSuggestion+'</div>'+'<div><div class="intelligentListTitle"><span>'+hide+'</span>'+searchSuggestion+'</div>';for(var i=0;i<itemNum;i++){html+='<p id="listItem'+i+'">&nbsp;</p>';}
html+='</div></div>';return html;},_insertHTMLAfter:function(el,html){if(el.insertAdjacentHTML){el.insertAdjacentHTML('AfterEnd',html);}else{var range=el.ownerDocument.createRange(),frag;range.setStartAfter(el);frag=range.createContextualFragment(html);el.parentNode.insertBefore(frag,el.nextSibling);}
return el.nextSibling;},_initHTMLElements:function(container){var els=this.HTMLElements,optionList=[];els.showBtn=container.firstChild;els.hideBtn=YUD.getFirstChild(YUD.getNextSibling(els.showBtn));optionList=container.getElementsByTagName('p');for(var i=0,j=optionList.length;i<j;i++){var option=optionList[i];}
els.optionList=optionList;},_formatHTML:function(){var P=this._parent,config=P.config,els=this.HTMLElements;var listBox=els.listBox,ifmMask=els.iframeMask,hideBtn=els.hideBtn;if(!config.listCssStyle||config.listCssStyle===''){return;}
config.listCssStyle=config.listCssStyle.replace(/\s/ig,'');var styles=config.listCssStyle.split(';');for(var i=0;i<styles.length;i++){var styleItem=styles[i].split(':'),styleName=styleItem[0],styleValue=styleItem[1];if(!styleName)continue;switch(styleName.toLowerCase()){case'z-index':YUD.setStyle(listBox,styleName,styleValue);YUD.setStyle(ifmMask,'z-index',YUD.getStyle(listBox,'z-index')-1);break;case'top':case'left':case'width':case'height':YUD.setStyle([listBox,ifmMask],styleName,styleValue);break;default:YUD.setStyle(listBox,styleName,styleValue);}}
listBox.orgWidth=listBox.clientWidth+'px';},_boldKeyWords:function(str,keyWord,css){if(!keyWord)return str;return str.replace(keyWord,'<span class="'+css+'">'+keyWord+'</span>');}},UIController:{_els:{},_parent:null,_currentListItemIndex:-1,isOptionBoxOpen:false,isOptionListOpen:true,needDisplayList:true,init:function(scope){this._parent=scope;var inputEl=get(scope.config.inputElId);YUE.on(inputEl,'click',this._inputElOnClick,this);YUE.on(inputEl,'keydown',this._inputElOnKeydown,this);},initEvts:function(){if(!this._parent||!this._parent.dataParser.isInit){return;}
this._els=this._parent.dataParser.HTMLElements;this.bindListeners(this._evtsMap);},_evtsMap:[['docEl','click','_documentOnClick'],['inputEl','keyup','_inputElOnKeyup'],['inputEl','paste','_inputElOnKeyup'],['showBtn','click','_showBtnOnClick'],['hideBtn','click','_hideBtnOnClick'],['optionList','click','_optionOnClick'],['optionList','mouseover','_optionOnMouseover'],['optionList','mousedown','_optionOnMousedown']],bindListeners:function(evtsMap){for(var i=0;i<evtsMap.length;i++){var evtDef=evtsMap[i];var el=evtDef[0],evt=evtDef[1],fname=evtDef[2];YUE.on(this._els[el],evt,this[fname],this);}
var scope=this;var config=scope._parent.config;var listBox=this._els.listBox;if(config.autoWidthFn&&typeof config.autoWidthFn==='function'){YUE.on(window,'resize',function(e){YUD.setStyle(listBox,'width',config.autoWidthFn()+'px');scope.syncMaskWH();});}},_inputElOnKeyup:function(e,scope){scope._parent.requestHander.send();},_inputElOnKeydown:function(e,scope){var P=scope._parent,f=this.form,opts=scope._els.optionList,opt=null,catid='';P.initOnActive();scope._parent.onInputKeyDown.fire(e.keyCode);P.requestHander.disabled=false;if(scope.isOptionListOpen){scope.moveListItem(e.keyCode);if(e.keyCode==13&&scope._currentListItemIndex!=-1){opt=opts[scope._currentListItemIndex];catid=opt.getAttribute('catid');if(!!catid){YUE.stopEvent(e);window.location=f.action+'?'+scope.param(f,{CatId:catid});}}}},_inputElOnClick:function(e,scope){YUE.stopEvent(e);var P=scope._parent,initStatus=P.initOnActive();if(scope._els.inputEl.value!=P.selectedOption[2]){P.requestHander.send();}
else{if(scope._els.inputEl.value!==''){scope.displayList();}}},_documentOnClick:function(e,scope){if(scope.isOptionBoxOpen){scope.hideList();}},_showBtnOnClick:function(e,scope){YUE.stopEvent(e);YUD.setStyle(scope._els.hideBtn,'display','');YUD.setStyle(YUD.getNextSibling(this),'display','');YUD.setStyle(this,'display','none');scope.displayList(scope._els.listBox.orgWidth);scope.isOptionListOpen=true;},_hideBtnOnClick:function(e,scope){YUE.stopEvent(e);YUD.setStyle(scope._els.showBtn,'display','');YUD.setStyle(this.parentNode,'display','none');YUD.setStyle(this,'display','none');scope.isOptionListOpen=false;scope.hideList('auto');},_optionOnClick:function(e,scope){var config=scope._parent.config,f=scope._els.inputEl.form,catid=this.getAttribute('catid');scope._parent.onOptionClick.fire(this);YUE.stopEvent(e);if(config.isNeedSubmit===true){if(!!catid){window.location=f.action+'?'+scope.param(f,{CatId:catid});}else{scope.submitSelect(f,scope);}}
scope.hideList();},_optionOnMouseover:function(e,scope){var inx=this.id.replace('listItem','');YUE.stopEvent(e);scope.transListItem(inx);scope.setListItemIndex(inx);},_optionOnMousedown:function(e,scope){var inx=this.id.replace('listItem','');scope._parent.selectedOption[0]=inx;var userInputWord=scope._els.inputEl.value;scope.setInputElValue(scope._els.optionList[inx]);scope._parent.onOptionMouseDown.fire(this);var userClickWord=scope._els.inputEl.value;if(AE.app.clickStat.buttonClick){var dataParam={projectId:'73200',pageArea:'auto_suggestion',buttonType:'auto_suggestion',objectType:'keyword',objectValue:userInputWord+','+userClickWord};AE.app.clickStat.buttonClick(dataParam);}},displayList:function(w){if(!this.needDisplayList){return;}
var els=this._els;if(!!w){YUD.setStyle(els.listBox,'width',w);}
if(this._parent.config.autoWidthFn&&typeof this._parent.config.autoWidthFn==='function'){YUD.setStyle(els.listBox,'width',this._parent.config.autoWidthFn()+'px');}
this.syncMaskWH();if(this.isOptionBoxOpen){return;}
this._parent.onListDisplay.fire();YUD.setStyle([els.listBox,els.iframeMask],'visibility','visible');this.isOptionBoxOpen=true;this._parent.onListDisplayed.fire();},hideList:function(w){var els=this._els;if(!!w){YUD.setStyle(els.listBox,'width',w);}
if(!this.isOptionBoxOpen){return;}
this._parent.onListHide.fire();YUD.setStyle([els.listBox,els.iframeMask],'visibility','hidden');YUD.removeClass(els.optionList,'current');this.isOptionBoxOpen=false;if(this._currentListItemIndex>=0)YUD.removeClass(this._els.optionList[this._currentListItemIndex],'current');this._currentListItemIndex=-1;this._parent.onListHidden.fire();this._parent.requestHander.disabled=false;},moveListItem:function(kCode){var optionList=this._els.optionList;var inx=this._currentListItemIndex;var dLen=this._parent.requestHander.returnDataLength;if(dLen<=0||this._els.inputEl.value===''||(kCode!=38&&kCode!=40)){return;}
if(kCode==38){inx--;if(inx<-1)inx=dLen-1;}else if(kCode==40){inx++;if(inx>=dLen)inx=-1;}
this.transListItem(inx);this.setListItemIndex(inx);this._parent.selectedOption[0]=inx;this.setInputElValue(inx>=0?optionList[inx]:null);},transListItem:function(nextInx){var prevInx=this._currentListItemIndex;if(prevInx>=0){YUD.removeClass(this._els.optionList[prevInx],'current');}
if(nextInx>=0)YUD.addClass(this._els.optionList[nextInx],'current');},param:function(f,ext){var ps={},qar=[],fels=f.elements,qr='';for(var i=0,l=fels.length;i<l;i++){if(!fels[i].name)continue;ps[fels[i].name]=encodeURIComponent(fels[i].value).replace(/%20/g,'+');}
ps=YL.merge(ps,ext);for(var p in ps){if(ps.hasOwnProperty(p)){qar.push(p+'='+ps[p]);}}
qr=qar.join('&');ps=null;qar=null;return qr;},submitSelect:function(f,scope){if(this._els.inputEl.value.replace(/\s/g,'')!==''){scope._parent.onFormSubmit.fire(this);f.submit();}},setListItemIndex:function(inx){this._currentListItemIndex=parseInt(inx,10);},setInputElValue:function(option){var val='';if(option!=null){var _self=this,key=YUD.getElementsByClassName('js_key','span',option);if(key.length==1){val=key[0].innerText||key[0].textContent;}
this._parent.selectedOption[1]=val+(!!option.getAttribute('catid')?('^'+option.getAttribute('catid')):'');}
else{val=this._parent.selectedOption[2];}
this._parent.requestHander.disabled=true;this._els.inputEl.value=val;this._parent.onSetInputElValue.fire();},syncMaskWH:function(){var listBox=this._els.listBox;var ifmMask=this._els.iframeMask;YUD.setStyle(ifmMask,'width',listBox.offsetWidth+'px');YUD.setStyle(ifmMask,'height',listBox.offsetHeight+'px');}}};;

AE.namespace('AE.searchBar');AE.searchBar=function(){this.config={bar:get("searchBar"),form:get("SearchForm"),tabsBox:get("searchTabsBox"),searchInput:get("SearchTextIdx"),intelligent:get("searchIntelligent"),hintClass:"hint",countrySelect:get("searchCountry"),submitBtn:get("searchSubmit"),hiddenIndexArea:get("searchIndexArea"),advanceSearchLink:"http://www.alibaba.com/trade/advancesearch",onlyOneShow:false,isNeedSubmit:true,isBlank:false,selectlinkDatas:{country_home:{AU:'Australia',BR:'Brazil',CA:'Canada',CN:'China (Mainland)',EG:'Egypt',HK:'Hong Kong',IN:'India',ID:'Indonesia',JP:'Japan',MY:'Malaysia',PH:'Philippines',SG:'Singapore',KR:'South Korea',TW:'Taiwan',TH:'Thailand',TR:'Turkey',UK:'United Kingdom',US:'United States',VN:'Vietnam',advanceSearch:'More ...'},country_listing:{AU:'Australia',BR:'Brazil',CA:'Canada',CN:'China (Mainland)',EG:'Egypt',HK:'Hong Kong',IN:'India',ID:'Indonesia',JP:'Japan',MY:'Malaysia',PH:'Philippines',SG:'Singapore',KR:'South Korea',TW:'Taiwan',TH:'Thailand',TR:'Turkey',UK:'United Kingdom',US:'United States',VN:'Vietnam','':'----------------------',afr:'[Africa]','nam,csa':'[Americas]','asi,gcn':'[Asia]',asi:'[Asia (except China)]',aoc:'[Oceania]',csa:'[Central and South America]',eec:'[Eastern Europe and CIS]','weu,eec':'[Europe and CIS]',gcn:'[Great China]',mea:'[Middle East]',nam:'[North America]',weu:'[Western Europe]',advanceSearch:'More ...'}},locations:{AF:'Afghanistan',AL:'Albania',DZ:'Algeria',AS:'American Samoa',AD:'Andorra',AO:'Angola',AI:'Anguilla',AQ:'Antarctica',AG:'Antigua and Barbuda',AR:'Argentina',AM:'Armenia',AW:'Aruba',AU:'Australia',AT:'Austria',AZ:'Azerbaijan',BS:'Bahamas',BH:'Bahrain',BD:'Bangladesh',BB:'Barbados',BY:'Belarus',BE:'Belgium',BZ:'Belize',BJ:'Benin',BM:'Bermuda',BT:'Bhutan',BO:'Bolivia',BA:'Bosnia and Herzegowina',BW:'Botswana',BV:'Bouvet Island',BR:'Brazil',IO:'British Indian Ocean Territory',BN:'Brunei Darussalam',BG:'Bulgaria',BF:'Burkina Faso',BI:'Burundi',KH:'Cambodia',CM:'Cameroon',CA:'Canada',CV:'Cape Verde',KY:'Cayman Islands',CF:'Central African Republic',TD:'Chad',CD:'Channel Island',CL:'Chile',CN:'China (Mainland)',CX:'Christmas Island',CC:'Cocos (Keeling) Islands',CO:'Colombia',KM:'Comoros',CG:'Congo',ZR:'Congo, The Democratic Republic Of The',CK:'Cook Islands',CR:'Costa Rica',CI:'Cote D\'Ivoire',HR:'Croatia (local name: Hrvatska)',CU:'Cuba',CY:'Cyprus',CZ:'Czech Republic',DK:'Denmark',DJ:'Djibouti',DM:'Dominica',DO:'Dominican Republic',TP:'East Timor',EC:'Ecuador',EG:'Egypt',SV:'El Salvador',GQ:'Equatorial Guinea',ER:'Eritrea',EE:'Estonia',ET:'Ethiopia',FK:'Falkland Islands (Malvinas)',FO:'Faroe Islands',FJ:'Fiji',FI:'Finland',FR:'France',FX:'France Metropolitan',GF:'French Guiana',PF:'French Polynesia',TF:'French Southern Territories',GA:'Gabon',GM:'Gambia',GE:'Georgia',DE:'Germany',GH:'Ghana',GI:'Gibraltar',GR:'Greece',GL:'Greenland',GD:'Grenada',GP:'Guadeloupe',GU:'Guam',GT:'Guatemala',GN:'Guinea',GW:'Guinea-Bissau',GY:'Guyana',HT:'Haiti',HM:'Heard and Mc Donald Islands',HN:'Honduras',HK:'Hong Kong',HU:'Hungary',IS:'Iceland',IN:'India',ID:'Indonesia',IR:'Iran (Islamic Republic of)',IQ:'Iraq',IE:'Ireland',IL:'Israel',IT:'Italy',JM:'Jamaica',JP:'Japan',JO:'Jordan',KZ:'Kazakhstan',KE:'Kenya',KI:'Kiribati',KS:'Kosovo',KW:'Kuwait',KG:'Kyrgyzstan',LA:'Lao People\'s Democratic Republic',LV:'Latvia',LB:'Lebanon',LS:'Lesotho',LR:'Liberia',LY:'Libyan Arab Jamahiriya',LI:'Liechtenstein',LT:'Lithuania',LU:'Luxembourg',MO:'Macau',MK:'Macedonia',MG:'Madagascar',MW:'Malawi',MY:'Malaysia',MV:'Maldives',ML:'Mali',MT:'Malta',MH:'Marshall Islands',MQ:'Martinique',MR:'Mauritania',MU:'Mauritius',YT:'Mayotte',MX:'Mexico',FM:'Micronesia',MD:'Moldova',MC:'Monaco',MN:'Mongolia',MS:'Montserrat',MA:'Morocco',MZ:'Mozambique',MM:'Myanmar',NA:'Namibia',NR:'Nauru',NP:'Nepal',NL:'Netherlands',AN:'Netherlands Antilles',NC:'New Caledonia',NZ:'New Zealand',NI:'Nicaragua',NE:'Niger',NG:'Nigeria',NU:'Niue',NF:'Norfolk Island',KP:'North Korea',MP:'Northern Mariana Islands',NO:'Norway',OM:'Oman',Other:'Other Country',PK:'Pakistan',PW:'Palau',PS:'Palestine',PA:'Panama',PG:'Papua New Guinea',PY:'Paraguay',PE:'Peru',PH:'Philippines',PN:'Pitcairn',PL:'Poland',PT:'Portugal',PR:'Puerto Rico',QA:'Qatar',RE:'Reunion',RO:'Romania',RU:'Russian Federation',RW:'Rwanda',KN:'Saint Kitts and Nevis',LC:'Saint Lucia',VC:'Saint Vincent and the Grenadines',WS:'Samoa',SM:'San Marino',ST:'Sao Tome and Principe',SA:'Saudi Arabia',SN:'Senegal',SC:'Seychelles',SL:'Sierra Leone',SG:'Singapore',SK:'Slovakia (Slovak Republic)',SI:'Slovenia',SB:'Solomon Islands',SO:'Somalia',ZA:'South Africa',KR:'South Korea',ES:'Spain',LK:'Sri Lanka',SH:'St. Helena',PM:'St. Pierre and Miquelon',SD:'Sudan',SR:'Suriname',SJ:'Svalbard and Jan Mayen Islands',SZ:'Swaziland',SE:'Sweden',CH:'Switzerland',SY:'Syrian Arab Republic',TW:'Taiwan',TJ:'Tajikistan',TZ:'Tanzania',TH:'Thailand',TG:'Togo',TK:'Tokelau',TO:'Tonga',TT:'Trinidad and Tobago',TN:'Tunisia',TR:'Turkey',TM:'Turkmenistan',TC:'Turks and Caicos Islands',TV:'Tuvalu',UG:'Uganda',UA:'Ukraine',AE:'United Arab Emirates',UK:'United Kingdom',US:'United States',UM:'United States Minor Outlying Islands',UY:'Uruguay',UZ:'Uzbekistan',VU:'Vanuatu',VA:'Vatican City State (Holy See)',VE:'Venezuela',VN:'Vietnam',VG:'Virgin Islands (British)',VI:'Virgin Islands (U.S.)',WF:'Wallis And Futuna Islands',EH:'Western Sahara',YE:'Yemen',YU:'Yugoslavia',ZM:'Zambia',ZW:'Zimbabwe'},submitErrors:{isEmpty:"Please input a search term.",tooLong:"please input a search term less than 50 characters.",onlyEng:"Sorry, the information you filled in is not in English. Please input the information in English instead."},setups:{product:{type:'product',actionUrl:'http://www.alibaba.com/trade/search',indexArea:'product_en',submitFormWhenClicked:false},sell:{type:'sell',actionUrl:'http://www.alibaba.com/trade/search',indexArea:'offer_en',submitFormWhenClicked:false},company:{type:'company',actionUrl:'http://www.alibaba.com/trade/search',indexArea:'company_en',submitFormWhenClicked:false},buy:{type:'buy',actionUrl:'http://importer.alibaba.com/buyeroffers',indexArea:'offer_en',submitFormWhenClicked:false},tradeShows:{type:'tradeShows',actionUrl:'http://tradeshow.alibaba.com/search',indexArea:'ts_en',submitFormWhenClicked:false}},fackSelectorConfig:{selectId:"searchCategory",fakeSelectId:"fakeSelectorBox",selectBoxWH:[244,20],selectBoxZIndex:1000,optionBoxTop:"23px",arrowBoxLeft:"235px"},historyInput:{tab:get("historyTab"),searchInput:get("historySearchInput"),searchCountry:get("historySearchCountry")}}
this.manualSubmit=new YAHOO.util.CustomEvent('manualSubmit',this);this.kwdFromItlSearch=false;}
AE.searchBar.prototype={init:function(config){this.config=YL.merge(this.config,config||{});this.defineEvent();this.defaultRun();return this;},defineEvent:function(){var _self=this;var config=_self.config;var tabs=config.tabsBox.getElementsByTagName("a");var searchSelects=config.bar.getElementsByTagName("select");_self.config.tabs=tabs;_self.config.searchSelects=searchSelects;var searchInput=config.searchInput;var searchForm=config.form;YUE.on(tabs,"click",function(){if(YUD.hasClass(this.parentNode,'current'))return true;return _self.searchTabClick(this);})
YUE.on(searchInput,"click",function(ev){_self.searchHint(this,"disable");})
YUE.on(searchSelects,"mouseover",function(ev){YUE.removeListener(this,ev.type,arguments.callee);_self.fillSelect(this);})
YUE.on(searchSelects,"focus",function(ev){YUE.removeListener(this,ev.type,arguments.callee);_self.fillSelect(this);})
YUE.on(searchForm,"submit",function(ev){return _self.searchFormSubmit();})
YUE.onDOMReady(function(){_self.historyRestore();})
if(config.countrySelect){YUE.on(config.countrySelect,"change",function(ev){_self.countrySelectsChange(this);})}},defaultRun:function(){var _self=this;var config=this.config;this.tabSelected=YUD.getElementsByClassName("current","*",config.tabsBox)[0];this.selectedType=this.tabSelected.getElementsByTagName("a")[0].id;var searchInput=config.searchInput;if((searchInput.value!=this.tabSelected.getElementsByTagName("a")[0].getAttribute("hint"))&&(searchInput.value!=""||searchInput.getAttribute("hasKeyword")=="true")){searchInput.hasFocus=true;searchInput.value=XMLDecode(searchInput.value);if(typeof(logKeywordsHistory)=='function'){logKeywordsHistory(searchInput.value)};}else{this.searchHint(searchInput,"hint",this.tabSelected.getElementsByTagName("a")[0].getAttribute("hint"));}
config.form.attributes["action"].value=config.setups[this.selectedType].actionUrl;this.defaultSelect();_self.intelligentObj=this.intSearchIntelligent();if(get(config.fackSelectorConfig.selectId)){var selectorTop=new AE.widget.xSelector();selectorTop.init(config.fackSelectorConfig);_self.selectorTop=selectorTop;}
if(config.onlyOneShow){YUE.on(config.searchInput,"click",function(){_self.selectorTop.rollup();})
if(get(config.fackSelectorConfig.selectId)){YUE.on(config.fackSelectorConfig.fakeSelectId,"click",function(){_self.intelligentObj.UIController.hideList();})}}},searchTabClick:function(tab){var config=this.config;if(YUD.hasClass(tab.parentNode,"current")){return false};if((/https?:\/\/[^/]+/i).test(tab.href))return true;this.selectedType=tab.id;var searchType=tab.id;var searchInput=config.searchInput;if(!searchInput.hasFocus||searchInput.value==""){this.searchHint(searchInput,"hint",tab.getAttribute("hint"));}else{searchInput.focus();}
YUD.removeClass(this.tabSelected,"current")
this.tabSelected=tab.parentNode;YUD.addClass(this.tabSelected,"current");var oSearchConfig=config.setups[searchType];config.form.attributes["action"].value=oSearchConfig.actionUrl;config.hiddenIndexArea.value=oSearchConfig.indexArea;if(searchType==oSearchConfig.indexArea&&oSearchConfig.submitFormWhenClicked){this.searchFormSubmit()}
return false;},intSearchIntelligent:function(){var _self=this;if(this.config.intelSearchConfig){var controller=new AE.widget.intelligentSearch();controller.init(this.config.intelSearchConfig);controller.onSetInputElValue.subscribe(function(){_self.kwdFromItlSearch=true;});controller.onFormSubmit.subscribe(function(){_self.dataRecord();});return controller;}},searchHint:function(input,type,hintText){var _self=this;if(type=="hint"&&hintText){input.value=hintText;YUD.addClass(input,_self.config.hintClass);input.hasFocus=false;this.collapseInput(input);}else if(type=="disable"){YUD.removeClass(input,_self.config.hintClass);if(input.hasFocus==false){input.value="";}
input.hasFocus=true;}
YUE.on(input,"keydown",function(ev){if(input.hasFocus){return;}
_self.searchHint(input,"disable");input.hasFocus=true;})
YUE.on(input,"paste",function(ev){if(input.hasFocus){return;}
_self.searchHint(input,"disable");input.hasFocus=true;})},collapseInput:function(input){var isHashMode=(window.location.hash.replace("#","").length==0);var isCollapseCategories=YUD.getElementsByClassName("categories-collapse").length>0;if(input.createTextRange){var rng=input.createTextRange();if(input.hasFocus)rng.moveStart('character',input.value.length);rng.collapse(true);if(isHashMode&&!isCollapseCategories)rng.select();}else if(input.setSelectionRange){var rng=input.setSelectionRange(0,0);}
if(isHashMode&&!isCollapseCategories)input.focus();},fillSelect:function(select){if(!select.linkData||select.filled)return;var dataObj=select.linkData;for(var key in dataObj){select.options.add(new Option(dataObj[key],key));}
select.filled=true;var key=select.getAttribute("selected");if(!key||key=="")return;if(dataObj[key]){select.remove(select.selectedIndex);select.value=key;}},defaultSelect:function(){var config=this.config;for(i=0;i<config.searchSelects.length;i++){var select=config.searchSelects[i];var dataName=select.getAttribute("dataName");if(!dataName||dataName=="")continue;select.linkData=config.selectlinkDatas[dataName];if(!select.linkData)continue;var key=select.getAttribute("selected");if(!key||key=="")continue;if(select.linkData[key]){select.selectedOp=select.options.add(new Option(select.linkData[key],key));select.value=key;}else{if(config.locations[key]){select.selectedOp=select.options.add(new Option(config.locations[key],key));select.value=key;eval("select.linkData."+key+" = '"+config.locations[key]+"';")}}}},searchFormSubmit:function(){var config=this.config;var historyInput=config.historyInput;var searchInput=config.searchInput;var submitErrors=config.submitErrors;if(trim(searchInput.value)==''||!searchInput.hasFocus){this._NoSearchTextDo();return false;}
if(searchInput.value.length>50){alert(submitErrors.tooLong);return false;}
if(!/^[\x00-\x7F]*$/.test(trim(searchInput.value))){alert(submitErrors.onlyEng);return false;}
historyInput.tab.value=this.selectedType;if(searchInput.hasFocus){historyInput.searchInput.value=searchInput.value;}
if(config.countrySelect){historyInput.searchCountry.value=config.countrySelect.value;}
if(!config.isBlank){YUE.removeListener(config.form,"submit");}
this.dataRecord();if(config.isNeedSubmit){config.form.submit();}else{this.manualSubmit.fire(config.form);}},countrySelectsChange:function(countrySelect){if(countrySelect.value=="advanceSearch"){location=this.config.advanceSearchLink;}},historyRestore:function(){var searchInput=this.config.searchInput;var historyInput=this.config.historyInput;if(historyInput.tab.value!=""){this.searchTabClick(get(historyInput.tab.value));}
if(historyInput.searchInput.value!=""){searchInput.hasFocus=true;this.searchHint(searchInput,"disable");searchInput.value=historyInput.searchInput.value;}},dataRecord:function(){if(!this.kwdFromItlSearch){return;}
var config=this.config,_self=this,searchForm=config.form,searchInput=config.searchInput,useSuggestion=_self.intelligentObj.UIController.needDisplayList,searchCatEl=get('catId')?get('catId'):get('searchCategory'),categoryLimited=searchCatEl.value==0,dataRecordServer='http://stat.alibaba.com/qr/ws_query_report.html',boldKeywordEls=YUD.getElementsByClassName('boldKeword','*','searchIntelligent'),boldKeyword=boldKeywordEls[0]?boldKeywordEls[0].innerHTML:'';useSuggestion=useSuggestion&&boldKeyword;var param={'ws_ckw':searchInput.value,'ws_category_id':searchCatEl.value,'ws_area':'Searchbar','ws_type':useSuggestion?(categoryLimited?'sugg1':'sugg0'):(categoryLimited?'1':'0'),'ws_value':useSuggestion?(searchInput.value+'_'+boldKeyword):searchInput.value};if(typeof dmtrack!='undefined'){dmtrack.clickstat(dataRecordServer,param);}},_NoSearchTextDo:function(){var host='http://www.aliexpress.com/',urlA=host+'activities/',urlB=host+'category/',targetUrl="";var catId=get('catId').value;switch(catId){case'0':targetUrl=host+'all-wholesale-products.html';break;case'26':targetUrl=urlA+'toys-hobbies/index.html';break;case'18':targetUrl=urlA+'Sports-Entertainment/index.html';break;case'322':targetUrl=urlA+'shoes/index.html';break;case'39':targetUrl=urlA+'lights_lighting/index.html';break;case'36':targetUrl=urlA+'jewelry-watch/index.html';break;case'15':targetUrl=urlA+'home_garden/index.html';break;case'44':targetUrl=urlA+'electronics/index.html';break;case'7':targetUrl=urlA+'computers-networking/index.html';break;case'509':targetUrl=urlA+'cell-phones/index.html';break;case'66':targetUrl=urlA+'beauty-personalcare/index.html';break;case'1524':targetUrl=urlA+'bags/index.html';break;case'34':targetUrl=urlA+'auto_parts/index.html';break;case'3':targetUrl=urlA+'apparel/index.html';break;case'0':targetUrl=urlA+'wedding-supplies/index.html';break;case'13':targetUrl=urlB+'13/home-improvement.html?g=y';break;case'5':targetUrl=urlB+'5/electrical-equipment-supplies.html';break;case'502':targetUrl=urlB+'502/electronic-components-supplies.html';break;case'2':targetUrl=urlB+'2/food.html';break;case'1503':targetUrl=urlB+'1503/furniture.html';break;case'17':targetUrl=urlB+'17/gifts-crafts.html?g=y';break;case'42':targetUrl=urlB+'42/hardware.html';break;case'6':targetUrl=urlB+'6/home-appliances.html?g=y';break;case'43':targetUrl=urlB+'43/machinery.html';break;case'1537':targetUrl=urlB+'1537/measurement-analysis-instruments.html';break;case'41':targetUrl=urlB+'41/mechanical-parts-fabrication-services.html';break;case'21':targetUrl=urlB+'21/office-school-supplies.html';break;case'23':targetUrl=urlB+'23/packaging-printing.html';break;case'80':targetUrl=urlB+'80/rubber-plastics.html';break;case'2829':targetUrl=urlB+'2829/service-equipment.html';break;case'4':targetUrl=urlB+'4/textiles-leather-products.html';break;case'1420':targetUrl=urlB+'1420/tools.html';break;case'30':targetUrl=urlB+'30/security-protection.html';break;case'1501':targetUrl=urlA+'apparel/index.html';break;case'200003590':targetUrl=urlB+'200003590/industry-business.html';break;case'1509':targetUrl=urlA+'jewelry-watch/index.html';break;case'1511':targetUrl=urlA+'watches/index.html';break;default:targetUrl=host+'all-wholesale-products.html';break;}
if(targetUrl!=''){window.location.href=targetUrl;}},hideIntelligentList:function(){this.intelligentObj.UIController.hideList();}};

AE.namespace('AE.app');if(!AE.app.categories){AE.app.categories=function(){this.config={categoryURL:'/api/get_activities_categories_v031515.htm',enterEl:'categories-title'};this.cache={isCachedCategory:false,channelwrap:null,allowEl:null,timer:null,cateItem:null};}
AE.app.categories.prototype={init:function(defConfig){var _self=this,config=_self.config,cache=_self.cache;config=YL.merge(config,defConfig||{});config.categoryURL+=window.location.href.replace(/^http:\/\/([^\/]*)\/.*$/gi,"$1");cache.allowEl=YUD.getElementsByClassName('categories-main','div',config.enterEl)[0];cache.channelwrap=get(config.enterEl).parentNode;_self._mouseEnter(config.enterEl,function(e){clearTimeout(_self.timer);_self.timer=setTimeout(function(){_self._run();},200);});_self._mouseLeave(config.enterEl,function(e){clearTimeout(_self.timer);_self._hide();});YUE.on(config.enterEl,'mouseover',_self._adjust,{_self:_self});},_run:function(){var _self=this,config=_self.config,cache=_self.cache;if(!cache.isCachedCategory){YAHOO.util.Connect.asyncRequest("GET",config.categoryURL,{cache:true,timeout:4000,failure:function(){},success:function(data){cache.cateItem=document.createElement('div');cache.cateItem.id='categories';cache.cateItem.className='cat';cache.cateItem.innerHTML=data.responseText;get(config.enterEl).appendChild(cache.cateItem)
cache.isCachedCategory=true;if(AE.bom.isIE6){_self._bindCateItem();}
_self._show();}})}else{_self._show();}},_bindCateItem:function(){cateItem=YUD.getElementsByClassName('cate-list-item','dl',this.config.enterEl);YUE.on(cateItem,"mouseover",function(){YUD.addClass(this,"cate-current")})
YUE.on(cateItem,"mouseout",function(){YUD.removeClass(this,"cate-current")})},_show:function(){var cache=this.cache;YUD.setStyle(cache.cateItem,"display","block");cache.allowEl.className="categories-main cate-expanded";YUD.setStyle(cache.channelwrap,"z-index","3");},_hide:function(){var cache=this.cache;YUD.setStyle(cache.cateItem,"display","none");cache.allowEl.className="categories-main";YUD.setStyle(cache.channelwrap,"z-index","0");},_adjust:function(ev,args){var target=ev.srcElement||ev.target;var ddEL=null;if(target.className=='cate-name'){ddEL=YUD.getNextSibling(target);}else if(target.tagName.toUpperCase()=='A'&&target.parentNode.className=='cate-name'){ddEL=YUD.getNextSibling(target.parentNode);}
if(ddEL){cateBox=ddEL.parentNode.parentNode.parentNode;cateBoxTop=YUD.getY(cateBox);subCateListTop=YUD.getY(ddEL);if(subCateListTop!=cateBoxTop){YUD.setStyle(ddEL,'top',cateBoxTop-subCateListTop+31+'px');}}},_contains:function(parentNode,childNode){try{var parentObj=YUD.get(parentNode);var childObj=YUD.get(childNode);if(!parentObj||!childObj){return false;}
return parentObj.contains?parentObj!=childObj&&parentObj.contains(childObj):!!(parentObj.compareDocumentPosition(childObj)&16);}catch(e){}},_checkHover:function(ev,target){var contains=this._contains;if(ev.type=="mouseover"){return!contains(target,ev.relatedTarget||ev.fromElement)&&!((ev.relatedTarget||ev.fromElement)===target);}else{return!contains(target,ev.relatedTarget||ev.toElement)&&!((ev.relatedTarget||ev.toElement)===target);}},_mouseEnter:function(el,fun){var _self=this;YUE.on(el,'mouseover',function(e,args){if(_self._checkHover(e,this)){fun.call(el,e);}},'');},_mouseLeave:function(el,fun){var _self=this;YUE.on(el,'mouseout',function(e,args){if(_self._checkHover(e,this)){fun.call(el,e);}},'');}}};

AE.namespace('AE.run');if(!AE.run.headerLoadCount){AE.run.headerLoadCount=function(){this.config={actionURL:'',actionSort:'',targetEleIdArr:[],backJsonpName:''};};AE.run.headerLoadCount.prototype={init:function(customConfig){this.config=YAHOO.lang.merge(this.config,customConfig||{});var _self=this,config=this.config;_self.sendURL({_self:_self});},sendURL:function(args){var _self=args._self;var actionSort=_self.config.actionSort;var actionURL=_self.createURL({_self:_self});if(actionSort==2&&window.isHideCartCount){return;}
YAHOO.util.Get.script(actionURL,{onSuccess:function(){var json=window[_self.config.backJsonpName];_self.insertResult({_self:_self,json:json});}});},createURL:function(args){var _self=args._self;var actionURL=_self.config.actionURL,actionSort=_self.config.actionSort;var actionParam;var memberSeq=AE.app.cookieInfo.memberSeq;var cookieSeq=AE.bom.getCookie('acs_usuc_t');if(actionSort==1){actionURL+='?memberSeq='+memberSeq+'&backName='+_self.config.backJsonpName+'&v=2010070415';return actionURL;}
if(actionSort==2){if(AE.bom.getCookie('xman_us_f')&&AE.bom.getCookie('xman_us_f').length>0){actionURL+='?memberSeq='+memberSeq+'&backName='+_self.config.backJsonpName+'&iframe_delete=true&v=2010070415';}else if(cookieSeq&&cookieSeq.length>0&&cookieSeq.indexOf("acs_rt=")!=-1){actionURL+='?memberSeq='+cookieSeq.substring("acs_rt=".length)+'&backName='+_self.config.backJsonpName+'&iframe_delete=true&v=2010070415';}else{actionURL+='?backName='+_self.config.backJsonpName+'&iframe_delete=true&v=2010070415';}
return actionURL;}},insertResult:function(args){var _self=args._self;var actionSort=_self.config.actionSort;var json=args.json;var targetEleIdArr=_self.config.targetEleIdArr;if(actionSort==1){if(json.status==200){var myOrders=get(targetEleIdArr[0]);_self.addStyle(myOrders,json,'current_order');var myCoupons=get(targetEleIdArr[1]);_self.addStyle(myCoupons,json,'coupon');}}
if(actionSort==2){if(json.status==200){var myShopcarts=get(targetEleIdArr[0]);_self.addStyle(myShopcarts,json,'cart_num');}}},addStyle:function(targetEle,json,jsonField){if(parseInt(json[jsonField],10)!==0){YUD.addClass(targetEle,'cart-active');}
if(get('isNewHeader')&&get('isNewHeader').value=='true'&&jsonField=='cart_num'){targetEle.innerHTML=json[jsonField];}else{targetEle.innerHTML='('+json[jsonField]+')';}}};}
if(!AE.run.loadMessageCount){AE.run.loadMessageCount=function(){this.config={messageActionURL:'',messageTargetEleId:''};};AE.run.loadMessageCount.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config;_self.changeSellerUrl();_self.sendURL({_self:_self});},changeSellerUrl:function(){if(get('my-messages')){var serviceType=AE.app.cookieInfo['serviceType'];if(serviceType==='cnfm'||serviceType==='cgs'){var currMes=get('h-my-messages');var unreadMes=get('h-unread-messages');var currUrl=currMes.getAttribute('href');var trueUrl=currUrl.replace(/us\.ae\.alibaba\.com/,'cn.ae.alibaba.com');currMes.setAttribute('href',trueUrl);unreadMes.setAttribute('href',trueUrl);}}},sendURL:function(args){var _self=args._self;var actionURL=_self.config.messageActionURL+'?v'+Math.random();YAHOO.util.Get.script(actionURL,{onSuccess:function(json){var json=window['message_num'];if(json){_self.insertResult({_self:_self,json:json});}}});},insertResult:function(args){var config=args._self.config;var json=args.json;var targetEle=get(config.messageTargetEleId);if(parseInt(json['unread_count'],10)>0&&config.messageTargetEleId==='my-messages'){var myAliexpressBox=YUD.getAncestorByTagName(targetEle,'ul');var myAliexpressList=YUD.getAncestorByTagName(targetEle,'li');var h_my_aliexpress=get('h-my-aliexpress');YUD.addClass(myAliexpressBox,'wide-ul');YUD.setStyle(myAliexpressList,'display','block');h_my_aliexpress.innerHTML+=' <b style="color:#f7941d; font-weight:bold;">('+json['unread_count']+')</b>';}
get(config.messageTargetEleId).innerHTML='<b style="color:#f7941d;">('+json['unread_count']+')</b>';}};};

YUE.on(window,'load',function(){var clickObj={'h-join-free':{projectId:'19201',buttonType:'join_free',objectValue:'join_free'},'h-sign-in':{projectId:'19201',buttonType:'sign_in',objectValue:'sign_in'},'ws-sign-facebook':{projectId:'19201',buttonType:'sign_in_with',objectValue:'sign_in_with'},'h-you':{projectId:'19201',buttonType:'you',objectValue:'you'},'h-my-aliexpress':{projectId:'19202',buttonType:'my_aliexpress',objectValue:'my_aliexpress'},'h-my-orders':{projectId:'19202',buttonType:'my_aliexpress',objectValue:'my_orders'},'h-my-list':{projectId:'19202',buttonType:'my_aliexpress',objectValue:'my_list'},'h-my-coupons':{projectId:'19202',buttonType:'my_aliexpress',objectValue:'my_coupons'},'h-help':{projectId:'19203',buttonType:'help',objectValue:'help'},'h-help-center':{projectId:'19203',buttonType:'help',objectValue:'help_center'},'h-help-service':{projectId:'19203',buttonType:'help',objectValue:'help_service'},'h-contact-us':{projectId:'19203',buttonType:'help',objectValue:'contact_us'},'h-submit-complaint':{projectId:'19203',buttonType:'help',objectValue:'submit_complaint'},'h-community':{projectId:'19204',buttonType:'community',objectValue:'community'},'h-buy-forum':{projectId:'19204',buttonType:'community',objectValue:'buyer_forum'},'h-aliexpress-blog':{projectId:'19204',buttonType:'community',objectValue:'aliexpress_blog'},'h-aliexpress-facebook':{projectId:'19204',buttonType:'community',objectValue:'aliexpress_facebook'},'h-alibaba':{projectId:'19205',buttonType:'alibaba.com',objectValue:'alibaba.com'},'h-aliexpress-logo':{projectId:'19200',buttonType:'aliexpress_logo',objectValue:'aliexpress_logo'},'search-bar':{projectId:'19209',buttonType:'search_bar',objectValue:'search_bar'},'fakeSelectorBox':{projectId:'35214',buttonType:'category_search',objectValue:'category_search'},'cart-lnk':{projectId:'19208',buttonType:'shopping_cart',objectValue:'shopping_cart'},'wish-lnk':{projectId:'19210',buttonType:'wish_list',objectValue:'wish_list'},'categories-title':{projectId:'19211',buttonType:'categories',objectValue:'categories'},'h-featured-brand':{projectId:'19212',buttonType:'channel',objectValue:'featured_brand'},'h-weddings-events':{projectId:'19212',buttonType:'channel',objectValue:'weddings_events'},'h-novelty-items':{projectId:'19212',buttonType:'channel',objectValue:'novelty_items'},'h-electronics':{projectId:'19212',buttonType:'channel',objectValue:'electronics'},'h-all-promotion':{projectId:'19212',buttonType:'channel',objectValue:'all_promotion'},'h-aliexpress-buyer-protection':{projectId:'19213',buttonType:'aliexpress_buyer_protection',objectValue:'aliexpress_buyer_protection'}}
var pageType,_fun;pageType=get('isHome')?'new_home':'non_new_home_page';for(key in clickObj){if(get(key)){_fun=(function(_key,_clickObj,_pageType){YUE.on(_key,'click',function(){if(AE.app.clickStat){AE.app.clickStat.buttonClick({projectId:_clickObj[_key].projectId,pageType:_pageType,buttonType:_clickObj[_key].buttonType,objectType:'1',objectValue:_clickObj[_key].objectValue});}});})(key,clickObj,pageType);}}
_fun=null;});;

YUE.onDOMReady(function(){if(get('isSeller')&&get('isSeller').value=="true"){var siteNavSellerHtml=' <span><a rel="nofollow" href="http://cn.ae.alibaba.com/index.htm?tracelog=wst_me_home">卖家入口</a></span>'
+'<ul>'
+'<li><a rel="nofollow" href="http://cn.ae.alibaba.com/wsuser/join/join_type_choose.htm?tracelog=wst_join">免费开店</a></li>'
+'<li><a rel="nofollow" target="_blank" href="http://seller.aliexpress.com/index.html?tracelog=wst_seller_channel">卖家频道</a></li>'
+'<li><a rel="nofollow" href="http://cn.ae.alibaba.com/wsproduct/post_wholesale_product.htm?tracelog=wst_post">发布产品</a></li>'
+'<li><a rel="nofollow" target="_blank" href="http://seller.aliexpress.com/about/intro.html?tracelog=wst_seller_intro">平台介绍</a></li>'
+'<li><a rel="nofollow" href="http://cn.ae.alibaba.com/wsproduct/manageproduct/manageProductList.htm?tracelog=wst_manage">管理产品</a></li>'
+'<li><a rel="nofollow" target="_blank" href="http://seller.aliexpress.com/product/index.html?tracelog=wst_seller_hot">热卖推荐</a></li>  '
+'<li><a rel="nofollow" href="http://escrow.alibaba.com/order/business_order_seller_homepage.htm?tracelog=wst_order">管理订单</a></li>'
+'<li><a rel="nofollow" target="_blank" href="http://seller.aliexpress.com/escrow/index.html?tracelog=wst_seller_escrow">支付服务</a></li>'
+'<li><a rel="nofollow" href="http://channel.alibaba.com/complaint/home.htm?tracelog=wst_complaint">投诉举报</a></li>'
+'<li><a rel="nofollow" target="_blank" href="http://seller.aliexpress.com/freight/index.html?tracelog=wst_seller_freight">物流服务</a></li>'
+'<li><a rel="nofollow" target="_blank" href="http://weibo.com/u/2272395080">官方微博</a></li>'
+'<li><a rel="nofollow" target="_blank" href="http://bbs.seller.aliexpress.com/bbs/?tracelog=wst_seller_bbs">卖家论坛</a></li>'
+'</ul>',targetEl=document.createElement('li');targetEl.className='site-subnav site-nav-seller';targetEl.innerHTML=siteNavSellerHtml;YUD.insertBefore(targetEl,YUD.getElementsByClassName('site-subnav','li','site-nav')[0]);}
if(AE.bom.isIE6){YUE.on(YUD.getElementsByClassName('site-subnav','li','site-nav'),'mouseover',function(){YUD.addClass(this,'site-subnav-active');});YUE.on(YUD.getElementsByClassName('site-subnav','li','site-nav'),'mouseout',function(){YUD.removeClass(this,'site-subnav-active');});}
if(typeof(AE.run.signState)!='undefined'){new AE.run.signState().init();}
if(typeof(AE.searchBar)!='undefined'){if(YUD.hasClass('channel-wrap','cw-intl')){listCssStyle='top:27px;left:10px;width:465px;';}else{listCssStyle='top:27px;left:10px;width:395px;';}
var actionUrl='';if(document.location.port){actionUrl='http://www.aliexpress.com:'+document.location.port+'/wholesale';}else{actionUrl='http://www.aliexpress.com/wholesale';}
var intelSearchConfig={url:'http://connectkeyword.aliexpress.com/lenoIframeJson.htm?iframe_delete=true',inputElId:'SearchTextIdx',listCssClass:'intelligentList',listCssStyle:listCssStyle,returnVarName:'intelSearchData',keyWordClass:'boldKeword'};var autoFlag=get('web-info:ws-is-auto-width');if(autoFlag&&autoFlag.value=='t'){intelSearchConfig.autoWidthFn=function(){var searchForm=get('SearchForm');var rightSpace=112;var autoFlag=get('web-info:ws-is-auto-width');var formWeight=searchForm.offsetWidth;return formWeight-rightSpace;};}
var config={bar:get('search-bar'),onlyOneShow:true,setups:{product:{actionUrl:actionUrl,indexArea:'product_en',submitFormWhenClicked:false}},fackSelectorConfig:{selectId:'searchCategory',fakeSelectId:'fakeSelectorBox',selectBoxWH:[0,0],selectBoxZIndex:'',optionBoxTop:'',optionBoxLeft:'',arrowBoxLeft:''},intelSearchConfig:intelSearchConfig};var searchBar=new AE.searchBar();searchBar.init(config);YUE.on('categories-title',"mouseover",function(ev){var target=YUE.getTarget(ev);if(target.nodeName=='A'){searchBar.hideIntelligentList();}});YUE.on('cate-list',"mouseover",function(ev){var target=YUE.getTarget(ev);if(target.nodeName=='A'){searchBar.hideIntelligentList();}});}
if(typeof(AE.app.categories)!='undefined'){if(!get('web-info:ws-reg-ori')||get('web-info:ws-reg-ori').value!='home'){new AE.app.categories().init({categoryURL:'/api/get_activities_categories_v031515.htm',enterEl:'categories-title'});}}
if(typeof(AE.app.cookieInfo)!='undefined'){if(AE.bom.getCookie('xman_us_f')||AE.bom.getCookie('acs_usuc_t')){if(get('my-shopcarts')){var port=location.port;var actionURL='http://shoppingcart.aliexpress.com/shopcart/ajax_buyer_shopcart_num.htm';if(port!==''){actionURL='http://shoppingcart.aliexpress.com:'+port+'/shopcart/ajax_buyer_shopcart_num.htm';}
(new AE.run.headerLoadCount()).init({actionURL:actionURL,actionSort:2,targetEleIdArr:['my-shopcarts'],backJsonpName:'ws_header_shopcart'});}}}
(function(){if(get('annive-main-v1')){if(get('annive-main-v1').getAttribute('data-flag')){return false;}
get('annive-main-v1').setAttribute('data-flag','1');var formInsertDone=false;var html=['<div class="annive-box">','<div class="graph-bg1 hot-pic-1" style="position:relative;">','<img src="http://img.alibaba.com/images/cms/upload/wholesale/icons/opacity0.png" alt="" usemap="#map_summer_sale_1" width="495px" height="334px">','<map name="map_summer_sale_1" id="map_summer_sale_1">','<area shape="rect" coords="51,44,174,177" href="http://www.aliexpress.com/store/product/I9300-Original-Unlocked-Samsung-I9300-Galaxy-S-III-Galaxy-3-Mobile-Phone-In-Stock/409541_576496823.html" alt=""/>','<area shape="rect" coords="182,24,285,331" href="http://www.aliexpress.com/store/product/Free-Shipping-Milk-silk-stereo-multilevel-modelling-falbala-modify-a-word-brought-dew-shoulder-garment-T/504487_518004380.html" />','<area shape="rect" coords="52,206,171,306" href="http://www.aliexpress.com/store/product/M38-B5800-3D-Jigsaw-Puzzle-Lego-type-Building-Block-Set-Enlighten-Brick-Toy-Christmas-Gift/805596_470418953.html" />','<area shape="rect" coords="310,232,389,289" href="http://www.aliexpress.com/store/product/Free-Shipping-Bohemia-Style-Gold-Jewelry-Set-Rhinestone-Jewellery-Necklaces-Earrings-18KS061/402120_545904781.html" />','</map>','</div>','<div class="graph-bg1 hot-pic-2" style="position:relative;">','<img src="http://img.alibaba.com/images/cms/upload/wholesale/icons/opacity0.png" alt="" usemap="#map_summer_sale_2" width="495px" height="334px">','<map name="map_summer_sale_2" id="map_summer_sale_2">','<area shape="rect" coords="188,32,297,331" href="http://www.aliexpress.com/store/product/2012-summer-strongly-recommend-Charm-bright-colors-Soft-falbala-thin-shoulder-t-shirts-upper-outer-garment/504487_545530809.html" />','<area shape="poly" coords="134,141,86,181,156,267,179,211" href="http://www.aliexpress.com/store/product/Nissen-Cotton-Baby-Summer-Romper-Short-Sleeved-Bodysuits-Free-Shipping-Retail-Wholesale/312575_477843560.html" />','<area shape="rect" coords="41,240,128,304" href="http://www.aliexpress.com/store/product/Frying-Pan-Free-Shipping-Mini-lovely-Shaped-Egg-Fry-pan-BUY-8-FOR-1-FREE-cook/316224_477007803.html" />','<area shape="rect" coords="316,190,394,291" href="http://www.aliexpress.com/store/product/Free-shipping-Ainol-NOVO-7-ELF-7-inch-Multi-touch-capacitance-Android-4-0-tablet-pc/901666_533076329.html" />','</map>','</div>','<div class="graph-bg2">','</div>','<a href="#" class="annive-close-btn" id="annive-close-btn"></a>','<div class="acnive-con">','<div class="acnive-join" id="acnive-join">','<iframe name="smartform" src="about:blank">','</iframe>','<form id="form-smart" target="smartform" action="http://smartform.alibaba.com/app/submit_result.htm" method="POST">','<label class="subscribe-tip">Don’t miss out! Subscribe now: </label>','<input type="text" name="item_200077500" id="item_200077500" date-placer="please input your email address" class="subscribe-now">','<input type="button" id="commit-btn" class="commit-btn" value="" hidefocus="true"><input type="hidden" name="action" value="app:smart_form_app_action"><input type="hidden" name="formId" value="200067500">','</form>','</div>','<div class="succeed-tips" id="succeed-tips">','<span></span>You have successfully subscribed!','</div>','</div>','<div class="acnive-guide">','<p class="prompt-info">',' Not a member of AliExpress? <a href="http://us.ae.alibaba.com/wsuser/buyerJoin/expressJoin.htm?return=www.aliexpress.com" title="Join now">Join now</a>','</p>','<ul class="ug-guide">',' <li class="ugf-twit">','  <a href="http://twitter.com/aliexpresstalk" target="_blank" rel="nofollow">Follow us on Twitter</a>','</li>','<li class="ugf-fb">','   <a href="http://www.facebook.com/shopaliexpress" target="_blank" rel="nofollow">Like us on Facebook</a>','</li>','</ul>','</div>','</div>'];var hideAnniveMain=function(){YUD.setStyle('annive-main-v1','display','none');YUD.setStyle('shade-layer-annive','display','none');YUD.removeClass('btn-annive-main-v1','current');};var showAnniveMain=function(){YUD.setStyle('annive-main-v1','display','block');YUD.setStyle('shade-layer-annive','display','block');YUD.addClass('btn-annive-main-v1','current');};var buildDom=function(){get('annive-main-v1').innerHTML=html.join('');YUE.on('annive-main-v1','click',function(e){YUE.stopPropagation(e);});YUE.on('item_200077500','focus',function(){if(this.value==this.getAttribute('date-placer')){this.value='';}});get('item_200077500').value=get('item_200077500').getAttribute('date-placer');YUE.on('commit-btn','click',function(){var inpMail=get('item_200077500'),mail=inpMail.value,placer=inpMail.getAttribute('date-placer');if(mail.match(/^[A-Za-z0-9_]+((\.|\-)?[A-Za-z0-9_]*)*@([A-Za-z0-9-]*\.){1,2}[A-Za-z]*$/gi)){get('form-smart').submit();YUD.setStyle('succeed-tips','display','block');YUD.setStyle('acnive-join','display','none');}else{inpMail.value=placer;}});YUE.on(document.body,'click',hideAnniveMain);YUE.on('annive-close-btn','click',hideAnniveMain);};YUE.on(['btn-annive-main-v1'],'click',function(e){var state=YUD.getStyle('annive-main-v1','display');if(!formInsertDone){formInsertDone=true;buildDom();}
if(state=='block'){hideAnniveMain();}else{showAnniveMain();}
YUE.stopEvent(e);});}})();if(AE.app.cookieInfo['firstName']&&get('my-messages')){var port=location.port;var _messageActionURL='http://message.aliexpress.com/message/messageUnreadCountAjaxService.htm';if(port!==''){_messageActionURL='http://message.aliexpress.com:2080/message/messageUnreadCountAjaxService.htm';}
var headerLoadMessageCount=new AE.run.loadMessageCount();headerLoadMessageCount.init({messageActionURL:_messageActionURL,messageTargetEleId:'my-messages'});}});(function(){var domStr='<a href="http://cn.ae.alibaba.com/wsuser/join/join_type_choose.htm?tracelog=seller_banner12082801" class="open-shop">免费开店</a>'+'<a href="http://seller.aliexpress.com/index.html?tracelog=seller_banner12082802" class="grasp-aliexpress">了解速卖通</a>';var reg=/^http:\/\/www.aliexpress.com(\/|\/index.html|\/home2.html)*$/;if(document.getElementById('userCountryCode')&&reg.test(location.href)){var insertTo=document.getElementById('global-nav');var insert=document.createElement('div');insert.className='bulletin-top';insert.innerHTML=domStr;var countryInfo=document.getElementById('userCountryCode').value;if(countryInfo=='CN'&&insertTo){insertTo.parentNode.insertBefore(insert,insertTo);}}})();function googleTranslateElementInit(){new google.translate.TranslateElement({pageLanguage:'en',layout:google.translate.TranslateElement.InlineLayout.SIMPLE,autoDisplay:false,gaTrack:true,gaId:'UA-17640202-1'},'google_translate_element');try{YUE.on(document.body,'click',function(){YUD.setStyle('google-translate-tip','display','none');});YUE.on('google-translate-mask','click',function(e){YUE.stopEvent(e);YUD.setStyle('google-translate-tip','display','block');});YUE.on('google-translate-goon','click',function(e){YUE.stopEvent(e);YUD.setStyle('google-translate-tip','display','none');get('google-translate-mask').parentNode.removeChild(get('google-translate-mask'));get('google-translate-tip').parentNode.removeChild(get('google-translate-tip'));YUD.getElementsByClassName('goog-te-menu-value','a','google_translate_element',function(){if(AE.bom.isIE){this.click();}else{var evt=document.createEvent('MouseEvents');evt.initEvent('click',true,true);this.dispatchEvent(evt);}});if(window.localStorage&&!localStorage.googleTranslateTip){localStorage.googleTranslateTip='1';}});YUD.getElementsByClassName('goog-te-gadget-simple','*','google_translate_element',function(){this.style.cssText='padding:0;border:0;height:21px;';if(this.getElementsByTagName('span')[0]){this.getElementsByTagName('span')[0].style.cssText='';}});YUD.getElementsByClassName('goog-te-gadget-icon','img','google_translate_element',function(){this.style.cssText='width: 10px; height: 10px; background: url(http://i02.i.aliimg.com/wimg/buyer/single/google-translate-logo.png) no-repeat;';});YUD.getElementsByClassName('goog-te-menu-value','a','google_translate_element',function(){var clickPageType='';this.style.cssText='font-weight: 400; color: #666; font-size: 12px;';if(window.PAGE_TIMING&&PAGE_TIMING.pageType){switch(PAGE_TIMING.pageType){case'list':clickPageType='list';break;case'shopcart':clickPageType='shopping_cart';break;case'home2':case'home':clickPageType='home_page';break;case'detail':clickPageType='product_detail';break;}}else{if(window.location.hostname=='help.aliexpress.com'||window.helpCfg){clickPageType='help_center';}}
YUE.on(this,'mousedown',function(){if(AE.app.clickStat){AE.app.clickStat.buttonClick({projectId:'99999',pageType:clickPageType,buttonType:'google_choose_lan'});}});});}catch(e){}}
YUE.on(window,"load",function(){var googleTranslateTip='<div id="google-translate-mask" class="google-translate-mask"></div>'+'<div id="google-translate-tip" class="google-translate-tip">'+'<dl class="gt-info">'+'<dt>Please kindly note:</dt>'+'<dd>1. All translations are provided by the add-on tool from Google. There\'s a possibility of inaccurate translations.</dd>'+'<dd>2. If you want to change back to English, please select "English" in the top bar menu or click the button "Show original".</dd>'+'<dd class="gt-action"><a href="javascript:void(0)" id="google-translate-goon">Confirm</a></dd>'+'</dl>'+'</div>';if(window.PAGE_TIMING&&PAGE_TIMING.pageType){if(PAGE_TIMING.pageType=='detail'){YUD.addClass('inf-add-to-cart','notranslate');YUD.getElementsByClassName('price','','buy-now-form',function(){YUD.addClass(YUD.getElementsByClassName('currency','',this)[0],'notranslate');});}
if(PAGE_TIMING.pageType=='list'){YUD.getElementsByClassName('price','','list-items',function(){YUD.addClass(YUD.getElementsByClassName('value','',this)[0],'notranslate');});}}
if(get('site-nav')){var googleTranslateElement=document.createElement('li');YUD.addClass(googleTranslateElement,'site-nav-google-translate');googleTranslateElement.setAttribute('id','site-nav-google-translate');googleTranslateElement.style.cssText='background-position:-419px -94px;margin-left:9px;';if(window.localStorage&&localStorage.googleTranslateTip==='1'){googleTranslateTip='';}
googleTranslateElement.innerHTML=googleTranslateTip+'<div id="google_translate_element"></div>';get('site-nav').appendChild(googleTranslateElement);YUD.setStyle('site-nav','width','auto');YAHOO.util.Get.script('//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit');}});;

AE.namespace('P4P').ExpressView=(function(){var YUD=YAHOO.util.Dom,YUE=YAHOO.util.Event,YUC=YAHOO.util.Connect,YL=YAHOO.lang,YUH=YAHOO.util.History,customEvent=YAHOO.util.CustomEvent;var PAGE_WIDTH=1210;var SIDE='side';var BOTTOM='bottom';var _scfg={'title':'Premium Related Products','advlang':'EN','urlPrefix':'http://www.aliexpress.com/b2bad.html','categoryBrowse':0,'mt':'ec','keyword':'wood','ip':'','pageIndex':1,'offertype':'','domain':'','dcatid':'','_custid':'','currentLang':'EN','count':5,'offset':0,'id':'p4pHotProductsSide','wrapId':'p4p-right-side-wrap','pid':'','type':'side','imgSizeRule':'120x120','dl':'r'},_bcfg={'title':'Premium Related Products','advlang':'EN','urlPrefix':'http://www.aliexpress.com/b2bad.html','categoryBrowse':0,'mt':'ec','keyword':'wood','ip':'','pageIndex':1,'offertype':'','domain':'','dcatid':'','_custid':'','currentLang':'EN','count':4,'offset':0,'id':'p4pHotProducts','wrapId':'p4pHotProducts','pid':'','type':'bottom','imgSizeRule':'200x200',"dl":'r'},_ocnfig={'onlineClassName':'atm16','offlineTitle':'Leave me a message','onlineTitle':'Chat with me now','onlineInnerHtml':'Chat now!','offlineInnerHtml':'Offline','offlineClassName':'atm16grey','origin':'aliexpress_ws_search','aliAliTalkClassName':'p4pAliTalk','p4pWrapId':'page'},_url=null,_sUrl=null,_bUrl=null,_currentOffset=0,_customerids=[],_atmProductIds='',_pageIndex=1,_isCtrBottom=false,_sessionId='',_requestSide=false,_requestBottom=false,_onLine=[];function _getUnique(){return(new Date()).getTime()+Math.floor((Math.random()+1)*1000).toString();}
function _setWrapIdNone(type){var targetSideWrap=YUD.get(_scfg.wrapId),targetBottomWrap=YUD.get(_bcfg.wrapId);if(targetSideWrap&&type==SIDE){YUD.setStyle(targetSideWrap,'display','none');}
if(targetBottomWrap&&type==BOTTOM){YUD.setStyle(targetBottomWrap,'display','none');}}
function isEmptyObject(O){  for(var k in O){    return false;  }
  return true;}
function _getHighlightWords(str){if(!str){return[];}
var posBegin,posEnd,arrResult=[];while((posBegin=str.indexOf('<b>'))!=-1&&(posEnd=str.indexOf('</b>'))!=-1){arrResult.push(str.substring(posBegin+3,posEnd));str=str.substr(str.indexOf('</b>')+4);}
return arrResult;}
function _shrinkTitle(title,length,arrKeywords){var i,l,reg;if(title.length>length){title=title.substr(0,length)+'...';}
for(var i=0,l=arrKeywords.length;i<l;i++){reg=new RegExp('\\b'+arrKeywords[i]+'\\b','gi');title=title.replace(reg,'<font><b>'+arrKeywords[i]+'</b></font>');}
return title;}
function _autoSetImg(objImg){var img=new Image();img.src=objImg.src;var w=img.width,h=img.height,rWidth=160;if(w>=h&&w>rWidth){objImg.width=rWidth;}else if(w<h&&h>rWidth){objImg.height=rWidth;}
if(YAHOO.env.ua.ie==6||YAHOO.env.ua.ie==7){var marginTop=parseInt((rWidth-parseInt(objImg.height,10))/2,10);YUD.setStyle(objImg.parentNode.parentNode,'marginTop',marginTop+'px');}}
function _buildRequestList(){var docWidth=YUD.getDocumentWidth(),targetSideWrap=YUD.get(_scfg.wrapId);var pageId=YUD.get('page');var isRightRequest=false;if(docWidth<PAGE_WIDTH){_sendRequestBottom(_bcfg,_bcfg.offset);_setWrapIdNone(_scfg.type);YUD.removeClass(pageId,'autosize_wrap');isRightRequest=true;}else{if(YUD.get(_scfg.id)){_sendRequestSide(_scfg);}else{_sendRequestBottom(_bcfg,_bcfg.offset);}}
YUE.on(window,'resize',function(){if(!!resizeTimeout){clearTimeout(resizeTimeout);}
var resizeTimeout=setTimeout(function(){docWidth=YUD.getDocumentWidth();if(targetSideWrap){if(docWidth<PAGE_WIDTH){YUD.setStyle(targetSideWrap,'display','none');YUD.removeClass(pageId,'autosize_wrap')}else{if(isRightRequest){YUD.setStyle(targetSideWrap,'display','none');YUD.removeClass(pageId,'autosize_wrap');}else if(_requestSide){YUD.setStyle(targetSideWrap,'display','block');YUD.addClass(pageId,'autosize_wrap');}}}},0);});}
function _initEvent(){var _self=this;if(YUD.get(_bcfg.id)){YUE.on(_bcfg.id,'click',_bottomPageTurnOnclick,_self,true);YUE.on(_bcfg.id,'click',_adLogOnclickFn,_self,true);}
if(YUD.get(_scfg.id)){YUE.on(_scfg.id,'click',_adLogOnclickFn,_self,true);}}
function _setPageOffset(scfg,bcfg){var pageOffsetSide=0,pageOffsetBottom=0,reg=/^-?[1-9]\d*$/;if(reg.test(scfg.pageIndex)||reg.test(bcfg.pageIndex)){_pageIndex=scfg.pageIndex?_pageIndex=scfg.pageIndex:_pageIndex=bcfg.pageIndex;}
if(_pageIndex!==1){pageOffsetSide=(_pageIndex-1)*bcfg.count+(_pageIndex-2)*scfg.count;pageOffsetBottom=(_pageIndex-1)*scfg.count+(_pageIndex-1)*bcfg.count;}
_scfg.offset=pageOffsetSide;_bcfg.offset=pageOffsetBottom;_currentOffset=pageOffsetBottom;}
function _setOnlineStatus(atatus){var online=0;if(!YL.isNumber(atatus)){return false;}
if(atatus===1){online=1;}else{online=0;}
return online;}
function _createProductStr(Obj,i,type,ocnfig,sessionId){var html_str='';var pureTitle=Obj.PURETITLE.replace('"','&quot;');var title=Obj.TITLE;var price=Obj.PRICERANGE.replace(/\s+/g,"");html_str+='<li class="p4p-list-item" data-session-id="'+sessionId+'" data-product-id="'+Obj.RESOURCEID+'" data-ctr="0" ><div class="p4pImgWrapper"><div class="p4pImgInnerWrapper">';html_str+='<a rel="nofollow" target="_blank" title="'+pureTitle+'" href="'+Obj.DETAILURL+'" eurl="'+Obj.EURL+'">';html_str+='<img alt="'+pureTitle+'" ';if(type==SIDE){html_str+='src="'+Obj.IMAGEURL1+'">';}else{html_str+='src="'+Obj.IMAGEURL2+'">';}
html_str+='</a>';html_str+='</div></div>';html_str+='<p class="p4pProductTitle">';html_str+='<a rel="nofollow" target="_blank" title="'+pureTitle+'"  href="'+Obj.DETAILURL+'" eurl="'+Obj.EURL+'">';html_str+=_shrinkTitle(Obj.PURETITLE,(type==SIDE?35:45),_getHighlightWords(title));html_str+='</a>';html_str+='</p>';if(Obj.PRICERANGE||Obj.PRICERANGE!==undefined){html_str+='<p class="p4pPricelist"> US $'+price;if(Obj.PRODUCTUNIT||Obj.PRODUCTUNIT!==undefined){html_str+='<span> /'+Obj.PRODUCTUNIT+'</span></p>';}else{html_str+='<span> /Piece</span></p>';}}
if(Obj.ONLINESTATUS||Obj.ONLINESTATUS!==undefined){html_str+='<p class="p4pMoreInfo">';html_str+='<a class="'+ocnfig.aliAliTalkClassName+'"';if(type=='side'){html_str+='id="p4pAlitalkS'+i+'"';}else{html_str+='id="p4pAlitalkB'+i+'"';}
html_str+='from="11" id1="'+Obj.RESOURCEID+'" online="';html_str+=_setOnlineStatus(Obj.ONLINESTATUS);html_str+='" memberid="'+Obj.ENCRYPTALITALKID+'" eurl="'+Obj.EURL+'" href="javascript:void(0);" title="Leave me a message" rel="nofollow" >'+ocnfig.offlineInnerHtml+'</a>';html_str+='</p>';}
html_str+='</li>'
return html_str;}
function _statCtrInitPage(){AE.use(['common.aliexpress.Ctr'],function(Ctr){var ctr=new Ctr({statUrl:'http://stat.alibaba.com/ctr/aliexpress_p4p_ctr.html',statParams:{session_id:'data-session-id',product_id:'data-product-id'},targetClass:'p4p-list-item',ctrRegular:{xscrollOn:false,top:0.1,right:0,bottom:0.4,left:0}});});}
function _decorateSidePro(Obj){var numberSide=_scfg.count,type=_scfg.type,_sideHTML='',arrAlitalkS=[];if(typeof Obj.PRODUCTS==='undefined'||Obj.DOCSFOUND===0||Obj.PRODUCTS.length<1){return false;}
if(!YUD.get(_scfg.id)){return false;}
_sideHTML+='<h4>'+_scfg.title+'</h4>';_sideHTML+='<div class="p4p-side-container">';_sideHTML+='<ul id="p4p-side-content" class="p4p-side-content clearfix">';for(var i=0,l=Obj.PRODUCTS.length;i<l&&i<numberSide;i++){_sideHTML+=_createProductStr(Obj.PRODUCTS[i],i,type,_ocnfig,Obj.SESSIONID);arrAlitalkS.push('p4pAlitalkS'+i);}
_sideHTML+='</ul>';_sideHTML+='</div>';if(YUD.get('page')){var pageId=YUD.get('page');YUD.addClass(pageId,'autosize_wrap')}
YUD.addClass(_scfg.id,'p4pExpress p4p-side');YUD.get(_scfg.id).innerHTML=_sideHTML;_onAlitalkSuccess(numberSide,_onLine,arrAlitalkS);if(!_requestBottom&&_requestSide){_bindEventATMIcon();}}
function _decorateBottomPro(Obj){var numberBottom=_bcfg.count,found=Obj.DOCSFOUND,type=_bcfg.type,_botHTML='',arrAlitalkB=[];if(typeof Obj.PRODUCTS==='undefined'||found===0||Obj.PRODUCTS.length<1){return false;}
if(!YUD.get(_bcfg.id)&&found<numberBottom){return false;}
_botHTML+='<h4>'+_bcfg.title+'</h4>';_botHTML+='<div id="relatied-product-slide" class="relatied-product-slide">';_botHTML+='<div class="relatied-products-container">';_botHTML+='<ul id="p4p-ul-content" class="p4p-bottom-content clearfix">';for(var i=0,l=Obj.PRODUCTS.length;i<l&&i<numberBottom;i++){_botHTML+=_createProductStr(Obj.PRODUCTS[i],i,type,_ocnfig,Obj.SESSIONID);arrAlitalkB.push('p4pAlitalkB'+i);}
_botHTML+='</ul>';_botHTML+='</div>';_botHTML+='<a class="lnk-prev"';_botHTML+=' id="lnk-prev" title="previous page"></a>';if((_bcfg.offset+numberBottom)>=found){_botHTML+='<a class="lnk-next lnk-next-disabled"';}else{_botHTML+='<a class="lnk-next"';}
_botHTML+=' id="lnk-next" title="next page"></a>';_botHTML+='</div>';_botHTML+='<div class="p4pClearfix"></div>';YUD.addClass(YUD.get(_bcfg.id),'p4pExpress');YUD.get(_bcfg.id).innerHTML=_botHTML;_setBottomButtonState(_currentOffset,found);_onAlitalkSuccess(numberBottom,_onLine,arrAlitalkB);if(_requestBottom){_bindEventATMIcon();}}
function _setBottomButtonState(offset,found){if(offset===0){YUD.removeClass('lnk-next','lnk-next-disabled');YUD.get('lnk-prev').className='lnk-prev lnk-prev-disabled';if(_bcfg.count>=found){YUD.get('lnk-next').className='lnk-next lnk-next-disabled';}
return false;}else if((offset+_bcfg.count)>=found){YUD.removeClass('lnk-prev','lnk-prev-disabled');YUD.get('lnk-next').className='lnk-next lnk-next-disabled';return false;}}
function _ctrSessionBottom(_isCtr){if(_isCtr){var targetClass=YUD.getElementsByClassName('p4p-list-item','li','p4pHotProducts');AE.use(['common.aliexpress.P4pCtrBottom'],function(Ctr){Ctr.statCtr(_atmProducts,_sessionId,targetClass);});}}
function _bottomPageTurnOnclick(ev){var target=YUE.getTarget(ev),count=_bcfg.count;_isCtrBottom=true;if(_bcfg.urlPrefix===''||target.className=='lnk-next lnk-next-disabled'||target.className=='lnk-next lnk-next-disabled'){return false;}
if(target.className==='lnk-prev'){_currentOffset=_currentOffset>count?_currentOffset-count:0;if(_currentOffset===0){_sendRequestBottom(_bcfg,_currentOffset);return false;}else{_sendRequestBottom(_bcfg,_currentOffset);}}
if(target.className==='lnk-next'){_currentOffset=_currentOffset+count;_sendRequestBottom(_bcfg,_currentOffset);}}
function _mergeCustomerids(ids){var aids=[];if(YL.isString(ids)&&ids!==''){aids=ids.split(',');}
if(YL.isArray(ids)){if(ids[0]&&YL.isObject(ids[0])){for(var i=0,iLen=ids.length;i<iLen;i++){if(ids[i]['CUSTID']){aids.push(ids[i]['CUSTID']);}}}else{aids=ids;}}
for(var i=0,iLen=aids.length;i<iLen;i++){var item=aids[i];var flag=false;for(var j=0,jLen=_customerids.length;j<jLen;j++){if(item==_customerids[j]){flag=true;}}
if(flag===false){_customerids.push(item);}}
return true;}
function _sendRequestBottom(obj,offset,isCtr){if(!YUD.get(_bcfg.id)){return false;}
_bUrl=obj.urlPrefix.indexOf('?')==-1?(obj.urlPrefix+'?'):obj.urlPrefix;_bUrl+='keyword='+encodeURIComponent(obj.keyword);_bUrl+='&ip='+obj.ip;_bUrl+='&mt='+obj.mt;_bUrl+='&dcatid='+obj.dcatid;_bUrl+='&pageId='+window.dmtrack_pageid;_bUrl+='&categoryBrowse='+obj.categoryBrowse;_bUrl+='&count='+obj.count;_bUrl+='&dl='+obj.dl;_bUrl+='&offset='+offset;_bUrl+='&pid='+obj.pid;_bUrl+='&type='+obj.type;_bUrl+='&_custid='+_customerids.join(',');_bUrl+='&cb=AE.P4P.ExpressView.bottomListCallback';_bUrl+='&t='+_getUnique();_asyncRequest(_bUrl);}
function _sendRequestSide(obj){if(!YUD.get(_scfg.id)){return false;}
_sUrl=obj.urlPrefix.indexOf('?')==-1?(obj.urlPrefix+'?'):obj.urlPrefix;_sUrl+='keyword='+encodeURIComponent(obj.keyword);_sUrl+='&ip='+obj.ip;_sUrl+='&mt='+obj.mt;_sUrl+='&dcatid='+obj.dcatid;_sUrl+='&pageId='+window.dmtrack_pageid;_sUrl+='&categoryBrowse='+obj.categoryBrowse;_sUrl+='&count='+obj.count;_sUrl+='&dl='+obj.dl;_sUrl+='&offset='+obj.offset;_sUrl+='&pid='+obj.pid;_sUrl+='&type='+obj.type;_sUrl+='&cb=AE.P4P.ExpressView.sideListCallback';_sUrl+='&t='+_getUnique();_asyncRequest(_sUrl);}
function _asyncRequest(url,opt){YAHOO.util.Get.script(url,opt);}
function _onAlitalkSuccess(count,online,nodes){for(var i=0;i<count;i++){var alitalk=YUD.get(nodes[i]);if(alitalk){if(online[i]==1){YUD.addClass(alitalk,_ocnfig.onlineClassName);alitalk.innerHTML=_ocnfig.onlineInnerHtml;alitalk.setAttribute('title',_ocnfig.onlineTitle);}else{YUD.addClass(alitalk,_ocnfig.offlineClassName);alitalk.innerHTML=_ocnfig.offlineInnerHtml;alitalk.setAttribute('title',_ocnfig.offlineTitle);}}}}
function _bindEventATMIcon(){AE.use(['alitalk'],function(alitalk){alitalk.init({origin:_ocnfig.origin});var theAtmElm=YUD.getElementsByClassName(_ocnfig.aliAliTalkClassName,'a',_ocnfig.p4pWrapId);YUE.on(theAtmElm,'click',function(){alitalk.bindEventATMIcon(this);});});}
function _getAtmIdsProductIds(Obj){var onLine=[],atmId=[],productIds=[],data=Obj.PRODUCTS,len=data.length;for(var i=0;i<len;i++){if(data[i].ENCRYPTALITALKID!==''&&data[i].RESOURCEID!==''&&data[i].ONLINESTATUS!==''){onLine.push(data[i].ONLINESTATUS);productIds.push(data[i].RESOURCEID);}}
_onLine=onLine;_atmProducts=productIds;_sessionId=Obj.SESSIONID;}
function _adLogOnclickFn(el){var target=YUE.getTarget(el),parent,eurl;if(target.tagName.toLowerCase()=='a'){parent=target;}else{parent=YUD.getAncestorByTagName(target,'a');}
if(parent){eurl=parent.getAttribute('eurl');if(eurl){if(YAHOO.env.ua.ie!==6){var img=new Image();img.src=eurl+'&timestamp='+_getUnique();}else{var img=new Image();document.body.appendChild(img);img.setAttribute('src',eurl+'&isbatch=1&timestamp='+_getUnique());img.style.display='none';}}}}
return{init:function(runCfg,ocnfig){var emptyObject=isEmptyObject(runCfg);if(emptyObject){return false;}
_scfg=YAHOO.lang.merge(_scfg,runCfg.Scfg||{});_bcfg=YAHOO.lang.merge(_bcfg,runCfg.Bcfg||{});_ocnfig=YAHOO.lang.merge(_ocnfig,ocnfig||{});_setPageOffset(_scfg,_bcfg);_buildRequestList();_initEvent();_statCtrInitPage();},sideListCallback:function(Obj){if(Obj.PRODUCTS.length==0||Obj.DOCSFOUND===0){_setWrapIdNone(_scfg.type);_requestSide=false;if(_pageIndex>1){_setWrapIdNone(_bcfg.type);}else{_sendRequestBottom(_bcfg,_bcfg.offset);}
return false;}else{_requestSide=true;}
_getAtmIdsProductIds(Obj);_decorateSidePro(Obj);if(_pageIndex===1){_mergeCustomerids(Obj.PRODUCTS);}
_sendRequestBottom(_bcfg,_bcfg.offset);},bottomListCallback:function(Obj){if(Obj.PRODUCTS.length===0||Obj.DOCSFOUND===0){_setWrapIdNone(_bcfg.type);_requestBottom=false;return false;}else{_requestBottom=true;}
_getAtmIdsProductIds(Obj);_decorateBottomPro(Obj);_ctrSessionBottom(_isCtrBottom);}};})();YUE.onDOMReady(function(){AE.P4P.ExpressView.init(runParams.p4pObjectConfig);});;

AE.define('common.aliexpress.Ctr',['dom','core','lang'],function(dom,core,lang){var doc=dom.Document();var _CONFIG={author:'yeyunchun',time:'2012-10-10',statUrl:'',statParams:{},getStatParams:undefined,targetClass:'',ctrRegular:{xscrollOn:false,top:0.1,right:0.4,bottom:0.4,left:0.1}};var Ctr=core.extend(core.Base,{_izer:function(config){this.data=config;this.model.init(this);this.domControl.init(this);this.eventHandle.init(this);},_dtor:function(){},data:'',model:{_parent:'',init:function(parent){this._parent=parent;},set:function(data){for(var key in data){this._parent.data[key]=data[key];}},get:function(key){return this._parent.data[key];}},domControl:{_parent:'',init:function(parent){this._parent=parent;},_getUnique:function(){return(new Date()).getTime()+Math.floor((Math.random()+1)*1000).toString();},ctrControl:function(){var _p=this._parent;var target_class=_p.model.get('targetClass');var items=doc.byClass(target_class);for(var i=0,len=items.length;i<len;i++){var available=this.ctrAvailable(items[i]);if(available){this.doCtr(items[i]);this.setCtred(items[i]);}}},setCtred:function(node){node.setAttribute('data-ctr',"1");},ctrAvailable:function(node){var is_ctr_regular=this.isCtrRegular(node);var is_ctred=this.isCtred(node);if(!is_ctred&&is_ctr_regular){return true;}else{return false;}},isCtrRegular:function(node){var viewport_height=doc.getViewportHeight();var viewport_width=doc.getViewportWidth();var node_region=node.getRegion();var document_region=doc.getClientRegion();var regular=this._parent.model.get('ctrRegular');var is_regular;if(regular.xscrollOn){is_regular=(node_region.top+node_region.height*regular.top>=document_region.top)&&(node_region.top+node_region.height*(1-regular.bottom)<=document_region.top+viewport_height)&&(node_region.left+node_region.width*regular.left>=document_region.left)&&(node_region.left+node_region.width*(1-regular.right)<=document_region.left+viewport_width);}else{is_regular=(node_region.top+node_region.height*regular.top>=document_region.top)&&(node_region.top+node_region.height*(1-regular.bottom)<=document_region.top+viewport_height);}
if(is_regular){return true;}else{return false;}},isCtred:function(node){var ctr=node.getAttribute('data-ctr');if(0==ctr){return false;}else{return true;}},doCtr:function(node){var YUC=YAHOO.util.Connect;var param='';var paramStr='';var params=[];if(this._parent.model.get('getStatParams')){params=this._parent.model.get('getStatParams').call(this);}else{params=this._getStatParams(node);}
paramStr=params.join("&");var url=this._parent.model.get('statUrl')+"?"+paramStr+'&t='+this._getUnique();YAHOO.util.Get.script(url);},_getStatParams:function(node){var params=[];var statparams=this._parent.model.get('statParams');for(var key in statparams){param=key+"="+node.getAttribute(statparams[key]);params.push(param);}
return params;}},eventHandle:{_parent:'',init:function(parent){this._parent=parent;this.scrollHandle();},scrollHandle:function(){var _self=this;var doCtrTimeout;dom(window).on('scroll',[],function(){if(!!doCtrTimeout){clearTimeout(doCtrTimeout);}
doCtrTimeout=setTimeout(function(){_self._parent.domControl.ctrControl();},200);});}}},_CONFIG);return Ctr;});AE.define('common.aliexpress.P4pCtrBottom',['dom','core','lang'],function(dom,core,lang){var YL=YAHOO.lang,YUC=YAHOO.util.Connect;var statUrl='http://stat.alibaba.com/ctr/aliexpress_p4p_ctr.html';var P4pCtrBottom=function(){};P4pCtrBottom.prototype={_config:{dataCtrName:'data-ctr',dataCtrvalue:'1'},init:function(config){this._config=YAHOO.lang.merge(this._config,config||{});},_getUnique:function(){return(new Date()).getTime()+Math.floor((Math.random()+1)*1000).toString();},statCtr:function(productIds,sessionId,targetClass){var proArg='',callback={},url;if(!productIds||!sessionId||!targetClass){return false;}
if(YL.isArray(productIds)){proArg=productIds.join(',');}else{proArg=productIds;}
for(var i=0,l=targetClass.length;i<l;i++){targetClass[i].setAttribute('data-ctr','1');}
url=statUrl+"?session_id="+sessionId+'&product_id='+proArg+'&t='+this._getUnique();YAHOO.util.Get.script(url);}}
return new P4pCtrBottom;});;

YAHOO.lang.JSON=(function(){var l=YAHOO.lang,_UNICODE_EXCEPTIONS=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_ESCAPES=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,_VALUES=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_BRACKETS=/(?:^|:|,)(?:\s*\[)+/g,_INVALID=/^[\],:{}\s]*$/,_SPECIAL_CHARS=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_CHARS={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'};function _revive(data,reviver){var walk=function(o,key){var k,v,value=o[key];if(value&&typeof value==='object'){for(k in value){if(l.hasOwnProperty(value,k)){v=walk(value,k);if(v===undefined){delete value[k];}else{value[k]=v;}}}}
return reviver.call(o,key,value);};return typeof reviver==='function'?walk({'':data},''):data;}
function _char(c){if(!_CHARS[c]){_CHARS[c]='\\u'+('0000'+(+(c.charCodeAt(0))).toString(16)).slice(-4);}
return _CHARS[c];}
function _prepare(s){return s.replace(_UNICODE_EXCEPTIONS,_char);}
function _isValid(str){return l.isString(str)&&_INVALID.test(str.replace(_ESCAPES,'@').replace(_VALUES,']').replace(_BRACKETS,''));}
function _string(s){return'"'+s.replace(_SPECIAL_CHARS,_char)+'"';}
function _stringify(h,key,d,w,pstack){var o=typeof w==='function'?w.call(h,key,h[key]):h[key],i,len,j,k,v,isArray,a;if(o instanceof Date){o=l.JSON.dateToString(o);}else if(o instanceof String||o instanceof Boolean||o instanceof Number){o=o.valueOf();}
switch(typeof o){case'string':return _string(o);case'number':return isFinite(o)?String(o):'null';case'boolean':return String(o);case'object':if(o===null){return'null';}
for(i=pstack.length-1;i>=0;--i){if(pstack[i]===o){return'null';}}
pstack[pstack.length]=o;a=[];isArray=l.isArray(o);if(d>0){if(isArray){for(i=o.length-1;i>=0;--i){a[i]=_stringify(o,i,d-1,w,pstack)||'null';}}else{j=0;if(l.isArray(w)){for(i=0,len=w.length;i<len;++i){k=w[i];v=_stringify(o,k,d-1,w,pstack);if(v){a[j++]=_string(k)+':'+v;}}}else{for(k in o){if(typeof k==='string'&&l.hasOwnProperty(o,k)){v=_stringify(o,k,d-1,w,pstack);if(v){a[j++]=_string(k)+':'+v;}}}}
a.sort();}}
pstack.pop();return isArray?'['+a.join(',')+']':'{'+a.join(',')+'}';}
return undefined;}
return{isValid:function(s){return _isValid(_prepare(s));},parse:function(s,reviver){s=_prepare(s);if(_isValid(s)){return _revive(eval('('+s+')'),reviver);}
throw new SyntaxError('parseJSON');},stringify:function(o,w,d){if(o!==undefined){if(l.isArray(w)){w=(function(a){var uniq=[],map={},v,i,j,len;for(i=0,j=0,len=a.length;i<len;++i){v=a[i];if(typeof v==='string'&&map[v]===undefined){uniq[(map[v]=j++)]=v;}}
return uniq;})(w);}
d=d>=0?d:1/0;return _stringify({'':o},'',d,w,[]);}
return undefined;},dateToString:function(d){function _zeroPad(v){return v<10?'0'+v:v;}
return d.getUTCFullYear()+'-'+
_zeroPad(d.getUTCMonth()+1)+'-'+
_zeroPad(d.getUTCDate())+'T'+
_zeroPad(d.getUTCHours())+':'+
_zeroPad(d.getUTCMinutes())+':'+
_zeroPad(d.getUTCSeconds())+'Z';},stringToDate:function(str){if(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})Z$/.test(str)){var d=new Date();d.setUTCFullYear(RegExp.$1,(RegExp.$2|0)-1,RegExp.$3);d.setUTCHours(RegExp.$4,RegExp.$5,RegExp.$6);return d;}
return str;}};})();YAHOO.register("json",YAHOO.lang.JSON,{version:"2.6.0",build:"1321"});;

YAHOO.namespace("util");YAHOO.util.Cookie={_createCookieString:function(name,value,encodeValue,options){var lang=YAHOO.lang,text=encodeURIComponent(name)+"="+(encodeValue?encodeURIComponent(value):value);if(lang.isObject(options)){if(options.expires instanceof Date){text+="; expires="+options.expires.toUTCString();}
if(lang.isString(options.path)&&options.path!==""){text+="; path="+options.path;}
if(lang.isString(options.domain)&&options.domain!==""){text+="; domain="+options.domain;}
if(options.secure===true){text+="; secure";}}
return text;},_createCookieHashString:function(hash){var lang=YAHOO.lang;if(!lang.isObject(hash)){throw new TypeError("Cookie._createCookieHashString(): Argument must be an object.");}
var text=[];for(var key in hash){if(lang.hasOwnProperty(hash,key)&&!lang.isFunction(hash[key])&&!lang.isUndefined(hash[key])){text.push(encodeURIComponent(key)+"="+encodeURIComponent(String(hash[key])));}}
return text.join("&");},_parseCookieHash:function(text){var hashParts=text.split("&"),hashPart=null,hash={};if(text.length>0){for(var i=0,len=hashParts.length;i<len;i++){hashPart=hashParts[i].split("=");hash[decodeURIComponent(hashPart[0])]=decodeURIComponent(hashPart[1]);}}
return hash;},_parseCookieString:function(text,decode){var cookies={};if(YAHOO.lang.isString(text)&&text.length>0){var decodeValue=(decode===false?function(s){return s;}:decodeURIComponent);var cookieParts=text.split(/;\s/g),cookieName=null,cookieValue=null,cookieNameValue=null;for(var i=0,len=cookieParts.length;i<len;i++){cookieNameValue=cookieParts[i].match(/([^=]+)=/i);if(cookieNameValue instanceof Array){try{cookieName=decodeURIComponent(cookieNameValue[1]);cookieValue=decodeValue(cookieParts[i].substring(cookieNameValue[1].length+1));}catch(ex){}}else{cookieName=decodeURIComponent(cookieParts[i]);cookieValue="";}
cookies[cookieName]=cookieValue;}}
return cookies;},exists:function(name){if(!YAHOO.lang.isString(name)||name===""){throw new TypeError("Cookie.exists(): Cookie name must be a non-empty string.");}
var cookies=this._parseCookieString(document.cookie,true);return cookies.hasOwnProperty(name);},get:function(name,options){var lang=YAHOO.lang,converter;if(lang.isFunction(options)){converter=options;options={};}else if(lang.isObject(options)){converter=options.converter;}else{options={};}
var cookies=this._parseCookieString(document.cookie,!options.raw);if(!lang.isString(name)||name===""){throw new TypeError("Cookie.get(): Cookie name must be a non-empty string.");}
if(lang.isUndefined(cookies[name])){return null;}
if(!lang.isFunction(converter)){return cookies[name];}else{return converter(cookies[name]);}},getSub:function(name,subName,converter){var lang=YAHOO.lang,hash=this.getSubs(name);if(hash!==null){if(!lang.isString(subName)||subName===""){throw new TypeError("Cookie.getSub(): Subcookie name must be a non-empty string.");}
if(lang.isUndefined(hash[subName])){return null;}
if(!lang.isFunction(converter)){return hash[subName];}else{return converter(hash[subName]);}}else{return null;}},getSubs:function(name){var isString=YAHOO.lang.isString;if(!isString(name)||name===""){throw new TypeError("Cookie.getSubs(): Cookie name must be a non-empty string.");}
var cookies=this._parseCookieString(document.cookie,false);if(isString(cookies[name])){return this._parseCookieHash(cookies[name]);}
return null;},remove:function(name,options){if(!YAHOO.lang.isString(name)||name===""){throw new TypeError("Cookie.remove(): Cookie name must be a non-empty string.");}
options=YAHOO.lang.merge(options||{},{expires:new Date(0)});return this.set(name,"",options);},removeSub:function(name,subName,options){var lang=YAHOO.lang;options=options||{};if(!lang.isString(name)||name===""){throw new TypeError("Cookie.removeSub(): Cookie name must be a non-empty string.");}
if(!lang.isString(subName)||subName===""){throw new TypeError("Cookie.removeSub(): Subcookie name must be a non-empty string.");}
var subs=this.getSubs(name);if(lang.isObject(subs)&&lang.hasOwnProperty(subs,subName)){delete subs[subName];if(!options.removeIfEmpty){return this.setSubs(name,subs,options);}else{for(var key in subs){if(lang.hasOwnProperty(subs,key)&&!lang.isFunction(subs[key])&&!lang.isUndefined(subs[key])){return this.setSubs(name,subs,options);}}
return this.remove(name,options);}}else{return"";}},set:function(name,value,options){var lang=YAHOO.lang;options=options||{};if(!lang.isString(name)){throw new TypeError("Cookie.set(): Cookie name must be a string.");}
if(lang.isUndefined(value)){throw new TypeError("Cookie.set(): Value cannot be undefined.");}
var text=this._createCookieString(name,value,!options.raw,options);document.cookie=text;return text;},setSub:function(name,subName,value,options){var lang=YAHOO.lang;if(!lang.isString(name)||name===""){throw new TypeError("Cookie.setSub(): Cookie name must be a non-empty string.");}
if(!lang.isString(subName)||subName===""){throw new TypeError("Cookie.setSub(): Subcookie name must be a non-empty string.");}
if(lang.isUndefined(value)){throw new TypeError("Cookie.setSub(): Subcookie value cannot be undefined.");}
var hash=this.getSubs(name);if(!lang.isObject(hash)){hash={};}
hash[subName]=value;return this.setSubs(name,hash,options);},setSubs:function(name,value,options){var lang=YAHOO.lang;if(!lang.isString(name)){throw new TypeError("Cookie.setSubs(): Cookie name must be a string.");}
if(!lang.isObject(value)){throw new TypeError("Cookie.setSubs(): Cookie value must be an object.");}
var text=this._createCookieString(name,this._createCookieHashString(value),false,options);document.cookie=text;return text;}};YAHOO.register("cookie",YAHOO.util.Cookie,{version:"2.9.0",build:"20120227"});;

(function(){function ctor(){var _self=this,cfg={updateVersion:'1.0.0.1',pluginDownloadUrl:'http://download.wangwang.1688.com/aliim/AliIM6_ATM/bin/TMnpSetup.exe',clientDownloadUrl:'http://trademanager.alibaba.com/'},pluginMime=navigator.mimeTypes["application/atm-plugin"],isIE=function(){return navigator.appName=="Microsoft Internet Explorer";},isFirefox=function(ver){var _match=navigator.userAgent.match(/Firefox\/(\d*)\..*/i);if(_match){_self.firefoxVer=parseFloat(_match[1]);}else{_self.firefoxVer="";}
return!!_match&&parseFloat(_match[1])>=(ver||1.5);},isMac=function(){return(navigator.platform.indexOf("Mac")>-1);},isChrome=function(){return(window.navigator.userAgent.indexOf("Chrome")!==-1);},isOpera=function(){return(window.navigator.userAgent.indexOf("opera")!==-1);},isSafari=function(){return(navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")<1);},getAtm=function(){if(arguments.callee.counter==1){return;}
if(isMac()){var mimetype=navigator.mimeTypes["application/ww-plugin"];if(mimetype){var plugin=document.createElement("embed");plugin.setAttribute('type','application/ww-plugin');plugin.style.visibility="hidden";plugin.style.width=0;plugin.style.height=0;document.body.appendChild(plugin);_self.atm=plugin;if(plugin.isMacWWInstalled()){_self.atmClientFlag=3;}
plugin.parentNode.removeChild(plugin);}}else{if(isIE()){try{_self.atm=new ActiveXObject("aliimx.atmx");_self.atm.GetWangWangVersion();_self.atmClientFlag=1;}catch(e){try{_self.atm=new ActiveXObject("TradeManagerSetup.Install.1");_self.atmClientFlag=0;}catch(ex){}}}else if(isFirefox()||isChrome()){if(document.getElementById("chk_atm")==null){var dDiv=document.createElement('DIV');dDiv.style.height='1px';dDiv.style.width='1px';dDiv.style.overflow='hidden';dDiv.innerHTML="<embed id=\"chk_atm\" name=\"chk_atm\" type=\"application/atm-plugin\" width=1 height=1 hidden=\"true\" >";document.body.appendChild(dDiv);_self.atm=document.getElementById("chk_atm");if(!_self.isNeedUpdatePlugin()){try{if(_self.atm.isInstalled(2)==1){_self.atmClientFlag=2;}}catch(e){}}}}}
arguments.callee.counter=1;},buildQuery=function(query){if(query!==undefined&&query!==''){if(query.substring(0,1)!='&'){return'&'+query;}
return query;}
return'';};this.atm=null;this.atmClientFlag=-1;this.firstClick=true;if(isMac()){this.isBrowserSupport=isFirefox()||isChrome()||isOpera()||isSafari();}else{this.isBrowserSupport=isIE()||isFirefox()||isChrome();}
this.isPluginReady=function(){if(isMac()){return true;}
if(isFirefox()||isChrome()){return(!!pluginMime&&!!pluginMime.enabledPlugin);}
return true;};this.isNeedUpdatePlugin=function(){if(isFirefox()){try{return this.isPluginReady()&&(parseInt(pluginMime.enabledPlugin.version.replace(/\./g,''),10)<parseInt(cfg.updateVersion.replace(/\./g,''),10));}catch(e){return false;}}else if(isChrome()){try{return this.atm&&(parseInt(this.atm.NPWWVersion().replace(/\./g,''),10)<parseInt(cfg.updateVersion.replace(/\./g,''),10));}catch(e){return false;}}};this.isClientReady=function(){if(this.isPluginReady()){getAtm();return this.atmClientFlag!=-1;}
return false;};this.isReady=function(){var CALLEE=arguments.callee;if(CALLEE.isPass===undefined){CALLEE.isPass=this.isBrowserSupport&&this.isClientReady();}
return CALLEE.isPass;};this.getClientFlag=function(){if(this.isClientReady()){return this.atmClientFlag;}
return-1;};this.downloadClient=function(cancelAction){if(confirm('you must first install TradeManager.\nClick the Confirm button to download it.')){window.open(cfg.clientDownloadUrl);}else if(typeof cancelAction=='function'){cancelAction.call(this);}};this._installPlugin=function(){if(isFirefox()){if(isMac()&&window.InstallTrigger){InstallTrigger.install({'Alibaba TradeManager plug-in':{URL:cfg.pluginDownloadUrl,toString:function(){return cfg.pluginDownloadUrl;}}});}else{window.open(cfg.pluginDownloadUrl);}}else if(isChrome()){window.open(cfg.pluginDownloadUrl);}};this.installPlugin=function(cancelAction){if(this.firstClick&&(isFirefox()||isChrome())&&confirm('You need the TradeManager plug-in.\nClick the Confirm button to install it.')){this._installPlugin();}else if(typeof cancelAction=='function'){cancelAction.call(this);}
this.firstClick=false;};this.updatePlugin=function(cancelAction){if((isFirefox()||isChrome())&&confirm('You need update the TradeManager plug-in.\nClick the Confirm button to update it.')){this._installPlugin();}else if(typeof cancelAction=='function'){cancelAction.call(this);}};this.execCommand=function(cmd){if(!this.isReady()){return false;}
switch(this.atmClientFlag){case 0:window.location=cmd;break;case 1:this.atm.ExecCmd(cmd);break;case 2:this.atm.SendCommand(cmd,2);break;case 3:window.location=cmd;break;}};this.sendClientMsg=function(fromSite,fromUid,toSite,toUid,imstatus,extraQuery){if(!this.isReady()){return false;}
if(fromSite===''){fromSite=toSite;}
switch(this.atmClientFlag){case 0:this.execCommand('TradeManager:SendIM_Encrypted?'+toUid);break;case 1:if(imstatus==4){this.execCommand('aliim:smssendmsg?uid='+fromSite+fromUid+'&touid='+toUid+'&suid='
+fromUid+'&encrypt=true');}else{this.execCommand('aliim:sendmsg?uid='+fromSite+fromUid+'&touid='+toUid+'&siteid='
+toSite+'&status='+imstatus+buildQuery(extraQuery));}
break;case 2:this.execCommand('aliim:sendmsg?uid='+fromSite+fromUid+'&touid='+toUid+'&siteid='
+toSite+'&status='+imstatus+buildQuery(extraQuery));break;case 3:this.execCommand('aliim:sendmsg?uid='+fromSite+fromUid+'&touid='+encodeURIComponent(toUid)
+'&siteid='+toSite+'&status='+imstatus+buildQuery(extraQuery));}};this.addContact=function(fromSite,fromUid,toSite,toUid,query){if(!this.isReady()){return false;}
if(this.atmClientFlag===0){this.execCommand('Trademanager:AddContact?uid='+toUid+'&checkcrm=true');setTimeout(function(){window.close();},"500");}else if(this.atmClientFlag==1||this.atmClientFlag==2||this.atmClientFlag==3){this.execCommand('aliim:addcontact?uid='+fromSite+fromUid+'&touid='+toSite+toUid
+buildQuery(query));setTimeout(function(){window.close();},"500");}};this.startATM=function(siteid,uid,query){if(!this.isReady()){return false;}
if(this.atmClientFlag===0){this.execCommand('TradeManager:');}else if(this.atmClientFlag==1||this.atmClientFlag==2){this.execCommand('aliim:login?uid='+uid+'&autologin=0&weblogin=1'+buildQuery(query));}};}
window.ATMAPI=new ctor();window.checkInstallEnaliint=function(){return ATMAPI.getClientFlag();};window.sendClientMsg=function(){return ATMAPI.sendClientMsg.apply(ATMAPI,arguments);};window.addContact=function(){return ATMAPI.addContact.apply(ATMAPI,arguments);};window.startWW=function(){return ATMAPI.startWW.apply(ATMAPI,arguments);};window.checkIE=function(){return navigator.appName=="Microsoft Internet Explorer";};window.checkIEorFirefox=function(){return ATMAPI.isBrowserSupport;};window.checkFirefoxIsBigThan15=function(){var _match=navigator.userAgent.match(/Firefox\/(\d*)\..*/i);return _match&&parseFloat(_match[1])>=1.5;};}());;
;(function(){function ScriptLoader(){var _self=this;var requestQuee=[];var defConfig={onSuccess:function(){},isLoadImmediately:false,isParallelLoad:false};var config={};var loadedCounter=0,requestCounter=0;var canRunSuccessFun=false;_self.init=function(oConfig){config=YL.merge(defConfig,oConfig||{});};_self.pushRequest=function(sRequestUrl){requestQuee.push(sRequestUrl);++requestCounter;if(config.isLoadImmediately){if(config.isParallelLoad){parallelLoad();}else{serialLoad();}}};_self.load=function(onSuccessFun){if(onSuccessFun){config.onSuccess=onSuccessFun;}
canRunSuccessFun=true;if(config.isParallelLoad){parallelLoad();}else{serialLoad();}};var serialLoad=function(){if(requestQuee.length>0){var sUrl=requestQuee[0];requestQuee=requestQuee.slice(1);YAHOO.util.Get.script(sUrl,{onSuccess:loadSuccess});}};var parallelLoad=function(){while(requestQuee.length){YAHOO.util.Get.script(requestQuee[0],{onSuccess:loadSuccess});requestQuee=requestQuee.slice(1);}};var loadSuccess=function(){++loadedCounter;if(loadedCounter>=requestCounter&&canRunSuccessFun){config.onSuccess();}else if(loadedCounter<requestCounter&&!config.isParallelLoad){serialLoad();}else{return;}};}
AE.namespace('widget').scriptLoader=ScriptLoader;}());;

var online=[];AE.define("alitalk",function(){var config={origin:'',toMemberType:'seller',onlineClassName:'atm16',onlineInnerHtml:'Chat now!',onlineTitle:'Chat with me now',offlineClassName:'atm16grey',offlineInnerHtml:'Offline',offlineTitle:'Leave me a message',isReplaceInnerHTML:true,alitalkTextareaId:'',alitalkIdPre:'',alitalkClass:'',alitalkIdAttribute:'',getAlitalkId:function(){return false;},initATMIcon:function(){return false;}};var alitalkIdMap=[];var isClientInstalled=ATMAPI.getClientFlag();var dmtrackingUrl='https://dmtracking2.alibaba.com/feedbackfromalitalk.html';var webAtmUrl='http://webatm.alibaba.com/start_web_atm.htm';var feedBackMsgUrl='http://message.aliexpress.com/message/new.htm';var referUrl=document.URL.replace(/&/ig,"$");var onlineStatusUrl='http://atmamos.im.alisoft.com/muliuserstatusx.atc?beginnum={#beginnum#};{#alitalkIdMap#}';var onlineStatusUrlSSL='https://amos.im.alisoft.com/muliuserstatus.aw?beginnum={#beginnum#}&site=enaliint&uids={#alitalkIdMap#}';var alitalksPerRequestNum=20;function getAlitalkId(){if(config.alitalkTextareaId){try{alitalkIdMap=get(config.alitalkTextareaId).value.split(';');}catch(e){}}else if(config.alitalkClass&&config.alitalkIdAttribute){var tempEl=YUD.getElementsByClassName(config.alitalkClass);if(tempEl.length>0){for(var i=0;i<tempEl.length;i++){alitalkIdMap[i]=tempEl[i].getAttribute(config.alitalkIdAttribute);}}}else if(config.getAlitalkId()){alitalkIdMap=config.getAlitalkId();}}
function run(){getAlitalkId();if(!alitalkIdMap[0]){return;}
var alitalkLoader=new AE.widget.scriptLoader();var alitalksLoadLoop=Math.round(alitalkIdMap.length/alitalksPerRequestNum+0.5);var statusUrl;if(config.origin=='aliexpress_order'){statusUrl=onlineStatusUrlSSL;}else{statusUrl=onlineStatusUrl;}
for(var i=0;i<alitalksLoadLoop;i++){var beginNum=alitalksPerRequestNum*i;var alitalksPostBody=alitalkIdMap.slice(beginNum,beginNum+alitalksPerRequestNum).join(";");alitalkLoader.pushRequest(statusUrl.replace('{#beginnum#}',beginNum).replace('{#alitalkIdMap#}',alitalksPostBody));}
alitalkLoader.load(initATMIcon);}
function initATMIcon(){if(config.alitalkTextareaId&&config.alitalkIdPre){for(var i=0;i<online.length;i++){var elNum=i+1;var atmEl=get(config.alitalkIdPre+elNum);if(atmEl){if(online[i]==1){atmEl.className=config.onlineClassName;if(config.isReplaceInnerHTML){atmEl.innerHTML=config.onlineInnerHtml;}
atmEl.title=config.onlineTitle;}else{atmEl.className=config.offlineClassName;if(config.isReplaceInnerHTML){atmEl.innerHTML=config.offlineInnerHtml;}
atmEl.title=config.offlineTitle;}
atmEl.setAttribute('online',online[i]);YUE.on(atmEl,'click',function(){bindEventATMIcon(this);});}}}else if(config.alitalkClass){var atmEl=YUD.getElementsByClassName(config.alitalkClass);for(var i=0;i<online.length;i++){if(online[i]==1){atmEl[i].className=config.onlineClassName;if(config.isReplaceInnerHTML&&checkIconInnerHTML(atmEl[i])){atmEl[i].innerHTML=config.onlineInnerHtml;}
atmEl[i].title=config.onlineTitle;}else{atmEl[i].className=config.offlineClassName;if(config.isReplaceInnerHTML&&checkIconInnerHTML(atmEl[i])){atmEl[i].innerHTML=config.offlineInnerHtml;}
atmEl[i].title=config.offlineTitle;}
atmEl[i].setAttribute('online',online[i]);}
YUE.on(atmEl,'click',function(){bindEventATMIcon(this);});}else if(config.initATMIcon()){config.initATMIcon();}}
function checkIconInnerHTML(obj){if(obj.innerHTML==''||obj.innerHTML==config.onlineInnerHtml||obj.innerHTML==config.offlineInnerHtml){return true;}}
function bindEventATMIcon(el){var onLine=el.getAttribute('online');var memberId=el.getAttribute('memberid');var from=el.getAttribute('from');var id1=el.getAttribute('id1')||0;var id2=el.getAttribute('id2')||0;var origin=config.origin;var toMemberType=config.toMemberType;var timestamp=new Date();window.setTimeout(function(){new Image().src=dmtrackingUrl+'?type=client&STEP=CLICK&from='+from+'&id='+id1+"&refer="+referUrl+"&time="+timestamp.getTime();},10);if(isClientInstalled!=-1){var params='';if(from==11){params+="&ptype=e&gid="+id1+"&id="+memberId;}
if(navigator.platform.indexOf("Mac")===-1){params+='&url2='+dmtrackingUrl+'?from='+from+"#id="+id1+"#refer="+referUrl+"#time="+timestamp.getTime();}
sendClientMsg(memberId,params);}else{if(onLine==1){openWebAtm(from,memberId,id1,origin);}else{openFeedBackMsg(from,toMemberType,id1,id2);}}}
function openWebAtm(from,memberId,productId,origin){var webAtmParams='?enemberId='+encodeURIComponent(memberId)+'&pid='+productId+'&from='+from+'&origin='+origin+'&refer='+referUrl;var win=window.open(webAtmUrl+webAtmParams,Math.round(Math.random()*24*100),'width=785,height=600,location=no,toolbar=no,status=no,resizable=yes,scrollbars=no');win.focus();}
function openFeedBackMsg(from,toMemberType,id1,id2){var feedBackMsgParams='';from=parseInt(from,0);switch(from){case 11:feedBackMsgParams='?productId='+id1+'&messageType=product&memberType='+toMemberType+'&refer='+referUrl;break;case 12:feedBackMsgParams='?memberSeq='+id1+'&messageType=member&memberType='+toMemberType+'&refer='+referUrl;break;case 13:feedBackMsgParams='?memberSeq='+id1+'&storeId='+id2+'&messageType=store&memberType='+toMemberType+'&refer='+referUrl;break;default:feedBackMsgParams='error404.html';}
var targetUrl=feedBackMsgParams=='error404.html'?feedBackMsgParams:feedBackMsgUrl+feedBackMsgParams;var win=window.open(targetUrl,'feedBack');win.focus();}
function sendClientMsg(memberId,params){ATMAPI.sendClientMsg('','','enaliint',memberId,1,'&encrypt=1'+params);}
return{init:function(customConfig){config=YL.merge(config,customConfig||{});run();},bindEventATMIcon:function(el){bindEventATMIcon(el);}};});;
;(function(){function OverShow(){var _self=this;var defConfig={targetId:"overShowTargetId",targetEl:null,positionId:false,contentId:"overShowContentId",showDelayTime:200,hiddenDelayTime:200,excursion:[0,0],needMask:false,needXY:true,closeBtnClass:"close-button",maskIframeClassName:"maskIframe",iframeMaskSrc:globalImgServer+"/js/blank.html"};var config;var isInited=false;var dTarget,dPosition,dContent,iframeMask;var delayTimer=false;var canClose=true,contentShowed=false,holded=false;_self.hold=function(){holded=true;};_self.setFree=function(){holded=false;};_self.afterShow=new YAHOO.util.CustomEvent("afterShow",_self);_self.afterShowDelay=new YAHOO.util.CustomEvent("afterShowDelay",_self);_self.afterHidden=new YAHOO.util.CustomEvent("afterHidden",_self);_self.afterHiddenDelay=new YAHOO.util.CustomEvent("afterHiddenDelay",_self);_self.init=function(oConfig){if(isInited)return false;config=YL.merge(defConfig,oConfig);_self.config=config;if(!config.targetEl){dTarget=get(config.targetId);}else{dTarget=config.targetEl;}
dPosition=config.positionId?get(config.positionId):false;dContent=get(config.contentId);YUE.on(dTarget,"mouseover",_self.showDelay);YUE.on(dTarget,"mouseout",_self.hiddenDelay);YUE.on(dContent,"mouseout",_self.hiddenDelay);YUE.on(dTarget,"mouseover",function(){canClose=false;});YUE.on(dContent,"mouseover",function(){canClose=false;});YUE.on(dTarget,"mouseout",function(){canClose=true;});YUE.on(dContent,"mouseout",function(){canClose=true;});if(config.needMask){iframeMask=document.createElement("iframe");iframeMask.className=config.maskIframeClassName;iframeMask.style.display="none";if(YAHOO.env.ua.ie===6&&location.protocol=="https:"){iframeMask.src=config.iframeMaskSrc;}
iframeMask.style.zIndex=YUD.getStyle(dContent,'zIndex')-1;iframeMask.style.top="0px";iframeMask.style.left="0px";iframeMask.frameBorder=0;dContent.parentNode.appendChild(iframeMask);}
var closeBtns=config.closeBtnClass&&YUD.getElementsByClassName(config.closeBtnClass,"*",dContent);if(closeBtns){YUE.on(closeBtns,"click",function(){canClose=true;_self.hiddenDirectly();});}
return _self;};_self._onDContentMouseOver=function(e){if(!dTarget||dTarget==undefined){return;}
_self.afterShowDelay.fire(dTarget);if(delayTimer){clearTimeout(delayTimer);}
delayTimer=setTimeout(function(){_self.showDirectly();},config.showDelayTime);};_self.showDelay=function(e){YUE.on(dContent,"mouseover",_self._onDContentMouseOver);if(dTarget!=this){canClose=true;_self.hiddenDirectly();}
dTarget=this;_self.afterShowDelay.fire(dTarget);if(delayTimer){clearTimeout(delayTimer);}
delayTimer=setTimeout(function(){_self.showDirectly();},config.showDelayTime);};_self.showDirectly=function(){if(contentShowed||holded){return;}
dContent.style.visibility='hidden';dContent.style.display="";if(config.needXY){var xy=YUD.getXY(dPosition||dTarget);parsePos(dTarget,config.excursion);xy[0]+=config.excursion[0];xy[1]+=config.excursion[1];}
dContent.style.visibility='visible';dContent.style.display='';if(config.needXY){YUD.setXY(dContent,xy);}
_self.afterShow.fire(dTarget);contentShowed=true;if(config.needMask){iframeMask.style.display="";iframeMask.style.width=dContent.offsetWidth+"px";iframeMask.style.height=dContent.offsetHeight+"px";if(config.needXY){YUD.setXY(iframeMask,xy);}
iframeMask.style.visibility="visible";}};_self.hiddenDelay=function(e){_self.afterHiddenDelay.fire();if(holded==true){return;}
if(delayTimer){clearTimeout(delayTimer);}
delayTimer=setTimeout(_self.hiddenDirectly,config.hiddenDelayTime);};_self.hiddenDirectly=function(){contentShowed=false;if(dContent.style.display=="none")return;YUE.removeListener(dContent,'mouseover',_self._onDContentMouseOver);if(!canClose){return false;}
_self.afterHidden.fire();if(dContent){dContent.style.display="none";}
if(config.needMask){iframeMask.style.display="none";}};_self.getContent=function(){return dContent||null;};var parsePos=function(dTarget,aPos){if(typeof(aPos[0])=='string'){if(aPos[0]=='auto'){(isContentOverflow())?aPos[0]='right':aPos[0]='left';}
switch(aPos[0]){case'center':aPos[0]=parseInt(dPosition?(dPosition.offsetWidth-dContent.offsetWidth)/2:(dTarget.offsetWidth-dContent.offsetWidth)/2);break;case'right':aPos[0]=((dPosition?dPosition.offsetWidth:dTarget.offsetWidth)-dContent.offsetWidth);break;default:aPos[0]=0;}}
if(typeof(aPos[1])=='string'){switch(aPos[1]){case'center':aPos[1]=parseInt(dPosition?(dPosition.offsetHeight-dContent.offsetHeight)/2:(dTarget.offsetHeight-dContent.offsetHeight)/2);break;case'bottom':aPos[1]=dPosition?dPosition.offsetHeight:dTarget.offsetHeight;break;default:aPos[1]=0;}}
return aPos;};var isContentOverflow=function(){return document.body.offsetWidth<(YUD.getX(dPosition||dTarget)+dContent.offsetWidth);};}
AE.namespace('widget').overShow=OverShow;}());;
;(function(){function AjaxProxy(){this.config={proxy:globalImgServer+"/static/ajax_proxy.html?iframe_delete=true",domain:"alibaba.com"};this.temp={ajaxForm:null};this.setForm=function(ajaxForm){this.temp.ajaxForm=ajaxForm;};this.asyncRequest=function(type,url,callBack,postBody,iConfig){var _self=this;_self.config=YL.merge(_self.config,iConfig||{});var config=_self.config;try{document.domain=config.domain;}catch(e){}
var iframe=document.createElement("iframe");YUE.on(iframe,"load",function(){var tempCallBack=callBack.success;callBack.success=function(o){tempCallBack(o);};if(_self.temp.ajaxForm){this.contentWindow.setForm(_self.temp.ajaxForm);}
this.contentWindow.sendRequest(type,url,callBack,postBody);});var iframeDeleteQuery="";if(config.proxy.indexOf("iframe_delete=true")==-1){var prefixStr="&";if(config.proxy.indexOf("?")==-1){prefixStr="?";}
iframeDeleteQuery=prefixStr+"iframe_delete=true";}
iframe.src=config.proxy+iframeDeleteQuery;iframe.style.display="none";setTimeout(function(){document.body.appendChild(iframe);},0);};}
AE.namespace('run').ajaxProxy=AjaxProxy;}());;
;(function(){function QuickView(){this.config={};this.defConfig={bigImgBoxId:'',bigImgPosOffset:[-1,0],dartIconBoxId:'',miniImgPosBoxId:'',miniImgMaskId:'',miniImgMaskBoxId:'',miniImgPosOffset:[-4,-4],displayFireEls:[],displayFireAction:'mouseover',displayDelay:0,closeFireEls:[],closeFireAction:'click',closeDelay:0,autoClose:true,verticalAlign:'center',horizontalAlign:'right',extraMethod:function(){return false;},afterHide:null,isUseImgMaskBox:true};this.cache={elBigImgBox:null,elDartIconBox:null,elMiniImgPosBox:null,elMiniImgMask:null,elMiniImgMaskBox:null,canClose:false,isHidden:true,timer:null};this.templateStr='<div class="largeImg"><a href="$detailUrl$" target="_blank"><img src="$largeImgUrl$" /></a></div><div class="contactIcon"><a href="$atmUrlAction$" class="$atmClass$">$atmText$</a><span class="split">|</span><a href="$inquryUrlAction$" class="inquery">Contact Now</a></div>';this.templateParseHash={};this.init=function(usrConfig){var _self=this;this.config=YL.merge(this.defConfig,usrConfig);this.cache.elBigImgBox=get(this.config.bigImgBoxId);this.cache.elDartIconBox=get(this.config.dartIconBoxId);this.cache.elMiniImgPosBox=get(this.config.miniImgPosBoxId);this.cache.elMiniImgMask=get(this.config.miniImgMaskId);this.cache.elMiniImgMaskBox=get(this.config.miniImgMaskBoxId);var minImgPosBox=this.cache.elMiniImgPosBox,bigImgBox=this.cache.elBigImgBox;YUE.on(this.config.displayFireEls,this.config.displayFireAction,function(){_self.show(this);});YUE.on(this.config.closeFireEls,this.config.closeFireAction,function(e){_self.cache.canClose=true;_self.hide(e);});YUE.on([bigImgBox,minImgPosBox],'mouseover',function(e){_self.cache.canClose=false;});YUE.on([bigImgBox,minImgPosBox],'mouseout',function(e){_self.cache.canClose=true;if(_self.config.autoClose){_self.hide(e);}});YUE.on(window,'resize',function(e){_self.cache.canClose=true;_self.hide(e);});};}
YAHOO.lang.extend(QuickView,Object,{setTemplateStr:function(str,extraStr){this.templateStr=str;this.extraTemplateStr=extraStr;},setTemplateParseHash:function(parseHash,isMerge){if(isMerge){this.templateParseHash=YL.merge(this.templateParseHash,parseHash);}else{delete this.templateParseHash;this.templateParseHash=parseHash;}},parseHtml:function(templateStr,parseHash){var tempHtml=templateStr;for(var flag in parseHash){tempHtml=tempHtml.replace('$'+flag+'$',parseHash[flag]);}
return tempHtml;},getMaskXY:function(el){var elXY=YUD.getXY(el),direction=this.config.horizontalAlign,posOffset=this.config.miniImgPosOffset;if(direction=='left'){var imgW=el.offsetWidth,maskW=this.cache.elMiniImgPosBox.offsetWidth;return[elXY[0]+imgW-maskW-posOffset[0],elXY[1]+posOffset[1]];}else{if(this.config.isUseImgMaskBox===false){return[elXY[0]+posOffset[0]+el.offsetWidth,elXY[1]+posOffset[1]];}else{return[elXY[0]+posOffset[0],elXY[1]+posOffset[1]];}}},getBigImgBoxXY:function(el,maskXY){var miniImgPosBox=this.cache.elMiniImgPosBox,bigImgBox=this.cache.elBigImgBox;var align=this.config.verticalAlign,direction=this.config.horizontalAlign,posOffset=this.config.bigImgPosOffset;var scrollTop=YUD.getDocumentScrollTop(),viewPointH=YUD.getViewportHeight();var posX,posY;if(direction=='left'){posX=maskXY[0]-bigImgBox.offsetWidth-posOffset[0],posY=0;}else{if(this.config.isUseImgMaskBox===false){posX=maskXY[0]+posOffset[0]+this.cache.elDartIconBox.offsetWidth,posY=0;}else{posX=maskXY[0]+miniImgPosBox.offsetWidth+posOffset[0],posY=0;}}
switch(align.toLowerCase()){case'top':posY=maskXY[1];break;case'center':posY=maskXY[1]-0.5*(bigImgBox.offsetHeight-miniImgPosBox.offsetHeight);break;case'bottom':posY=maskXY[1]-bigImgBox.offsetHeight+miniImgPosBox.offsetHeight;break;}
if(posY<scrollTop){posY=scrollTop;if(posY>maskXY[1])posY=maskXY[1];}else if(posY+bigImgBox.offsetHeight>scrollTop+viewPointH){posY=scrollTop+viewPointH-bigImgBox.offsetHeight;if(posY<maskXY[1]-bigImgBox.offsetHeight+miniImgPosBox.offsetHeight)posY=maskXY[1]-bigImgBox.offsetHeight+miniImgPosBox.offsetHeight;}
return[posX,posY];},resetWH:function(el){var elMaskBox=this.cache.elMiniImgMaskBox,dartIconBox=this.cache.elDartIconBox;if(elMaskBox){YUD.setStyle(elMaskBox,'width',el.offsetWidth+'px');YUD.setStyle(elMaskBox,'height',el.offsetHeight+'px');}
YUD.setStyle(dartIconBox,'height',el.offsetHeight+'px');},genHtml:function(el){var miniImgPosBox=this.cache.elMiniImgPosBox,bigImgBox=this.cache.elBigImgBox;var maskXY=this.getMaskXY(el),bigImgBoxXY=this.getBigImgBoxXY(el,maskXY);if(miniImgPosBox){YUD.setXY(miniImgPosBox,maskXY);}
YUD.setXY(bigImgBox,bigImgBoxXY);var strTemplate=(this.config.extraMethod&&this.config.extraMethod(el))?this.extraTemplateStr:this.templateStr;bigImgBox.innerHTML=this.parseHtml(strTemplate,this.templateParseHash);},show:function(el){var _self=this;if(this.config.displayDelay>0){_self.cache.timer=setTimeout(function(){_self.resetWH(el);_self.genHtml(el);_self.onlyShow();_self.onShow.fire();},this.config.displayDelay);if(el.isBindTimer===undefined||el.isBindTimer==null){YUE.addListener(el,'mouseout',function(){clearTimeout(_self.cache.timer);});el.isBindTimer=true;}}else{this.resetWH(el);this.genHtml(el);this.onlyShow();this.onShow.fire();}},onlyShow:function(){YUD.setStyle([this.cache.elBigImgBox,this.cache.elMiniImgPosBox],'visibility','visible');this.cache.isHidden=false;},hide:function(e){var _self=this;if(this.config.closeDelay>0){setTimeout(function(){if(_self.cache.isHidden||!_self.cache.canClose)return;YUD.setStyle([_self.cache.elBigImgBox,_self.cache.elMiniImgPosBox],'visibility','hidden');_self.cache.isHidden=true;},this.config.closeDelay);}else{if(this.cache.isHidden||!this.cache.canClose)return;YUD.setStyle([this.cache.elBigImgBox,this.cache.elMiniImgPosBox],'visibility','hidden');this.cache.isHidden=true;}
if(typeof this.config.afterHide=='function'){this.config.afterHide();}},onShow:new YAHOO.util.CustomEvent('onShow',this)});AE.namespace('widget').quickView=QuickView;}());;

AE.namespace('AE.app');if(!AE.app.ghostPanel){AE.app.ghostPanel=function(){this.config={id:'ghost-panel',content:'',offsetFromTop:200,fadeTime:800,delay:400};this.cache={panel:null,reThread:null,fadeThread:null};};AE.app.ghostPanel.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});this._insertButton();if(/MSIE 6/i.test(navigator.userAgent)){YUE.on(window,'scroll',this._scroll,{_self:this});this._appear();}else{this.cache.panel.style.top=this.config.offsetFromTop+'px';}},_insertButton:function(){var panel=document.createElement('div');panel.id=this.config.id;panel.innerHTML=this.config.content;this.cache.panel=panel;document.body.appendChild(panel);},_scroll:function(ev,args){var _self=args._self;_self._hide();_self._setButtonOpacity(0);_self.cache.reThread=setTimeout(function(){clearTimeout(_self.cache.fadeThread);_self._appear();},_self.config.delay);},_appear:function(){this.cache.panel.style.top=this._getButtonTop()+'px';this._fadeIn({time:this.config.fadeTime});},_fadeIn:function(args){var _self=this;var time=args.time;var fraq=10;var step=fraq/time;_self.cache.fadeThread=setTimeout(function(){_self._show();_self._stepOpacity({from:0,to:1,step:step,fraq:fraq});},fraq);},_stepOpacity:function(args){var _self=this;var from=args.from;var to=args.to;var step=args.step;var fraq=args.fraq;var opacity=_self._getButtonOpacity()+parseFloat(step);if(to<=opacity){clearTimeout(_self.cache.fadeThread);opacity=to;_self._setButtonOpacity(opacity);}else{_self._setButtonOpacity(opacity);_self.cache.fadeThread=setTimeout(function(){_self._stepOpacity({from:from,to:to,step:step,fraq:fraq});},fraq);}},_getButtonOpacity:function(){var topStyle=this.cache.panel.style.opacity;if(!topStyle){return 1;}
return parseFloat(topStyle);},_setButtonOpacity:function(opacity){this.cache.panel.style.opacity=opacity;this.cache.panel.style.filter='alpha(opacity='+opacity*100+')';},_getButtonTop:function(){return this._getScrollY()+this.config.offsetFromTop;},_getScrollY:function(){var y;var y1=0;if(document.documentElement){y1=document.documentElement.scrollTop||0;}
var y2=0;if(document.body){y2=document.body.scrollTop||0;}
var y3=window.scrollY||0;y=Math.max(y1,Math.max(y2,y3));return y;},_show:function(){this.cache.panel.style.visibility='visible';},_hide:function(){clearTimeout(this.cache.reThread);this.cache.panel.style.visibility='hidden';}};};;
;(function(){function ClickShow(){var _self=this;var defConfig={targetId:"clickShowTargetId",switchId:"",contentId:"clickShowContentId",bodyClickClose:true,showOrHidden:true,needMask:false,needXY:true,excursion:[0,0],closeBtnsClassName:"",maskIframeClassName:"maskIframe",iframeMaskSrc:globalImgServer+"/js/blank.html",hide:false,onInit:function(){},unInit:function(){},onShow:function(){},unShow:function(){},onHidden:function(){},unHidden:function(){}};var config;var isInited=false;var dTarget,dContent,dSwitch,iframeMask,dCloseBtns;var canClose=true;_self.init=function(oConfig){if(isInited){return false;}
config=oConfig||{};_self.config=config;YAHOO.lang.augmentObject(oConfig,defConfig);config.onInit.apply(_self);dTarget=get(config.targetId);dContent=get(config.contentId);dSwitch=(config.switchId==""?dTarget:get(config.switchId));dCloseBtns=(config.closeBtnsClassName==""?[]:YUD.getElementsByClassName(config.closeBtnsClassName,"*",dContent));if(!dSwitch)return;YUE.on(dTarget,"click",_self.showDirectly);if(config.bodyClickClose){YUE.on(document.body,"click",_self.hiddenDirectly);}
if(dCloseBtns){YUE.on(dCloseBtns,"click",_self.dCloseBtnsClick=function(){_self.hiddenDirectly(null,true);});}
YUE.on(dSwitch,"mouseover",_self.dSwitchMouseover=function(){canClose=false;});YUE.on(dContent,"mouseover",_self.dContentMouseover=function(){canClose=false;});YUE.on(dSwitch,"mouseout",_self.dSwitchMouseout=function(){canClose=true;});YUE.on(dContent,"mouseout",_self.dContentMouseout=function(){canClose=true;});if(config.needMask){iframeMask=document.createElement("iframe");iframeMask.className=config.maskIframeClassName;iframeMask.style.display="none";var targetIndex=0;if(!isNaN(YUD.getStyle(dContent,'zIndex'))){targetIndex=YUD.getStyle(dContent,'zIndex');}
iframeMask.style.zIndex=targetIndex-1;iframeMask.style.top="0px";iframeMask.style.left="0px";if(YAHOO.env.ua.ie===6&&location.protocol=="https:"){iframeMask.src=config.iframeMaskSrc;}
iframeMask.frameBorder=0;dContent.parentNode.appendChild(iframeMask);}
config.unInit.apply(_self);_self.afterHidden=new YAHOO.util.CustomEvent("afterHidden",_self);return _self;};_self.dispose=function(){YUE.removeListener(document.body,"click",_self.hiddenDirectly);YUE.removeListener(dTarget,"click",_self.showDirectly);YUE.removeListener(dCloseBtns,"click",_self.dCloseBtnsClick);YUE.removeListener(dSwitch,"mouseover",_self.dSwitchMouseover);YUE.removeListener(dContent,"mouseover",_self.dContentMouseover);YUE.removeListener(dSwitch,"mouseout",_self.dSwitchMouseout);YUE.removeListener(dContent,"mouseout",_self.dContentMouseout);if(config.needMask){dContent.parentNode.removeChild(iframeMask);}};_self.showDirectly=function(){if(config.hide){return false;}
config.onShow.apply(_self);if(config.showOrHidden&&dContent.style.display!="none"&&YUD.getStyle(dContent,"visibility")!="hidden"){canClose=false;_self.hiddenDirectly(null,true);return;}
var xy=[];if(config.needXY){xy=YUD.getXY(dTarget);dContent.style.visibility='hidden';dContent.style.display="";parsePos(config.excursion);xy[0]+=config.excursion[0];xy[1]+=config.excursion[1];dContent.style.visibility='visible';YUD.setXY(dContent,xy);}else{dContent.style.display="";}
if(config.needMask){iframeMask.style.display="";iframeMask.style.width=dContent.offsetWidth+"px";iframeMask.style.height=dContent.offsetHeight+"px";if(config.needXY){YUD.setXY(iframeMask,xy);}
iframeMask.style.visibility="visible";}
config.unShow.apply(_self);};_self.hiddenDirectly=function(ev,force){if(dContent.style.display=="none")return;config.onHidden.apply(_self);if(canClose||force){if(_self.afterHidden){_self.afterHidden.fire();}
dContent.style.display="none";if(config.needMask){iframeMask.style.display="none";}
config.unHidden.apply(_self);}};_self.getConfig=function(){return config;};var parsePos=function(aPos){if(typeof(aPos[0])=="string"){switch(aPos[0]){case'center':aPos[0]=parseInt(dTarget.offsetWidth/2,10);break;case'right':aPos[0]=(dSwitch.offsetWidth-dContent.offsetWidth);break;default:aPos[0]=0;}}
if(typeof(aPos[1])=="string"){switch(aPos[1]){case'center':aPos[1]=paseInt(dTarget.offsetHeight/2);break;case'bottom':aPos[1]=dTarget.offsetHeight;break;default:aPos[1]=0;}}
return aPos;};}
AE.namespace('widget').clickShow=ClickShow;}());;
;(function(){function ImagesLazyload(){this.config={target:[document],mod:"auto",diff:"default",placeholder:"http://img.alibaba.com/images/eng/style/css_images/gs_bottom_bg.gif",imageSrcAttr:"image-src",imageAltAttr:null,imageTitleAttr:null,imageHeightAttr:null,imageWidthAttr:null,imageStyleAttr:null,singleCallBack:null,callBack:null};}
YAHOO.lang.extend(ImagesLazyload,Object,{_getThreshold:function(){var diff=this.config.diff,ret=YUD.getViewportHeight();if(diff==="default"){return 2*ret;}else{return ret+diff;}},_initLoadEvent:function(){var timer,_self=this;if(this.config.mod==="once"){var loaderOnce=function(){loader(true);YUE.removeListener(document,"mouseover",loaderOnce);};YUE.on(document,"mouseover",loaderOnce);}else{YUE.on(window,"scroll",loader);var loaderResize=function(){_self.threshold=_self._getThreshold();loader(true);};YUE.on(window,"resize",loaderResize);if(this.config.mod==="manual"){_self._loadImgs(true);}}
function loader(force){if(timer)return;timer=setTimeout(function(){_self._loadImgs(force);if(_self.images.length===0){if(_self.config.mod!=="once"){YUE.removeListener(window,"scroll",loader);YUE.removeListener(window,"resize",loaderResize);}
if(typeof _self.config.callBack=='function'){_self.config.callBack();}}else if(_self.config.mod==="once"){timer=null;loader(true);return;}
timer=null;},100);}},_filterImgs:function(){var containers=this.config.target,threshold=this.threshold,placeholder=this.config.placeholder,isManualMod=this.config.mod==="manual"||this.config.mod==="once",n,N,imgs,i,len,img,data_src,DATA_SRC=this.config.imageSrcAttr,ret=[];for(n=0,N=containers.length;n<N;++n){if(!containers[n]){continue;}
imgs=containers[n].getElementsByTagName("img");for(i=0,len=imgs.length;i<len;++i){img=imgs[i];data_src=img.getAttribute(DATA_SRC);if(isManualMod){if(data_src){ret.push(img);}}else{if(YUD.getY(img)>threshold&&!data_src){img.setAttribute(DATA_SRC,img.src);img.src=placeholder;ret.push(img);}}}}
return ret;},_loadImgs:function(force){var scrollTop=YUD.getDocumentScrollTop();if(!force&&scrollTop<=this.config.diff)return;var imgs=this.images,threshold=this.threshold+scrollTop,i,img,data_src,data_alt,data_title,data_height,data_width,remain=[],singleCallBack=this.config.singleCallBack,DATA_SRC=this.config.imageSrcAttr,DATA_ALT=this.config.imageAltAttr,DATA_TITLE=this.config.imageTitleAttr,DATA_HEIGHT=this.config.imageHeightAttr,DATA_WIDTH=this.config.imageWidthAttr,DATA_STYLE=this.config.imageStyleAttr;for(i=0,img;img=imgs[i++];){if(YUD.getY(img)<=threshold){data_src=img.getAttribute(DATA_SRC);data_alt=DATA_ALT&&img.getAttribute(DATA_ALT);data_title=DATA_TITLE&&img.getAttribute(DATA_TITLE);data_height=DATA_HEIGHT&&img.getAttribute(DATA_HEIGHT);data_width=DATA_WIDTH&&img.getAttribute(DATA_WIDTH);data_style=DATA_STYLE&&img.getAttribute(DATA_STYLE);if(YUD.getStyle(img,"visibility")=="hidden"){YUE.on(img,"load",function(){YUD.setStyle(this,"visibility","visible");});}
if(data_src&&img.src!=data_src){if(data_height||data_width||singleCallBack){img.onload=(function(img,data_height,data_width){return function(){img.onload=null;if(data_height){img.setAttribute('height',data_height);}
if(data_width){img.setAttribute('width',data_width);}
if(singleCallBack){singleCallBack.call(null,img);}};}(img,data_height,data_width));}
img.src=data_src;img.removeAttribute(DATA_SRC);}
if(data_alt){img.setAttribute('alt',data_alt);}
if(data_title){img.setAttribute('title',data_title);}
if(data_style){img.style.cssText=data_style;}}else{remain.push(img);}}
this.images=remain;},init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,temp=this.temp;_self.threshold=_self._getThreshold();_self.images=_self._filterImgs();if(_self.images.length>0){_self._initLoadEvent();}
return _self;}});AE.namespace('app').imagesLazyload=ImagesLazyload;}());;

(function(){var B=YAHOO.util;var A=function(D,C,E,F){if(!D){}this.init(D,C,E,F);};A.NAME="Anim";A.prototype={toString:function(){var C=this.getEl()||{};var D=C.id||C.tagName;return(this.constructor.NAME+": "+D);},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(C,E,D){return this.method(this.currentFrame,E,D-E,this.totalFrames);},setAttribute:function(C,E,D){if(this.patterns.noNegatives.test(C)){E=(E>0)?E:0;}B.Dom.setStyle(this.getEl(),C,E+D);},getAttribute:function(C){var E=this.getEl();var G=B.Dom.getStyle(E,C);if(G!=="auto"&&!this.patterns.offsetUnit.test(G)){return parseFloat(G);}var D=this.patterns.offsetAttribute.exec(C)||[];var H=!!(D[3]);var F=!!(D[2]);if(F||(B.Dom.getStyle(E,"position")=="absolute"&&H)){G=E["offset"+D[0].charAt(0).toUpperCase()+D[0].substr(1)];}else{G=0;}return G;},getDefaultUnit:function(C){if(this.patterns.defaultUnit.test(C)){return"px";}return"";},setRuntimeAttribute:function(D){var I;var E;var F=this.attributes;this.runtimeAttributes[D]={};var H=function(J){return(typeof J!=="undefined");};if(!H(F[D]["to"])&&!H(F[D]["by"])){return false;}I=(H(F[D]["from"]))?F[D]["from"]:this.getAttribute(D);if(H(F[D]["to"])){E=F[D]["to"];}else{if(H(F[D]["by"])){if(I.constructor==Array){E=[];for(var G=0,C=I.length;G<C;++G){E[G]=I[G]+F[D]["by"][G]*1;}}else{E=I+F[D]["by"]*1;}}}this.runtimeAttributes[D].start=I;this.runtimeAttributes[D].end=E;this.runtimeAttributes[D].unit=(H(F[D].unit))?F[D]["unit"]:this.getDefaultUnit(D);return true;},init:function(E,J,I,C){var D=false;var F=null;var H=0;E=B.Dom.get(E);this.attributes=J||{};this.duration=!YAHOO.lang.isUndefined(I)?I:1;this.method=C||B.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=B.AnimMgr.fps;this.setEl=function(M){E=B.Dom.get(M);};this.getEl=function(){return E;};this.isAnimated=function(){return D;};this.getStartTime=function(){return F;};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false;}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(B.AnimMgr.fps*this.duration):this.duration;if(this.duration===0&&this.useSeconds){this.totalFrames=1;}B.AnimMgr.registerElement(this);return true;};this.stop=function(M){if(!this.isAnimated()){return false;}if(M){this.currentFrame=this.totalFrames;this._onTween.fire();}B.AnimMgr.stop(this);};var L=function(){this.onStart.fire();this.runtimeAttributes={};for(var M in this.attributes){this.setRuntimeAttribute(M);}D=true;H=0;F=new Date();};var K=function(){var O={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};O.toString=function(){return("duration: "+O.duration+", currentFrame: "+O.currentFrame);};this.onTween.fire(O);var N=this.runtimeAttributes;for(var M in N){this.setAttribute(M,this.doMethod(M,N[M].start,N[M].end),N[M].unit);}H+=1;};var G=function(){var M=(new Date()-F)/1000;var N={duration:M,frames:H,fps:H/M};N.toString=function(){return("duration: "+N.duration+", frames: "+N.frames+", fps: "+N.fps);};D=false;H=0;this.onComplete.fire(N);};this._onStart=new B.CustomEvent("_start",this,true);this.onStart=new B.CustomEvent("start",this);this.onTween=new B.CustomEvent("tween",this);this._onTween=new B.CustomEvent("_tween",this,true);this.onComplete=new B.CustomEvent("complete",this);this._onComplete=new B.CustomEvent("_complete",this,true);this._onStart.subscribe(L);this._onTween.subscribe(K);this._onComplete.subscribe(G);}};B.Anim=A;})();YAHOO.util.AnimMgr=new function(){var C=null;var B=[];var A=0;this.fps=1000;this.delay=1;this.registerElement=function(F){B[B.length]=F;A+=1;F._onStart.fire();this.start();};this.unRegister=function(G,F){F=F||E(G);if(!G.isAnimated()||F==-1){return false;}G._onComplete.fire();B.splice(F,1);A-=1;if(A<=0){this.stop();}return true;};this.start=function(){if(C===null){C=setInterval(this.run,this.delay);}};this.stop=function(H){if(!H){clearInterval(C);for(var G=0,F=B.length;G<F;++G){this.unRegister(B[0],0);}B=[];C=null;A=0;}else{this.unRegister(H);}};this.run=function(){for(var H=0,F=B.length;H<F;++H){var G=B[H];if(!G||!G.isAnimated()){continue;}if(G.currentFrame<G.totalFrames||G.totalFrames===null){G.currentFrame+=1;if(G.useSeconds){D(G);}G._onTween.fire();}else{YAHOO.util.AnimMgr.stop(G,H);}}};var E=function(H){for(var G=0,F=B.length;G<F;++G){if(B[G]==H){return G;}}return-1;};var D=function(G){var J=G.totalFrames;var I=G.currentFrame;var H=(G.currentFrame*G.duration*1000/G.totalFrames);var F=(new Date()-G.getStartTime());var K=0;if(F<G.duration*1000){K=Math.round((F/H-1)*G.currentFrame);}else{K=J-(I+1);}if(K>0&&isFinite(K)){if(G.currentFrame+K>=J){K=J-(I+1);}G.currentFrame+=K;}};};YAHOO.util.Bezier=new function(){this.getPosition=function(E,D){var F=E.length;var C=[];for(var B=0;B<F;++B){C[B]=[E[B][0],E[B][1]];}for(var A=1;A<F;++A){for(B=0;B<F-A;++B){C[B][0]=(1-D)*C[B][0]+D*C[parseInt(B+1,10)][0];C[B][1]=(1-D)*C[B][1]+D*C[parseInt(B+1,10)][1];}}return[C[0][0],C[0][1]];};};(function(){var A=function(F,E,G,H){A.superclass.constructor.call(this,F,E,G,H);};A.NAME="ColorAnim";A.DEFAULT_BGCOLOR="#fff";var C=YAHOO.util;YAHOO.extend(A,C.Anim);var D=A.superclass;var B=A.prototype;B.patterns.color=/color$/i;B.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;B.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;B.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;B.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;B.parseColor=function(E){if(E.length==3){return E;}var F=this.patterns.hex.exec(E);if(F&&F.length==4){return[parseInt(F[1],16),parseInt(F[2],16),parseInt(F[3],16)];}F=this.patterns.rgb.exec(E);if(F&&F.length==4){return[parseInt(F[1],10),parseInt(F[2],10),parseInt(F[3],10)];}F=this.patterns.hex3.exec(E);if(F&&F.length==4){return[parseInt(F[1]+F[1],16),parseInt(F[2]+F[2],16),parseInt(F[3]+F[3],16)];}return null;};B.getAttribute=function(E){var G=this.getEl();if(this.patterns.color.test(E)){var I=YAHOO.util.Dom.getStyle(G,E);var H=this;if(this.patterns.transparent.test(I)){var F=YAHOO.util.Dom.getAncestorBy(G,function(J){return!H.patterns.transparent.test(I);});if(F){I=C.Dom.getStyle(F,E);}else{I=A.DEFAULT_BGCOLOR;}}}else{I=D.getAttribute.call(this,E);}return I;};B.doMethod=function(F,J,G){var I;if(this.patterns.color.test(F)){I=[];for(var H=0,E=J.length;H<E;++H){I[H]=D.doMethod.call(this,F,J[H],G[H]);}I="rgb("+Math.floor(I[0])+","+Math.floor(I[1])+","+Math.floor(I[2])+")";}else{I=D.doMethod.call(this,F,J,G);}return I;};B.setRuntimeAttribute=function(F){D.setRuntimeAttribute.call(this,F);if(this.patterns.color.test(F)){var H=this.attributes;var J=this.parseColor(this.runtimeAttributes[F].start);var G=this.parseColor(this.runtimeAttributes[F].end);if(typeof H[F]["to"]==="undefined"&&typeof H[F]["by"]!=="undefined"){G=this.parseColor(H[F].by);for(var I=0,E=J.length;I<E;++I){G[I]=J[I]+G[I];}}this.runtimeAttributes[F].start=J;this.runtimeAttributes[F].end=G;}};C.ColorAnim=A;})();YAHOO.util.Easing={easeNone:function(B,A,D,C){return D*B/C+A;},easeIn:function(B,A,D,C){return D*(B/=C)*B+A;},easeOut:function(B,A,D,C){return-D*(B/=C)*(B-2)+A;},easeBoth:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B+A;}return-D/2*((--B)*(B-2)-1)+A;},easeInStrong:function(B,A,D,C){return D*(B/=C)*B*B*B+A;},easeOutStrong:function(B,A,D,C){return-D*((B=B/C-1)*B*B*B-1)+A;},easeBothStrong:function(B,A,D,C){if((B/=C/2)<1){return D/2*B*B*B*B+A;}return-D/2*((B-=2)*B*B*B-2)+A;},elasticIn:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F)==1){return A+G;}if(!E){E=F*0.3;}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}return-(B*Math.pow(2,10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E))+A;},elasticOut:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F)==1){return A+G;}if(!E){E=F*0.3;}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}return B*Math.pow(2,-10*C)*Math.sin((C*F-D)*(2*Math.PI)/E)+G+A;},elasticBoth:function(C,A,G,F,B,E){if(C==0){return A;}if((C/=F/2)==2){return A+G;}if(!E){E=F*(0.3*1.5);}if(!B||B<Math.abs(G)){B=G;var D=E/4;}else{var D=E/(2*Math.PI)*Math.asin(G/B);}if(C<1){return-0.5*(B*Math.pow(2,10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E))+A;}return B*Math.pow(2,-10*(C-=1))*Math.sin((C*F-D)*(2*Math.PI)/E)*0.5+G+A;},backIn:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}return E*(B/=D)*B*((C+1)*B-C)+A;},backOut:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}return E*((B=B/D-1)*B*((C+1)*B+C)+1)+A;},backBoth:function(B,A,E,D,C){if(typeof C=="undefined"){C=1.70158;}if((B/=D/2)<1){return E/2*(B*B*(((C*=(1.525))+1)*B-C))+A;}return E/2*((B-=2)*B*(((C*=(1.525))+1)*B+C)+2)+A;},bounceIn:function(B,A,D,C){return D-YAHOO.util.Easing.bounceOut(C-B,0,D,C)+A;},bounceOut:function(B,A,D,C){if((B/=C)<(1/2.75)){return D*(7.5625*B*B)+A;}else{if(B<(2/2.75)){return D*(7.5625*(B-=(1.5/2.75))*B+0.75)+A;}else{if(B<(2.5/2.75)){return D*(7.5625*(B-=(2.25/2.75))*B+0.9375)+A;}}}return D*(7.5625*(B-=(2.625/2.75))*B+0.984375)+A;},bounceBoth:function(B,A,D,C){if(B<C/2){return YAHOO.util.Easing.bounceIn(B*2,0,D,C)*0.5+A;}return YAHOO.util.Easing.bounceOut(B*2-C,0,D,C)*0.5+D*0.5+A;}};(function(){var A=function(H,G,I,J){if(H){A.superclass.constructor.call(this,H,G,I,J);}};A.NAME="Motion";var E=YAHOO.util;YAHOO.extend(A,E.ColorAnim);var F=A.superclass;var C=A.prototype;C.patterns.points=/^points$/i;C.setAttribute=function(G,I,H){if(this.patterns.points.test(G)){H=H||"px";F.setAttribute.call(this,"left",I[0],H);F.setAttribute.call(this,"top",I[1],H);}else{F.setAttribute.call(this,G,I,H);}};C.getAttribute=function(G){if(this.patterns.points.test(G)){var H=[F.getAttribute.call(this,"left"),F.getAttribute.call(this,"top")];}else{H=F.getAttribute.call(this,G);}return H;};C.doMethod=function(G,K,H){var J=null;if(this.patterns.points.test(G)){var I=this.method(this.currentFrame,0,100,this.totalFrames)/100;J=E.Bezier.getPosition(this.runtimeAttributes[G],I);}else{J=F.doMethod.call(this,G,K,H);}return J;};C.setRuntimeAttribute=function(P){if(this.patterns.points.test(P)){var H=this.getEl();var J=this.attributes;var G;var L=J["points"]["control"]||[];var I;var M,O;if(L.length>0&&!(L[0]instanceof Array)){L=[L];}else{var K=[];for(M=0,O=L.length;M<O;++M){K[M]=L[M];}L=K;}if(E.Dom.getStyle(H,"position")=="static"){E.Dom.setStyle(H,"position","relative");}if(D(J["points"]["from"])){E.Dom.setXY(H,J["points"]["from"]);}else{E.Dom.setXY(H,E.Dom.getXY(H));}G=this.getAttribute("points");if(D(J["points"]["to"])){I=B.call(this,J["points"]["to"],G);var N=E.Dom.getXY(this.getEl());for(M=0,O=L.length;M<O;++M){L[M]=B.call(this,L[M],G);}}else{if(D(J["points"]["by"])){I=[G[0]+J["points"]["by"][0],G[1]+J["points"]["by"][1]];for(M=0,O=L.length;M<O;++M){L[M]=[G[0]+L[M][0],G[1]+L[M][1]];}}}this.runtimeAttributes[P]=[G];if(L.length>0){this.runtimeAttributes[P]=this.runtimeAttributes[P].concat(L);}this.runtimeAttributes[P][this.runtimeAttributes[P].length]=I;}else{F.setRuntimeAttribute.call(this,P);}};var B=function(G,I){var H=E.Dom.getXY(this.getEl());G=[G[0]-H[0]+I[0],G[1]-H[1]+I[1]];return G;};var D=function(G){return(typeof G!=="undefined");};E.Motion=A;})();(function(){var D=function(F,E,G,H){if(F){D.superclass.constructor.call(this,F,E,G,H);}};D.NAME="Scroll";var B=YAHOO.util;YAHOO.extend(D,B.ColorAnim);var C=D.superclass;var A=D.prototype;A.doMethod=function(E,H,F){var G=null;if(E=="scroll"){G=[this.method(this.currentFrame,H[0],F[0]-H[0],this.totalFrames),this.method(this.currentFrame,H[1],F[1]-H[1],this.totalFrames)];}else{G=C.doMethod.call(this,E,H,F);}return G;};A.getAttribute=function(E){var G=null;var F=this.getEl();if(E=="scroll"){G=[F.scrollLeft,F.scrollTop];}else{G=C.getAttribute.call(this,E);}return G;};A.setAttribute=function(E,H,G){var F=this.getEl();if(E=="scroll"){F.scrollLeft=H[0];F.scrollTop=H[1];}else{C.setAttribute.call(this,E,H,G);}};B.Scroll=D;})();YAHOO.register("animation",YAHOO.util.Anim,{version:"2.6.0",build:"1321"});;

AE.namespace('AE.list');;

AE.list.AddToCartList=function(){this.config={listId:'',itemClassName:'',buttonClassName:'',productIdClassName:'',productStandardClassName:'',loadingClassName:'',successClassName:'',failedClassName:'',loadingMessage:'',successMessage:'',failedMessage:'',actionUrl:'',proxyUrl:'',proxyDomain:'alibaba.com'};};AE.list.AddToCartList.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,list=get(config.listId);if(!list){return false;}
var items=YUD.getElementsByClassName(config.itemClassName,'*',list),i;for(i=0;i<items.length;i++){var item=items[i];buttons=YUD.getElementsByClassName(config.buttonClassName,'*',item),productIds=YUD.getElementsByClassName(config.productIdClassName,'*',item),productStandards=YUD.getElementsByClassName(config.productStandardClassName,'*',item);var button,productId,productStandard;for(var j=0;j<buttons.length;j++){button=buttons[j],productId=productIds[j].value,productStandard=productStandards[j].value;YUE.on(button,'click',_self.add,{_self:_self,button:button,productId:productId,productStandard:productStandard});}}},add:function(ev,args){var _self=args._self,config=_self.config,button=args.button,productId=args.productId,productStandard=args.productStandard,wrap=button.parentNode;wrap.innerHTML=_self.getContent(config.loadingClassName,config.loadingMessage);var params='productId='+productId+'&standard='+productStandard+'&from=wholesaleList';(new AE.run.ajaxProxy()).asyncRequest('POST',config.shopcartUrl+config.actionUrl,{success:function(data){wrap.innerHTML=_self.getContent(config.successClassName,config.successMessage);},failure:function(data){wrap.innerHTML=_self.getContent(config.failedClassName,config.failedMessage);},timeout:5000},params,{proxy:config.shopcartUrl+config.proxyUrl,domain:config.proxyDomain});},getContent:function(className,message){return'<span class="'+className+'">'+message+'</span>';}};YUE.onContentReady('list-items',function(){try{(new AE.list.AddToCartList()).init({listId:'list-items',itemClassName:'list-item',buttonClassName:'atc-button',productIdClassName:'atc-product-id',productStandardClassName:'atc-product-standard',loadingClassName:'atc-loading',successClassName:'atc-success',failedClassName:'atc-failed',loadingMessage:'Adding...',successMessage:'Added to your <a href="http://shoppingcart.aliexpress.com/shopcart/shopcartDetail.htm">Shopping Cart</a>',failedMessage:'Unable to add to Shopping Cart',actionUrl:'/addToShopcart.htm',proxyUrl:'/ajax_proxy.html',shopcartUrl:'http://shoppingcart.aliexpress.com'||runParams.shopcartUrl,proxyDomain:'aliexpress.com'});}catch(e){}});;

AE.list.refineSelected=function(config){this.config={refineSelected:get('refine-selected'),showFloatBoxTimeout:0,hideFloatBoxTimeout:0};this.temp={refineSelectedItems:[]};this.showFloatBoxTimeoutId='';this.hideFloatBoxTimeoutId='';this.lastFloatBox=null;return this;};AE.list.refineSelected.prototype={colorTheMouseOver:function(ev,args){YUD.addClass(args.target,'mouseover');},colorTheMouseOut:function(ev,args){YUD.removeClass(args.target,'mouseover');},clickTheItem:function(ev,args){var link=args.target.getElementsByTagName('a')[0];top.location.href=link.href;},showFloatBox:function(ev,args){if(this.config.lastFloatBox){this.config.lastFloatBox.style.display='none';}
var hoverBody=YUD.getPreviousSibling(args.target);if(!YUD.hasClass(hoverBody,'hover')){return;}
hoverBody.style.display='block';this.config.lastFloatBox=hoverBody;},hideFloatBox:function(ev,args){var hoverBody=args.target;hoverBody.style.display='none';},showFloatBoxDelay:function(ev,args){var _self=this,config=this.config,temp=this.temp;if(_self.showFloatBoxTimeoutId){clearTimeout(_self.showFloatBoxTimeoutId);}
_self.showFloatBoxTimeoutId=setTimeout(function(){_self.showFloatBox(ev,args);},config.showFloatBoxTimeout);},hideFloatBoxDelay:function(ev,args){var _self=this,config=this.config,temp=this.temp;if(_self.hideFloatBoxTimeoutId){clearTimeout(_self.hideFloatBoxTimeoutId);}
_self.hideFloatBoxTimeoutId=setTimeout(function(){_self.hideFloatBox(ev,args);},config.hideFloatBoxTimeout);},init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,temp=this.temp;if(!config.refineSelected){return false;}
AE.tools.defineEmptyLinks(config.refineSelected);var items=_self.temp.refineSelectedItems=config.refineSelected.getElementsByTagName('dl'),i;for(i=0;i<items.length;i++){var item=items[i];if(YUD.hasClass(item,'hover')){AE.event.onLeave(item,_self.hideFloatBoxDelay,{target:item},_self);}else{AE.event.onEnter(item,_self.showFloatBoxDelay,{target:item},_self);AE.event.onEnter(item,_self.colorTheMouseOver,{target:item},_self);AE.event.onLeave(item,_self.colorTheMouseOut,{target:item},_self);YUE.on(item,'click',_self.clickTheItem,{target:item},_self);}}
if(AE.bom.isIE){CollectGarbage();}
return _self;}};AE.list.RefineList=function(config){this.config={refineList:get('refine-list'),collapseClass:'collapse',viewMoreClass:'view-more-handle',toggleHeight:23,expandTime:0.25,collapseTime:0.25,collapseAllClass:'collapse-all',scrollView:false,autoExpandViewMore:true,viewMoreText:'View More',viewMoreTextClass:'view-more',viewLessText:'View Less',viewLessTextClass:'view-less',unfoldableTitleClass:'sn-parent-title'};this.temp={refineListItems:[],viewMoreHandles:[],collapseAllBtn:get('collapse-all'),collapseItems:[]};return this;};AE.list.RefineList.prototype={toggle:function(ev,args){var _self=this,config=this.config,temp=this.temp,handle=args.handle,collapseClass=args.collapseClass,target=args.target,toggleHeight=args.toggleHeight,attributes,anim;if(handle.locked===true){return;}
if(YUD.hasClass(handle,collapseClass)){if(args.collapseForce===true){return;}
if(args.beforeExpandCall){args.beforeExpandCall.call(_self,args);}
target.style.height='auto';var toHeight=target.offsetHeight;try{target.style.height=target.getElementsByTagName("dt")[0].offsetHeight+"px";}catch(e){target.style.height="0px"}
attributes={height:{to:toHeight}};anim=new YAHOO.util.Anim(target,attributes,config.expandTime,YAHOO.util.Easing.easeOut);anim.onComplete.subscribe(function(s,o){handle.locked=false;target.style.height='auto';YUD.replaceClass(args.handle,args.collapseClass,'no-'+args.collapseClass);if(args.afterExpandCall){args.afterExpandCall.call(_self,args);}});handle.locked=true;anim.animate();}else{if(args.expandForce===true){return;}
if(args.beforeCollapseCall){args.beforeCollapseCall.call(_self,args);}
try{var toHeight=target.getElementsByTagName("dt")[0].offsetHeight;}catch(e){var toHeight='0';}
attributes={height:{to:toHeight}};anim=new YAHOO.util.Anim(target,attributes,config.collapseTime,YAHOO.util.Easing.easeOut);anim.onComplete.subscribe(function(s,o){handle.locked=false;YUD.removeClass(args.handle,'no-'+args.collapseClass);YUD.addClass(args.handle,args.collapseClass);if(args.afterCollapseCall){args.afterCollapseCall.call(_self,args);}});handle.locked=true;anim.animate();}},toggleBeforeExpand:function(args){var _self=this,config=this.config,temp=this.temp;if(args.target.viewMoreHandle&&config.autoExpandViewMore){var i;for(i=0;i<args.target.viewMoreHandle.length;i++){if(args.target.viewMoreHandle[i]){args.target.viewMoreHandle[i].style.display='none';}}
for(i=0;i<args.target.viewMoreBox.length;i++){YUD.getNextSibling(args.target.viewMoreBox[i]).style.height='auto';}}
if(config.scrollView){var scrollAnim=new YAHOO.util.Scroll(document.documentElement||document.body,{scroll:{to:[0,YUD.getY(args.target)]}},config.expandTime);scrollAnim.animate();}},toggleAfterCollapse:function(args){var _self=this,config=this.config,temp=this.temp;_self.temp.collapseItems=YUD.getElementsByClassName(config.collapseClass,'*',config.refineList);var collapseNum=_self.temp.collapseItems.length;if(collapseNum===_self.temp.refineListItems.length){if(_self.temp.collapseAllBtn){_self.temp.collapseAllBtn.style.display='none';}}
if(AE.bom.isIE){CollectGarbage();}},toggleAfterExpand:function(args){var _self=this,config=this.config,temp=this.temp;if(_self.temp.collapseAllBtn){if(_self.temp.collapseAllBtn.style.display==='none'){_self.temp.collapseAllBtn.style.display='';}}
if(AE.bom.isIE){CollectGarbage();}},viewMoreAfterCollapse:function(args){var _self=this,config=this.config,temp=this.temp;args.handleText.innerHTML=config.viewMoreText;YUD.replaceClass(args.handleText,config.viewLessTextClass,config.viewMoreTextClass);if(AE.bom.isIE){CollectGarbage();}},viewMoreAfterExpand:function(args){var _self=this,config=this.config,temp=this.temp;args.handleText.innerHTML=config.viewLessText;YUD.replaceClass(args.handleText,config.viewMoreTextClass,config.viewLessTextClass);if(AE.bom.isIE){CollectGarbage();}},collapseAll:function(){var _self=this,config=this.config,temp=this.temp;var items=_self.temp.refineListItems,i;for(i=0;i<items.length;i++){var item=items[i];var toggleTitle=item.toggleTitle;_self.toggle('function',{handle:toggleTitle.parentNode,collapseClass:config.collapseClass,target:item,toggleHeight:config.toggleHeight,collapseForce:true});}
_self.temp.collapseAllBtn.style.display='none';},init:function(customConfig){if(!get('refine-list')){return;}
this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,temp=this.temp;if(!config.refineList){return false;}
AE.tools.defineEmptyLinks(config.refineList);var items=_self.temp.refineListItems=config.refineList.getElementsByTagName('dl'),i;for(i=0;i<items.length;i++){var item=items[i];var toggleTitle=item.toggleTitle=item.getElementsByTagName('dt')[0];if(!toggleTitle){continue;}
if(toggleTitle.className.indexOf(config.unfoldableTitleClass)===-1){YUE.on(toggleTitle,'click',_self.toggle,{handle:toggleTitle.parentNode,collapseClass:config.collapseClass,target:item,toggleHeight:config.toggleHeight,beforeExpandCall:_self.toggleBeforeExpand,afterExpandCall:_self.toggleAfterExpand,afterCollapseCall:_self.toggleAfterCollapse},_self);}
if(YUD.hasClass(item,config.collapseClass)){_self.temp.collapseItems.push(item);}
var viewMoreHandle=YUD.getElementsByClassName(config.viewMoreClass,'*',item)[0];if(viewMoreHandle){item.viewMoreHandle=YUD.getElementsByClassName(config.viewMoreClass,'*',item);var viewMoreHandleText=item.viewMoreHandleText=viewMoreHandle.getElementsByTagName('span')[0];item.viewMoreBox=YUD.getElementsByClassName(config.viewMoreClass,'*',item);var viewMoreBox=YUD.getNextSibling(viewMoreHandle);YUE.on(viewMoreHandle,'click',_self.toggle,{handle:viewMoreHandle,handleText:viewMoreHandleText,collapseClass:config.viewMoreClass,target:viewMoreBox,toggleHeight:0,afterCollapseCall:_self.viewMoreAfterCollapse,afterExpandCall:_self.viewMoreAfterExpand,holdClass:true},_self);_self.temp.viewMoreHandles.push(viewMoreHandle);}}
var collapseAllBtn=_self.temp.collapseAllBtn=YUD.getElementsByClassName(config.collapseAllClass,'*',config.refineList)[0];if(collapseAllBtn){YUE.on(collapseAllBtn,'click',function(){_self.collapseAll();});}
if(AE.bom.isIE){CollectGarbage();}
return _self;}};AE.list.relatedSearches=function(config){this.config={target:get("related-searches"),viewMoreClass:"view-more",viewMoreContentClass:"view-more-content"};this.temp={viewMoreBtn:"",viewMoreContent:""};return this;};AE.list.relatedSearches.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,temp=this.temp;if(!config.target)return false;var viewMoreBtn=_self.temp.viewMoreBtn=YUD.getElementsByClassName(config.viewMoreClass,"*",config.target)[0];var viewMoreContent=_self.temp.viewMoreContent=YUD.getElementsByClassName(config.viewMoreContentClass,"*",config.target)[0];YUE.on(viewMoreBtn,"click",function(){if(YUD.hasClass(viewMoreBtn,"view-more")){YUD.replaceClass(viewMoreBtn,"view-more","view-less");viewMoreBtn.innerHTML="View Less";viewMoreContent.style.display="block";}else{YUD.replaceClass(viewMoreBtn,"view-less","view-more");viewMoreBtn.innerHTML="View More";viewMoreContent.style.display="none";}})
AE.tools.defineEmptyLinks(config.target);}};AE.list.RefineMore=function(config){this.config={refineCategory:get("refine-category-list"),listMoreClass:"list-view-more",listLessClass:"list-view-less",viewMoreClass:"view-more",viewLessClass:"view-less",btnClass:"view-more-btn"}
this.temp={btnlist:[],moreBox:[]}
return this;}
AE.list.RefineMore.prototype={toggle:function(eve,obj){var _config=obj.object.config,_temp=obj.object.temp,i=obj.num,_a=this;if(YUD.hasClass(_a,_config.viewMoreClass)){YUD.replaceClass(_a,_config.viewMoreClass,_config.viewLessClass);YUD.replaceClass(_temp.moreBox[i],_config.listMoreClass,_config.listLessClass);_a.innerHTML="View less";}else{YUD.replaceClass(_a,_config.viewLessClass,_config.viewMoreClass);YUD.replaceClass(_temp.moreBox[i],_config.listLessClass,_config.listMoreClass);_a.innerHTML="View more";}},init:function(customConfig){if(!get("refine-category-list")){return;}
this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,temp=this.temp;if(!config.refineCategory){return false;}
AE.tools.defineEmptyLinks(config.refineCategory);temp.btnlist=YUD.getElementsByClassName(config.btnClass,'*',config.refineCategory);temp.moreBox=YUD.getElementsByClassName(config.listMoreClass,'*',config.refineCategory);for(var i=0;i<temp.btnlist.length;i++){YUE.on(temp.btnlist[i],"click",_self.toggle,{object:_self,num:i});}}}
AE.list.cateHide=function(){this.config={wrapBox:"refine-category-list",titleClass:'cate-title',titleNodeType:'dt',hideClass:'collapse'};this.cache={heightArr:[]};}
AE.list.cateHide.prototype={init:function(customConfig){if(!get("refine-category-list")){return;}
this.config=YL.merge(this.config,customConfig||{});var _config=this.config;var _self=this;var titileBox=YUD.getElementsByClassName(_config.titleClass,_config.titleNodeType,get(_config.wrapBox));for(var i=0;i<titileBox.length;i++){YUE.on(titileBox[i],"click",_self.toggle,{object:_self,num:i});}},toggle:function(event,obj){var _config=obj.object.config,_temp=obj.object.temp,_cache=obj.object.cache,__self=this,index=obj.num,parentObj=__self.parentNode;if(!YUD.hasClass(__self,_config.hideClass)){_cache.heightArr[index]=parentObj.offsetHeight;var height=__self.offsetHeight;var animHide=new YAHOO.util.Anim(parentObj,{height:{to:height}},0.3,YAHOO.util.Easing.easeOut);animHide.animate();YUD.addClass(__self,_config.hideClass);}else{var animShow=new YAHOO.util.Anim(parentObj,{height:{to:_cache.heightArr[index]}},0.3,YAHOO.util.Easing.easeOut);animShow.onComplete.subscribe(function(){this.getEl().style.height='auto'});animShow.animate();YUD.removeClass(__self,_config.hideClass);}}}
YUE.onDOMReady(function(){(new AE.list.RefineList()).init();(new AE.list.refineSelected()).init();(new AE.list.relatedSearches()).init();(new AE.list.RefineMore()).init();(new AE.list.cateHide()).init();var oRefineList=get('refine-category-list')||get('refine-list');if(!oRefineList){return;}
var link=YUD.getElementsByClassName('view-all-cates','a',oRefineList)[0];if(!link){return;}
var viewAllText=link.innerHTML;var viewFewText='See Fewer Categories';YUE.on(link,'click',function(){var viewAllCls='view-all-cates',viewFewCls='view-few-cates';var toggleOldCls,toggleNewCls;if(this.className==viewAllCls){YUD.replaceClass(this,viewAllCls,viewFewCls);this.innerHTML=viewFewText;toggleOldCls='son-category-hidden';toggleNewCls='son-category-show';}else{YUD.replaceClass(this,viewFewCls,viewAllCls);this.innerHTML=viewAllText;toggleOldCls='son-category-show';toggleNewCls='son-category-hidden';}
var sonCates=YUD.getElementsByClassName(toggleOldCls,'dl',oRefineList);if(sonCates.length==0){sonCates=YUD.getElementsByClassName(toggleOldCls,'dd',oRefineList);}
YUD.replaceClass(sonCates,toggleOldCls,toggleNewCls);});});;

YUE.onDOMReady(function(){var imagesLazyloadTargets=YUD.getElementsByClassName("lazy-load");if(imagesLazyloadTargets.length>0){(new AE.app.imagesLazyload()).init({target:imagesLazyloadTargets,mod:"manual",diff:1000});}});;

YUE.onDOMReady(function(){AE.use(['alitalk'],function(alitalk){alitalk.init({alitalkTextareaId:'alitalks',alitalkIdPre:'talkId',origin:'aliexpress_ws_search'});});});function getFeedBackMessage(from,toMemberType,id1,id2){var feedBackUrl="";var referUrl=document.URL;var memberType="seller";var feedbackMessageServer='http://message.aliexpress.com';if(toMemberType==1){memberType="buyer";}
if(from==11){feedBackUrl=feedbackMessageServer+"/message/new.htm?productId="+id1+"&messageType=product"+"&memberType="+memberType+"&refer="+referUrl.replace(/&/ig,"$");}
else{if(from==12){feedBackUrl=feedbackMessageServer+"/message/new.htm?memberSeq="+id1+"&messageType=member"+"&memberType="+memberType+"&refer="+referUrl.replace(/&/ig,"$");}
else{if(from==13){feedBackUrl=feedbackMessageServer+"/message/new.htm?memberSeq="+id1+"&storeId="+id2+"&messageType=store"+"&memberType="+memberType+"&refer="+referUrl.replace(/&/ig,"$");}
else{feedBackUrl="error404.html";}}}
return feedBackUrl;};

try{if(get('accuracyAssuredContent')){get('accuracyAssuredContent').parentNode.removeChild(get('accuracyAssuredContent'))}}catch(e){};

AE.list.dataRecord={ctrObject:null,_isMakeClickDeplay:function(){if(runParams.ws_page_type==undefined){return false;}
var pageType=runParams.ws_page_type;if(pageType=='3'||pageType=='2'||pageType=='4'||pageType=='5'||pageType=='6'||pageType=='7'||pageType=='8'){return true;}else{return false;}},redirectClick:function(obj,e,params2){var self=this,behavior=self._getClickBehavior(e);if(params2){params2.clickBehavior=behavior;this.sendButtonClicck(params2);}},delayRedirect:function(obj,e){if(this._isMakeClickDeplay()==false){return;}
var link=get(obj);var href=link.getAttribute('href'),target=link.getAttribute('target');var behavior=this._getClickBehavior(e);if(href===null||href===undefined||href===''){return;}
if(behavior!='left'){return;}
if(target=='_blank'||target=='blank'){return;}
YUE.preventDefault(e);setTimeout(function(){window.location.href=href;},90);},sendButtonClicck:function(param){try{if(AE.app.clickStat){AE.app.clickStat.buttonClick(param);}}catch(ex){}},_getAncestorA:function(el){if(el.nodeName.toLowerCase()=='a'){return el;}else{var obj=YUD.getAncestorByTagName(el,'a');if(obj){return obj;}
return null;}},_getClickBehavior:function(e){var be='other',button=e.button,isCtrl=e.ctrlKey;var ie=YAHOO.env.ua.ie;if(ie==0||ie>=9){if(isCtrl&&button=='0'){be='ctrlleft';}else if(button=='0'){be='left';}else if(button=='1'){be='middle';}else if(button=='2'){be='right';}}else if(ie<=8){if(isCtrl&&button=='1'){be='ctrlleft';}else if(button=='1'){be='left';}else if(button=='4'){be='middle';}else if(button=='2'){be='right';}}
return be;},_getQrData:function(node){var dataArr=null;if(node==null||node==undefined){dataArr=null;}else{var qrData=node.getAttribute('qrdata');if(qrData===null||qrData===undefined){dataArr=null;}else if(qrData===''){dataArr=[];}else{dataArr=qrData.split('|');}}
return dataArr;},_isValidClsName:function(elementClsName,clsName){var isValid=false;if(elementClsName.indexOf(clsName)!=-1){isValid=true;}else{isValid=false;}
return isValid;},crumbClick:function(){var self=this;var oCrumb=get('aliGlobalCrumb');if(!oCrumb){return;}
var links=oCrumb.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this,text=target.innerHTML,params2={},clsName=this.className;var objectValue='',buttonType='',pageArea='',objectType='',projectId='';if(self._isValidClsName(clsName,'j-smart-query-0')){objectType='keyword';objectValue=text;pageArea='smart_query';buttonType='smart_query_0';projectId='46200';}else if(self._isValidClsName(clsName,'j-smart-query-1')){objectType='keyword';objectValue=text;pageArea='smart_query';buttonType='smart_query_1';projectId='46200';}else{if(text=='Home'){objectValue='home';}else if(text=='All Categories'||text=='Wholesale Product'){objectValue='all_categories';}else{objectValue='category';}
pageArea='breadcrumb_navigation';buttonType='breadcrumb_navigation';projectId='15219';}
params2={projectId:projectId,pageType:'list',pageArea:pageArea,buttonType:buttonType,objectType:objectType,objectValue:objectValue};self.redirectClick(this,e,params2);});},popSearchClick:function(){var self=this;var oPopSearch=get('pop-search');if(!oPopSearch){return;}
var links=oPopSearch.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var text=target.innerHTML;if(text=='View Less'||text=='View More'){return;}
var params2={};params2={projectId:'15204',pageType:'list',pageArea:'related_search',buttonType:'related_search',objectType:'keyword',objectValue:text};self.redirectClick(this,e,params2);});},PopularProductClick:function(){var self=this;var popularBox=get('popular-box');if(!popularBox){return;}
var links=popularBox.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var img=target.getElementsByTagName('img')[0];var text;if(img){text=img.getAttribute('alt');}else{text=target.innerHTML;}
var params2={};params2={projectId:'61202',pageType:'list',pageArea:'cate_market',buttonType:'cate_market',objectType:'keyword',objectValue:text};self.redirectClick(this,e,params2);});},_isHasRelatesSearch:function(){if(get('pop-search')){return true;}else{return false;}},_isHasCrossLink:function(){if(get('related-searches')){return true;}else{return false;}},relatedSearchClick:function(){var self=this;var oRelatedSearch=get('related-searches');if(!oRelatedSearch){return;}
var links=oRelatedSearch.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var text=target.innerHTML;if(text=='View Less'||text=='View More'){return;}
var params2={};params2={projectId:'15214',pageType:'list',pageArea:'list_bottom',buttonType:'cross link',objectType:'keyword',objectValue:text};self.redirectClick(this,e,params2);});},refineSearchClick:function(){var self=this;var oRefineList=get('refine-category-list')||get('refine-list');if(!oRefineList){return;}
var links=oRefineList.getElementsByTagName('a');var inputGo=get('filter-submit');if(links.length==0){return;}
var clickEvent=function(e){var target=this;var clsName=this.className;var id=this.id;var text=target.innerHTML;if(text=='View less'||text=='View more'){return;}
var data=self._getQrData(target),isPrevent=true;var parentNode=YUD.getAncestorByTagName(this,'dl');if(parentNode==null){return;}
var pNodeClsName=parentNode.className;var params2;if(self._isValidClsName(pNodeClsName,'category-list')||self._isValidClsName(pNodeClsName,'sn-content')||self._isValidClsName(pNodeClsName,'son-category')){if(data==null||data.length==0){return;}
params2={projectId:'15203',pageType:'list',pageArea:'refine_search',buttonType:'refine_search',objectType:'category',objectValue:data[0]};}
else if(pNodeClsName=='region'){var newRegionValue='';if(self._isValidClsName(clsName,'region-all')){newRegionValue='all_regoins';}else if(self._isValidClsName(clsName,'region-cn')){newRegionValue='china(mainland)';}else if(self._isValidClsName(clsName,'region-hk')){newRegionValue='hongkong';}else if(self._isValidClsName(clsName,'region-tw')){newRegionValue='taiwan';}else{return;}
params2={projectId:'18200',pageType:'list',pageArea:'region',buttonType:'region',objectValue:newRegionValue};}
else if(id=='filter-submit'){params2={projectId:'15209',pageType:'list',pageArea:'price',buttonType:'price',objectValue:(get('filter-price-from').value+'-'+get('filter-price-to').value)};}
else{if(data==null||data.length==0){return;}
params2={projectId:'15203',pageType:'list',pageArea:'refine_search',buttonType:'refine_search',objectType:'attribute',objectValue:data[0]};}
self.redirectClick(this,e,params2);}
YUE.on(links,'mousedown',function(e){clickEvent.call(this,e);});YUE.on(inputGo,'mousedown',function(e){clickEvent.call(this,e);});},_makeArray:function(array1,array2){var arr=[];for(var i=0;i<array1.length;i++){arr.push(array1[i]);}
for(var i=0;i<array2.length;i++){arr.push(array2[i]);}
return arr;},searchResultClick:function(){var self=this;var oSearchResult=YUD.getElementsByClassName('search-result','div','main-wrap')[0];if(!oSearchResult){return;}
var links=oSearchResult.getElementsByTagName('a');var inputs=oSearchResult.getElementsByTagName('input');var elements=self._makeArray(links,inputs);if(elements.length==0){return;}
YUE.on(elements,'mousedown',function(e){var target=this,input;var targetTagName=target.tagName.toLowerCase();if(targetTagName=='input'){input=target;}else{input=target.previousSibling;}
var clsName=target.className;var id=target.id;var buttonType='',objectValue='t',projectId='';if(self._isValidClsName(clsName,'aplus-i')||id=='aplusSel'){buttonType='assurance_plus';projectId='15207';}
else if(self._isValidClsName(clsName,'bulkQty-a')||id=='bulkQtySel'){buttonType='show_retail_only';projectId='15206';}
else if(self._isValidClsName(clsName,'a-sale-items')||id=='i-sale-items'){buttonType='sale_items';projectId='22204';}
input.checked==false?objectValue='t':objectValue='f';if(buttonType==''){return;}
var params2;params2={projectId:projectId,pageType:'list',pageArea:'hand_filter',buttonType:buttonType,objectValue:objectValue};self.redirectClick(this,e,params2);});},viewFileterClick:function(){var self=this;var oViewFilter=YUD.getElementsByClassName('view-filter','div','main-wrap')[0];if(!oViewFilter){return;}
var links=oViewFilter.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var clsName=target.className;var id=target.id;var buttonType='',objectValue='',projectId='';if(id=='view-list'){buttonType='view';objectValue='list';projectId='15211';}
else if(id=='view-thum'){buttonType='view';objectValue='gallery';projectId='15211';}
else if(self._isValidClsName(clsName,'sort-down-active')||self._isValidClsName(clsName,'sort-down-inactive')){buttonType='sort by';objectValue='number_of_orders';projectId='15210';}
else if(self._isValidClsName(clsName,'sort_price_desc')){buttonType='sort by';objectValue='price(highest)';projectId='15210';}
else if(self._isValidClsName(clsName,'sort_create_desc')){buttonType='sort by';objectValue='date_added';projectId='15210';}
else if(self._isValidClsName(clsName,'sort_price_asc')){buttonType='sort by';objectValue='price(lowest)';projectId='15210';}
else if(self._isValidClsName(clsName,'sort_total_creditelv_desc')){buttonType='sort by';objectValue='seller‘s_rating';projectId='15210';}
else if(self._isValidClsName(clsName,'sort_total_tranpro3_desc')){buttonType='sort by';objectValue='number_of_orders';projectId='15210';}
else if(self._isValidClsName(clsName,'sort_default')){buttonType='sort by';objectValue='best_match';projectId='15210';}
if(buttonType==''){return;}
var params2;params2={projectId:projectId,pageType:'list',pageArea:'hand_filter',buttonType:buttonType,objectValue:objectValue};self.redirectClick(this,e,params2);});},listItemClick:function(){var self=this;var oListItems=get('list-items');if(!oListItems){return;}
YUE.on(oListItems,'click',function(e){var target=YUE.getTarget(e);var link=self._getAncestorA(target);if(link){self.delayRedirect(link,e);}});YUE.on(oListItems,'mousedown',function(e){var target=YUE.getTarget(e);var link=self._getAncestorA(target);if(link){var clsName=link.className;var projectId='15202';var buttonType='';if(self._isValidClsName(clsName,'picRind')){buttonType='click_product_image';}
else if(self._isValidClsName(clsName,'product')){buttonType='click_product_title';}
else if(self._isValidClsName(clsName,'store')){buttonType='view_my_store';}
else if(self._isValidClsName(clsName,'atm16')||self._isValidClsName(clsName,'atm16grey')){buttonType=self._isValidClsName(clsName,'atm16grey')?'chat_now_offline':'chat_now_online';}
else if(self._isValidClsName(clsName,'rate-num')){buttonType='click_feedbacks';}
else if(self._isValidClsName(clsName,'order-num')){buttonType='click_recent_orders';}
else if(self._isValidClsName(clsName,'score-dot')){projectId='36200';buttonType='feedback_score';}
else if(self._isValidClsName(clsName,'similar-link')){buttonType='click_seller_similar_procut';}
if(buttonType==''){return;}
var parentNode=YUD.getAncestorByTagName(link,'li');if(parentNode==null){return;}
var parentClsName=parentNode.className;if(self._isValidClsName(parentClsName,'list-item')==false&&self._isValidClsName(parentClsName,'product-info-container')==false){return;}
var data=self._getQrData(parentNode);if(data==null||data.length<2){return;}
var productId=data[1];var params2;params2={projectId:projectId,pageType:'list',pageArea:'product_list',buttonType:buttonType,objectType:'product_id',objectValue:productId};self.redirectClick(this,e,params2);}});},bridgeViewMoreClick:function(){var self=this;var links=YUD.getElementsByClassName('view-more','a','list-items');YUE.on(links,'click',function(e){self.delayRedirect(this,e);});YUE.on(links,'mousedown',function(e){var target=this;var data=self._getQrData(target);params2={projectId:'54200',pageType:'list',pageArea:'category_top',buttonType:'view_more',objectType:'category_id',objectValue:data[0]};self.redirectClick(this,e,params2);});},promotionListItemClick:function(){var self=this;if(runParams.ws_page_type!='4'){return;}
var oListItems=get('main-wrap');if(!oListItems){return;}
var links=oListItems.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'click',function(e){self.delayRedirect(this,e);});YUE.on(links,'mousedown',function(e){var target=this;var ancestorNode=YUD.getAncestorByClassName(target,'productlist');if(ancestorNode==null){return;}
var parentNode=target.parentNode;var parentClsName=parentNode.className;var buttonType=null;if(self._isValidClsName(parentClsName,'img')){buttonType='click_product_image';}
else if(self._isValidClsName(parentClsName,'texttitle')){buttonType='click_product_title';}
if(buttonType==null){return;}
var data=self._getQrData(ancestorNode);if(data==null||data.length!=2){return;}
var cateId=data[0],productId=data[1];var params2;params2={projectId:'15202',pageType:'list',pageArea:'product_list',buttonType:buttonType,objectType:'product_id',objectValue:productId};self.redirectClick(this,e,params2);});},_isHasSpeelCheck:function(){if(get('spell-suggestion')){return true;}else{return false;}},spellCheckClick:function(){var self=this;var oSpellCheck=get('spell-suggestion');if(!oSpellCheck){return;}
var links=oSpellCheck.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var text=target.innerHTML;var params2;params2={projectId:'15217',pageType:runParams.isZeroResult=='false'?'list_other':'list_zero_result',pageArea:'list',buttonType:'spelling_check',objectType:'keyword',objectValue:text};self.redirectClick(this,e,params2);});},_isHasQrw:function(){if(get('qrw-noresult')){return true;}else{return false;}},qrwClick:function(){var self=this;var oQrw=get('qrw-noresult');if(!oQrw){return;}
var links=oQrw.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var clsName=target.className;var data=self._getQrData(target);if(data==null||data.length==0){return;}
var params2,objectType;if(self._isValidClsName(clsName,'lnk-thumb')||self._isValidClsName(clsName,'lnk-title')){objectType='product';}
else{objectType='keyword';}
params2={projectId:'15215',pageType:runParams.isZeroResult=='false'?'list_less_result':'list_zero_result',pageArea:'list',buttonType:'qrw_preview',objectType:objectType,objectValue:data[0]};self.redirectClick(this,e,params2);});},_isHasQrwRelated:function(){if(YUD.getElementsByClassName('qrw-related-searches','div','main-wrap')[0]){return true;}else{return false;}},qrwRelatedSearchesClick:function(){var self=this;var oQrwRelated=YUD.getElementsByClassName('qrw-related-searches','div','main-wrap')[0];if(!oQrwRelated){return;}
var links=oQrwRelated.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var text=target.innerHTML;var params2;params2={projectId:'15215',pageType:runParams.isZeroResult=='false'?'list_less_result':'list_zero_result',pageArea:'list',buttonType:'qrw_no_preview',objectType:'keyword ',objectValue:text};self.redirectClick(this,e,params2);});},featuredCatesClick:function(){var self=this;var oFeaturedCates=YUD.getElementsByClassName('featured-cats','div','main-wrap')[0];if(!oFeaturedCates){return;}
var links=oFeaturedCates.getElementsByTagName('a');if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var params2;var data=self._getQrData(target);if(data==null||data.length==0){return;}
params2={projectId:'15216',pageType:'list_zero_result',pageArea:'list',buttonType:'recommend_category',objectType:'category',objectValue:data[0]};self.redirectClick(this,e,params2);});},paginationClick:function(){var self=this;var oPagination=get('pagination-bottom');if(!oPagination){return;}
var links=oPagination.getElementsByTagName('a');var input=get('pagination-bottom-goto');var elements=self._makeArray(links,[]);if(input){elements.push(input);}
if(elements.length==0){return;}
YUE.on(elements,'mousedown',function(e){var target=this;var params2;var buttonType,objectValue;if(target.tagName.toLowerCase()=='a'){buttonType='page_turning';objectValue=target.innerHTML;}else{buttonType='page_go';objectValue=get('pagination-bottom-input').value;}
params2={projectId:'15218',pageType:'list',pageArea:'list',buttonType:buttonType,objectType:'page_num',objectValue:objectValue};self.redirectClick(this,e,params2);});},tabBoxClick:function(){var self=this;var oTabBox=YUD.getElementsByClassName('tabbox','ul','main-wrap')[0];if(!oTabBox){return;}
var links=YUD.getElementsByClassName('middle','a',oTabBox);if(links.length==0){return;}
YUE.on(links,'mousedown',function(e){var target=this;var params2;params2={projectId:'15212',pageType:'list',pageArea:'hand_filter',objectType:'list_tab',objectValue:target.innerHTML,buttonType:'list_tab'};self.redirectClick(this,e,params2);});},newPaginationClick:function(){var links=YUD.getElementsByClassName('pg-btn','a',get('new-list-pg'));YUE.on(links,'click',function(){var objectValue=get('new-list-pgno').innerHTML;if(this.className=='pg-btn pg-prev-btn-disable'||this.className=='pg-btn pg-prev-btn'){objectValue--;}else{objectValue++;}
if(objectValue<1)objectValue=1;if(AE.app.clickStat){AE.app.clickStat.buttonClick({projectId:'15218',pageType:'list',buttonType:'page_turning',objectType:'page_num',objectValue:objectValue,pageArea:'list'});}});},sortByClick:function(){var self=this;YUE.on([get('number_of_orders_1'),get('selle_rating_positive')],'click',function(){if(AE.app.clickStat){AE.app.clickStat.buttonClick({projectId:'15210',pageType:'list',buttonType:this.id,objectType:'',objectValue:'',pageArea:'sort_by'});}});YUE.on(get('price_lowest_1'),'click',function(){if(AE.app.clickStat){AE.app.clickStat.buttonClick({projectId:'15210',pageType:'list',buttonType:this.id,objectType:'',objectValue:'',pageArea:'sort_by'});}});YUE.on(get('price_highest_1'),'click',function(){if(AE.app.clickStat){AE.app.clickStat.buttonClick({projectId:'15210',pageType:'list',buttonType:this.id,objectType:'',objectValue:'',pageArea:'sort_by'});}});},_getRefineCateAttr:function(){var self=this;var cateArr=[];var oRefineList=get('refine-category-list')||get('refine-list');if(!oRefineList){return cateArr;}
var oCateList=YUD.getElementsByClassName('category-list','dl',oRefineList)[0];if(!oCateList){return cateArr;}
var links=oCateList.getElementsByTagName('a');if(links.length==0){return cateArr;}
var oCate,qrData;for(var i=0;i<links.length;i++){oCate=links[i];qrData=self._getQrData(oCate);if(qrData!=null&&qrData.length>0){cateArr.push(qrData[0]);}}
return cateArr;},getListCtrObject:function(){var self=this;var expPage='list',expPageArea='list',projectId='15201';var expType,expCondition,expProduct,expAttribute,expResultCnt;var pageSize,pageNo,refer,tmpPageSize;refer=encodeURIComponent(document.referrer);pageNo=runParams.page_no;tmpPageSize=runParams.object_ids.split(';').length;pageSize=tmpPageSize>0?tmpPageSize-1:0;expResultCnt=runParams.resultCount;var arrCates=self._getRefineCateAttr(),refineAttrs;refineAttrs=runParams.refineAttrs?runParams.refineAttrs:'';expAttribute='related_categories::'+arrCates.join(',')+';attr_name::'+refineAttrs;var productIds=runParams.object_ids;expProduct=runParams.object_ids.replace(/,1/g,'');var split='|-f-|',arrConditions=[];arrConditions.push('kw,'+encodeURIComponent(runParams.keyword));runParams.manual=='t'?arrConditions.push('manual_search,t'):{};self._isHasRelatesSearch()?arrConditions.push('related_search,t'):{};self._isHasQrw()?arrConditions.push('qrw_preview,t'):{};self._isHasQrwRelated()?arrConditions.push('qrw_keyword,t'):{};runParams.top_rate_tab=='t'?arrConditions.push('top_rate_tab,t'):{};runParams.activity_tab=='t'?arrConditions.push('activity_tab,t'):{};self._isHasCrossLink()?arrConditions.push('cross_link,t'):{};self._isHasSpeelCheck()?arrConditions.push('spelling_check,t'):{};runParams.a_plus=='t'?arrConditions.push('a_plus,t'):{};(runParams.attribute!=undefined&&runParams.attribute!='')?arrConditions.push('atttribut,'+runParams.attribute):{};(runParams.ship_to!=undefined&&runParams.ship_to!='')?arrConditions.push('ship_to,'+runParams.ship_to):{};(runParams.shipping_method!=undefined&&runParams.shipping_method!='')?arrConditions.push('shipping_method,'+runParams.shipping_method):{};(runParams.deliver!=undefined&&runParams.deliver!='all')?arrConditions.push('deliver,'+runParams.deliver):{};runParams.atm_online=='t'?arrConditions.push('atm_online,'+runParams.atm_online):{};(runParams.price!=undefined&&runParams.price!='')?arrConditions.push('price,'+runParams.price):{};(runParams.region!=undefined&&runParams.region!='f')?arrConditions.push('region,'+runParams.region):{};(runParams.sort_by!=undefined&&runParams.sort_by!='f')?arrConditions.push('sort_by,'+runParams.sort_by):{};runParams.view!=undefined?arrConditions.push('view,'+runParams.view):{};(runParams.category_id!=undefined&&runParams.category_id!=0)?arrConditions.push('cate,'+runParams.category_id):{};runParams.sale_items=='t'?arrConditions.push('sale_items,t'):{};if(window.runParams.new_exception_words&&window.runParams.new_exception_words!=''){arrConditions.push('exclude_words,'+encodeURIComponent(window.runParams.new_exception_words));}
(runParams.smartQuery!=undefined&&runParams.smartQuery=='t')?arrConditions.push('smart_query,t'):{};(runParams.smartQuery!=undefined&&runParams.smartQuery=='t')?arrConditions.push('t_query_count,'+encodeURIComponent(runParams.keyword)+","+runParams.smart_query_count):{};(runParams.similarId!=undefined)?arrConditions.push('seller_similar_product_id,'+runParams.similarId):{};var similarArr=YUD.getElementsByClassName('similar-link');if(similarArr.length>0){arrConditions.push('seller_similar_product,'+similarArr.length);}
var isRetail=get('isRtl')?get('isRtl').checked:false;isRetail?arrConditions.push('showretail,t'):{};if(runParams.isBridge==='y'){arrConditions.push('bridge,t');pageSize='';}
(runParams.isContainingMarketingCategory=='t')?arrConditions.push('cate_market,t'):{};(runParams.drop_cate!=undefined&&runParams.drop_cate=='t')?arrConditions.push('drop_cate,t'):{};(runParams.isTranslated!=undefined&&runParams.isTranslated=='true')?arrConditions.push('is_translated,t'):{};expCondition=arrConditions.join(split);if(runParams.keyword!=''&&runParams.category_id!=0){expType='keyword_category';}else if(runParams.keyword!=''){expType='keyword';}else if(runParams.category_id!=0){expType='category';}
var object={projectId:projectId,expPage:expPage,expPageArea:expPageArea,expType:expType,expCondition:expCondition,expProduct:expProduct,expAttribute:expAttribute,expResultCnt:expResultCnt,pageSize:pageSize,pageNo:pageNo,refer:refer};return object;},listCtr:function(endParams){var self=this;if(self.ctrObject==null){self.ctrObject=self.getListCtrObject();}
if(endParams&&endParams['productIds']){self.ctrObject.expProduct=endParams['productIds'];}
if(AE.app.clickStat){AE.app.clickStat.ctr(self.ctrObject);}},galleryListNewCtrTest:function(){var self=this;var oHasCtrProducts=[];var oLis=YUD.getElementsByClassName('list-item','li','list-items');if(oLis.length==0){return;}
var productCount=oLis.length;var oFirst=oLis[0];var oFirstY=YUD.getY(oFirst);var oProducts=[];var oProductsY=[];var proListBeginY=oFirstY,proListEndY;for(var i=0;i<oLis.length;i++){var oLi=oLis[i];oProducts[i]=oLis[i].getAttribute('qrdata');var y=YUD.getY(oLi),h=oLi.parentNode.offsetHeight;oProductsY[i]={yBegin:y,yEnd:h+y,h:h};}
proListEndY=oProductsY[productCount-1].yEnd;var hasCtr=function(index){var hasCtr=false;if(oHasCtrProducts[index]==undefined){hasCtr=false;oHasCtrProducts[index]=true;}else{hasCtr=true;}
return hasCtr;}
var doCtr=function(){var winHeight=YUD.getViewportHeight();var scrollTop=YUD.getDocumentScrollTop();var docBeginY=scrollTop;var docEndY=scrollTop+winHeight;if(docEndY<=proListBeginY||docBeginY>=proListEndY){return;}
var top=[],middle=[],bottom=[];var bottomMax=3;for(var i=0;i<productCount;i++){var yBE=oProductsY[i];if(yBE.yBegin<docBeginY&&yBE.yEnd<=docEndY&&yBE.yEnd>docBeginY){top.push(i);}else if(yBE.yBegin>=docBeginY&&yBE.yEnd<=docEndY){middle.push(i);}else if(yBE.yBegin>=docBeginY&&yBE.yEnd>docEndY){bottom.push(i);if(bottom.length>=3){break;}}}
var willDoCtrIndex=middle;for(var i=0;i<top.length;i++){var a=(docBeginY-oProductsY[top[i]].yBegin)/oProductsY[top[i]].h;if(a<0.1){willDoCtrIndex.push(top[i]);}}
for(var i=0;i<bottom.length;i++){var b=(docEndY-oProductsY[bottom[i]].yBegin)/oProductsY[bottom[i]].h;if(b>0.6){willDoCtrIndex.push(bottom[i]);}}
var willDoCtrProducts=[];for(var j=0;j<willDoCtrIndex.length;j++){var index=willDoCtrIndex[j];if(hasCtr(index)==false){willDoCtrProducts.push((index+1)+'|'+oProducts[index]);}}
var productIds=willDoCtrProducts.join(',');if(productIds.length>0){self.listCtr({productIds:productIds});}}
doCtr();var doCtrTimeout;YAHOO.util.Event.on(window,'scroll',function(){clearTimeout(doCtrTimeout);doCtrTimeout=setTimeout(function(){doCtr();},200);});},listNewCtrTest:function(){var self=this;var oHasCtrProducts=[];var oLis=YUD.getElementsByClassName('list-item','li','list-items');if(oLis.length==0){return;}
var productCount=oLis.length;var oFirst=oLis[0];var oFirstY=YUD.getY(oFirst);var oFirstHeight=oFirst.offsetHeight;var oProducts=[];var oProductsY=[];var proListBeginY=oFirstY,proListEndY;for(var i=0;i<oLis.length;i++){var oLi=oLis[i];oProducts[i]=oLi.getAttribute('qrdata');var y=YUD.getY(oLi),h=oLi.offsetHeight;oProductsY[i]={yBegin:y,yEnd:h+y,h:h};}
proListEndY=oProductsY[productCount-1].yEnd;var hasCtr=function(index){var hasCtr=false;if(oHasCtrProducts[index]==undefined){hasCtr=false;oHasCtrProducts[index]=true;}else{hasCtr=true;}
return hasCtr;}
var doCtr=function(){var winHeight=YUD.getViewportHeight();var scrollTop=YUD.getDocumentScrollTop();var docBeginY=scrollTop;var docEndY=scrollTop+winHeight;if(docEndY<=proListBeginY||docBeginY>=proListEndY){return;}
var top=[],middle=[],bottom=[];var begin=0,end=0;for(var i=0;i<productCount;i++){var yBE=oProductsY[i];if(yBE.yBegin<docBeginY&&yBE.yEnd<=docEndY&&yBE.yEnd>docBeginY){top.push(i);}else if(yBE.yBegin>=docBeginY&&yBE.yEnd<=docEndY){middle.push(i);}else if(yBE.yBegin>=docBeginY&&yBE.yEnd>docEndY){bottom.push(i);break;}}
var willDoCtrIndex=middle;if(top.length>0){var a=(docBeginY-oProductsY[top[0]].yBegin)/oProductsY[top[0]].h;if(a<0.1){willDoCtrIndex.push(top[0]);}}
if(bottom.length>0){var b=(docEndY-oProductsY[bottom[0]].yBegin)/oProductsY[bottom[0]].h;if(b>0.65){willDoCtrIndex.push(bottom[0]);}}
var willDoCtrProducts=[];for(var j=0;j<willDoCtrIndex.length;j++){var index=willDoCtrIndex[j];if(hasCtr(index)==false){willDoCtrProducts.push((index+1)+'|'+oProducts[index]);}}
var productIds=willDoCtrProducts.join(',');if(productIds.length>0){self.listCtr({productIds:productIds});}}
doCtr();var doCtrTimeout;YAHOO.util.Event.on(window,'scroll',function(){clearTimeout(doCtrTimeout);doCtrTimeout=setTimeout(function(){doCtr();},200);});},sendNarrowDownConifrm:function(confirmType,valueType,confirmValue){this.sendButtonClicck({projectId:'24200',pageType:'list',buttonType:confirmType,objectType:valueType,objectValue:confirmValue,pageArea:'hand_filter'});},sendNarrowCancel:function(){this.sendButtonClicck({projectId:'24200',pageType:'list',buttonType:'cancel',pageArea:'hand_filter'});},sendFilterSubmit:function(minPrice,maxPrice){this.sendButtonClicck({projectId:'15209',pageType:'list',buttonType:'price',objectValue:minPrice+'-'+maxPrice,pageArea:'price'});},sendQuantitySubmit:function(minQuantity,maxQuantity){this.sendButtonClicck({projectId:'80200',pageType:'list',buttonType:'quantity',objectValue:minQuantity+'-'+maxQuantity,pageArea:'quantity'});},sendProductBigImageClick:function(productId){this.sendButtonClicck({projectId:'15202',pageType:'list',pageArea:'product_list',buttonType:'click_product_big_image',objectType:'product_id',objectValue:productId});}};YUE.onDOMReady(function(){try{AE.list.dataRecord.crumbClick();AE.list.dataRecord.popSearchClick();AE.list.dataRecord.searchResultClick();AE.list.dataRecord.relatedSearchClick();AE.list.dataRecord.viewFileterClick();AE.list.dataRecord.listItemClick();AE.list.dataRecord.promotionListItemClick();AE.list.dataRecord.refineSearchClick();AE.list.dataRecord.spellCheckClick();AE.list.dataRecord.qrwClick();AE.list.dataRecord.qrwRelatedSearchesClick();AE.list.dataRecord.featuredCatesClick();AE.list.dataRecord.paginationClick();if(runParams.isBridge==='y'){AE.list.dataRecord.bridgeViewMoreClick();}
AE.list.dataRecord.tabBoxClick();AE.list.dataRecord.newPaginationClick();AE.list.dataRecord.sortByClick();AE.list.dataRecord.PopularProductClick();}
catch(e){}});YUE.on(window,'load',function(){if(runParams.isBridge==='y'||runParams.isZeroResult==='true'){AE.list.dataRecord.listCtr();}});YUE.onDOMReady(function(){try{if(runParams.isBridge!='y'||isZeroResult=='false'){var isGallery=YUD.getElementsByClassName('gallery-mode').length>0?true:false;if(!isGallery){AE.list.dataRecord.listNewCtrTest();}else{AE.list.dataRecord.galleryListNewCtrTest();}}}
catch(e){}});;

YUE.onDOMReady(function(){var viewportWidth=YUD.getViewportWidth(),viewportHeight=YUD.getViewportHeight();var ghostPanel=new AE.app.ghostPanel();ghostPanel.init({id:'go-top',offsetFromTop:viewportHeight-248});var getGotopRight=function(portWidth){var pageWidth=990;if(get('header')){pageWidth=get('header').offsetWidth;}
return parseInt((portWidth-pageWidth)/2-20-48,10);}
setTimeout(function(){var _right=getGotopRight(viewportWidth);if(_right>0){YUD.setStyle('go-top','right',_right+'px');}else{YUD.setStyle('go-top','right','0px');}
YUE.on(window,'scroll',function(){if(ghostPanel._getScrollY()>viewportHeight){YUD.setStyle('go-top','display','block');}else{YUD.setStyle('go-top','display','none');}});YUE.on(window,'resize',function(){var _viewportWidth=YUD.getViewportWidth(),_viewportHeight=YUD.getViewportHeight(),__right=getGotopRight(_viewportWidth);if(__right<0){YUD.setStyle('go-top','right','0px');}else{YUD.setStyle('go-top','right',__right+'px');}
if(_viewportHeight-200<0){YUD.setStyle('go-top','top',_viewportHeight-60+'px');}else{YUD.setStyle('go-top','top',_viewportHeight-200+'px');}});YUE.on('go-top','click',function(){window.scroll(0,0);});},0);});;

AE.namespace('AE.run');if(!AE.run.magnetRefererInfo){AE.run.magnetRefererInfo=(function(){var refererInfo={isShow:false,searchKey:'',largeEnough:''};var _referrer=document.referrer;var _getIsDomain=function(domain){var _reg=/(google|bing|yahoo|yandex|ask|msn|baidu|albch|albkw|albct|asrc=|shoppingsite)/i;return _reg.test(domain);};var _getSearchKey=function(paramStr){if(!paramStr){return'';}
var _array=paramStr.split('&');var _reg=/(^[\?]?q=|^[\?]?text=|^[\?]?p=|^[\?]?SearchText=)/i;for(var i=0,len=_array.length;i<len;i++){if(_reg.test(_array[i])){return _array[i].replace(_reg,'');}}
return'';};var _isEnough=function(){var viewWidth=YUD.getViewportWidth();if(viewWidth<1280){return false;}else{return true;}};var _isUserNew=function(){if(AE.bom.getCookie('xman_us_f')){return false;}else{return true;}};if(_referrer){var _refReg=/(\w+):\/\/([^\:|\/]+)(\:\d*)?(.*\/)([^#|\?|\n]+)?(#.*)?(\?.*)?/i;var _siteReg=/(site:aliexpress\.com|site:www\.aliexpress\.com)/gi;var _refArray=_referrer.match(_refReg);var _refDomain=_refArray[2];var _refParams=_refArray[7];var _isDomain=_getIsDomain(_refDomain);var _isNew=_isUserNew();try{refererInfo.searchKey=decodeURIComponent(_getSearchKey(_refParams)).replace(_siteReg,'').replace(/\+/g,' ').trim();}catch(e){}
refererInfo.largeEnough=_isEnough();if(_isDomain&&_isNew){refererInfo.isShow=true;}}
return refererInfo;})();};

function defend(){document.write='';window.top.location=window.self.location;setTimeout(function(){document.body.innerHTML='';},0);window.self.onload=function(e){document.body.innerHTML='';};}
if(window.top!==window.self){try{if(window.top.document){}else{defend();}}catch(e){defend();}}
AE.list.common={resetPageUrl:function(key,value,originalUrl){var url=originalUrl||(runParams.allProductUrl?runParams.allProductUrl:window.location.href);var param=this.getUrlValueByKey(key);if(!value||value.length<=0){url=url.replace('&'+key+'='+param,'');url=url.replace('?'+key+'='+param+'&','?');url=url.replace('?'+key+'='+param,'');}
else if(!param||param.length<=0){if(url.indexOf(key+'=')>=0){url=url.replace(key+'=',key+'='+value);}else if(url.indexOf('?')<0){url+='?'+key+'='+value;}else{url+='&'+key+'='+value;}}
else{url=url.replace(key+'='+param,key+'='+value);}
return url;},getUrlValueByKey:function(key){key=key.replace(/[\[]/,'\\\[').replace(/[\]]/,'\\\]');var regexS='[\\?&]'+key+'=([^&#]*)';var regex=new RegExp(regexS);var results=regex.exec(runParams.allProductUrl?runParams.allProductUrl:window.location.href);if(results==null){return'';}else{return results[1];}},removeParamByKey:function(params,key){var value=this.getUrlValueByKey(key);params=params.replace('&'+key+'='+value,'');params=params.replace('?'+key+'='+value+'&','?');params=params.replace('?'+key+'='+value,'');return params;}};YUE.onDOMReady(function(){window.openGsIcon=function(){window.open(globalImgServer+'/hermes/goldsuppliers.html','forbuyerchina');};if(runParams.isZeroResult=='false'){if(get("tab-wsalert")){YUE.on("tab-wsalert","mouseover",function(){YUD.addClass(this.parentNode,"tabbox-wsalert");YUD.addClass(this,"ws-alert-tips");})
YUE.on("tab-wsalert","mouseout",function(){YUD.removeClass(this.parentNode,"tabbox-wsalert");YUD.removeClass(this,"ws-alert-tips");})}
if(get("ws-adds")){var wsAdds=get("ws-adds"),wsSubmit=get("ws-submit"),wsForm=get("wsalert-form");YUE.on(wsAdds,"focus",function(e){if(wsAdds.value=="Email address"){wsAdds.style.color="#666"
wsAdds.value="";}});}}
if(get('pop-search')){var containerId='pop-search',viewCtrlEl=YUD.getElementsByClassName('pop-view-ctrl','a',containerId)[0],moreKeyWordEl=YUD.getElementsByClassName('pop-keyword-more','span',containerId)[0];onViewCtrlClick=function(){if(moreKeyWordEl.style.display!='none'){moreKeyWordEl.style.display='none';viewCtrlEl.className='view-more';viewCtrlEl.innerHTML='View More';}
else{moreKeyWordEl.style.display='';viewCtrlEl.className='view-less';viewCtrlEl.innerHTML='View Less';}};YUE.on(viewCtrlEl,'click',onViewCtrlClick);}
var discountInfo=YUD.getElementsByClassName('discount-info');if(discountInfo[0]){YUE.on(discountInfo,'mouseover',function(){var overshowId='discount-overshow'+this.id.replace('discount','');var currentXY=YUD.getXY(this);var overshow=document.createElement('span');overshow.id=overshowId;overshow.className='discount-overshow'
overshow.style.left=currentXY[0]+'px';overshow.style.top=currentXY[1]+23+'px';overshow.innerHTML='Get $'+this.getAttribute('discount')+' off for every $'+this.getAttribute('fixed')+' <br />you spend in this store<span class=\'overshow-arrow arrow\'></span>';document.body.appendChild(overshow);});YUE.on(discountInfo,'mouseout',function(){var overshowId='discount-overshow'+this.id.replace('discount','');if(get(overshowId)){document.body.removeChild(get(overshowId));}});}
var scoreIcon=YUD.getElementsByClassName('score-icon');if(scoreIcon[0]){YUE.on(scoreIcon,'mouseover',function(){var feedBackScore=this.getAttribute('feedBackScore');var sellerPositiveFeedbackPercentage=this.getAttribute('sellerPositiveFeedbackPercentage');if(feedBackScore&&sellerPositiveFeedbackPercentage){var overshowId='score-overshow'+this.id.replace('score','');var currentXY=YUD.getXY(this);var overshow=document.createElement('span');overshow.id=overshowId;overshow.className='discount-overshow'
overshow.style.left=currentXY[0]-8+'px';overshow.style.top=currentXY[1]+23+'px';overshow.innerHTML='Seller\'s Feedback Score: <span style=\'font-weight:bold;\'>'+this.getAttribute('feedBackScore')+'</span><br/>Positive Feedback:<span style=\'font-weight:bold;\'>'+this.getAttribute('sellerPositiveFeedbackPercentage')+'%</span><span class=\'overshow-arrow arrow\'></span>';document.body.appendChild(overshow);}});YUE.on(scoreIcon,'mouseout',function(){var overshowId='score-overshow'+this.id.replace('score','');if(get(overshowId)){document.body.removeChild(get(overshowId));}});}
var oTip=get('russian-search-translate-tip');if(oTip){var hiddenRussianTip=function(){if(oTip){oTip.style.display='none';}};var bodyClick=function(ev,arg){var target=ev.target||ev.srcElement;if(target.id!='russian-search-translate-tip'){hiddenRussianTip();YUE.removeListener(document.body,'click',bodyClick);}};YUE.on(document.body,'click',bodyClick);YUE.on('SearchTextIdx','focus',function(){hiddenRussianTip();});YUE.on('SearchTextIdx','click',function(){hiddenRussianTip();});YUE.on('categories-title','mouseover',function(){hiddenRussianTip();});}
var refererInfo=AE.run.magnetRefererInfo;if(refererInfo&&refererInfo.isShow){var lport=window.location.port;if(lport){var locationPath='http://www.aliexpress.com:1080';}else{var locationPath='http://www.aliexpress.com';}
var headerElm=YUD.getElementsByClassName('header')[0];var url=locationPath+'/api/get_branding_new_coupon2.htm';YAHOO.util.Connect.asyncRequest("GET",url,{timeout:5000,failure:function(){},success:function(data){var html=data.responseText;var magnetWrapElm=document.createElement('div');YUD.insertBefore(magnetWrapElm,headerElm);magnetWrapElm.innerHTML=html;YUD.addClass(magnetWrapElm,'magnet-wrap-hat');YUD.setStyle('magnet-hat','overflow','hidden');if(localStorage&&localStorage.magnetHat!='no'){YUD.setStyle('magnet-hat','display','block');setTimeout(function(){var anim=new YAHOO.util.Anim('magnet-hat',{height:{to:0}});anim.animate();anim.onComplete.subscribe(function(){YUD.setStyle('magnet-hat','display','none');var anim2=new YAHOO.util.Anim('magnet-hat-close',{height:{to:38}});anim2.animate();anim2.onComplete.subscribe(function(){YUD.setStyle('magnet-hat-close','padding','3px 0');});});},8000);}else{YUD.setStyle('magnet-hat-close','height','38px');YUD.setStyle('magnet-hat-close','padding','3px 0');}
YUE.on('mh-close','click',function(){YUD.setStyle('magnet-hat','display','none');YUD.setStyle('magnet-hat-close','display','block');localStorage.magnetHat='no';});YUE.on('mh-open','click',function(){YUD.setStyle('magnet-hat','height','124px');YUD.setStyle('magnet-hat','display','block');YUD.setStyle('magnet-hat-close','display','none');});if(AE.app.clickStat){AE.app.clickStat.ctr({projectId:'16201',expPage:'list_n',expPageArea:'banner,coupon,newbuyer_zoon',expType:'',expCondition:'',expProduct:'',expAttribute:'',expResultCnt:3});YUE.on(YUD.getElementsByClassName('mh-branding','','magnet-hat')[0],'mousedown',function(){AE.app.clickStat.buttonClick({projectId:'16200',pageType:'list_n',pageArea:'banner',buttonType:'',objectType:'',objectValue:''});});YUE.on([YUD.getElementsByClassName('mh-coupon','','magnet-hat')[0],YUD.getElementsByClassName('mhc-coupon','','magnet-hat-close')[0]],'mousedown',function(e){AE.app.clickStat.buttonClick({projectId:'16200',pageType:'list_n',pageArea:'coupon',buttonType:'',objectType:'',objectValue:''});});YUE.on([YUD.getElementsByClassName('mh-new','','magnet-hat')[0],YUD.getElementsByClassName('mhc-new','','magnet-hat-close')[0]],'mousedown',function(e){AE.app.clickStat.buttonClick({projectId:'16200',pageType:'list_n',pageArea:'newbuyer_zoon',buttonType:'',objectType:'',objectValue:''});});}}});}});;

AE.list.pagination=function(config){this.config={target:get('pagination-bottom'),pageInput:get('pagination-bottom-input'),goToInput:get('pagination-bottom-goto')};this.temp={max:'100'};return this;};AE.list.pagination.prototype={goto:function(pageNum){var _self=this,config=this.config,toPage,temp=this.temp;if(pageNum===''||pageNum===0){pageNum=1;}
if(pageNum>0&&(pageNum<=temp.max)){toPage=pageNum;}else{toPage=temp.max;if(runParams.ws_page_type=='4'){toPage=pageNum;}}
var pageLinks=config.target.getElementsByTagName('a');var baseUrlTemp=pageLinks[pageLinks.length-1].href;var basePageUrl=baseUrlTemp.replace(/.*\?/,'?');if(basePageUrl.indexOf('page=')>=0){var url=baseUrlTemp.replace(/page=\d+/g,'page='+toPage);}else{var url=baseUrlTemp.replace(/\d+.html/g,toPage+'.html');}
window.location.href=url;},init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,temp=this.temp;if(!config.target){return false;}
var pageInput=config.pageInput;if(YUD.getElementsByClassName('page-next','*',config.target).length>0){temp.pageNext=YUD.getElementsByClassName('page-next','*',config.target)[0];if(get('pagination-max')){temp.max=parseInt(get('pagination-max').innerHTML,10);}else{temp.max=parseInt(YUD.getPreviousSibling(temp.pageNext).innerHTML,10);}}else{temp.pageEnd=YUD.getElementsByClassName('page-end','*',config.target)[0];if(get('pagination-max')){temp.max=parseInt(get('pagination-max').innerHTML,10);}else{temp.max=parseInt(YUD.getPreviousSibling(temp.pageEnd).innerHTML,10);}}
YUE.on(config.goToInput,'click',function(){var pageNum=config.pageInput.value.replace(/\D/g,'').replace(/^0+/g,'');_self.goto(pageNum);});YUE.on(config.pageInput,'keyup',function(e){if(e.keyCode===13){var pageNum=config.pageInput.value.replace(/\D/g,'').replace(/^0+/g,'');_self.goto(pageNum);}});if(AE.bom.isIE){CollectGarbage();}
return _self;}};(new AE.list.pagination()).init();;

AE.namespace('AE.list.relatedProduct');AE.list.relatedProduct=function(){this.config={getProductUrl:"http://recommend.aliexpress.com/personal/ajaxRecommendProducts.htm",proxyUrl:"http://recommend.aliexpress.com/ajax_proxy.html",userId:"userId",offerIds:"offerIds",getHistory:false,historyWrapper:"history-product",recommendWrapper:"recommend-product",customerWrapper:"customer-product",domain:"aliexpress.com",historyCookieKey:"aep_history",productContainerClass:" rel-products",memberIdKey:"xman_us_f",fromPage:"404",slideCount:5,recomNO:[],offerConatinerId:"offerIds",pageType:1};};AE.list.relatedProduct.prototype={init:function(customConfig){var config=this.config=YL.merge(this.config,customConfig||{}),_self=this;_self.fillProductList();return _self;},fillProductList:function(){var config=this.config,_self=this,url=config.getProductUrl,ajaxProxy=new AE.run.ajaxProxy(),callback={success:function(res){var response=res.responseText;if(!response)return;_self.parseProductJson(response);},failure:function(){},timeout:5000};var memberIdGroup=YAHOO.util.Cookie.get(config.memberIdKey),memberId,isMember=false;var userReg=/x_user=([^&]+)/;if(memberIdGroup&&memberIdGroup.match(userReg)){memberIdGroup=RegExp.$1;memberIdGroup=memberIdGroup.split('|');memberId=memberIdGroup[4];isMember=true;}
if(!memberId)return;_self.memberId=memberId;_self.isMember=isMember;var params={userId:memberId};if(config.getHistory){params.historyIds=_self.fetchHistoryIds()||"d";params.fromPage=config.fromPage;}
if(get(config.offerIds)){params.offerIds=get(config.offerIds).value||"";}
var postData="";for(var x in params){postData+=x+"="+params[x]+"&";}
ajaxProxy.asyncRequest("POST",url,callback,postData,{proxy:config.proxyUrl,domain:config.domain});},parseProductJson:function(json){var config=this.config,_self=this,productJson=YAHOO.lang.JSON.parse(json),recommendArray=productJson.recommend,customerArray=productJson.customer,historyArray=productJson.history,recomNO=config.recomNO;if(recomNO.length==0){switch(config.pageType){case 1:recomNO=[2002,2001];break;case 2:recomNO=[2003,2004];break;case 3:recomNO=[2005,2006];break;default:recomNO=[];}}
_self.fillList(config.historyWrapper,historyArray);_self.fillList(config.recommendWrapper,recommendArray,recomNO[1]);_self.fillList(config.customerWrapper,customerArray,recomNO[0]);},fillList:function(container,data,recomNo){if(!container||!data||data.length==0)return;var _self=this,config=this.config,wrapper=get(container);var renderResult=_self.renderProductList(data),content=renderResult.html,productIds=renderResult.ids;if(content!=""&&wrapper){if(get(container+"-wp")){YUD.setStyle(container+"-wp","display","block");}
wrapper.innerHTML=content;_self.showStat(productIds,config.pageType,recomNo);_self.liveClickStat(recomNo,container);_self.initCarousel(wrapper);}},liveClickStat:function(recomNo,container){var _self=this,config=this.config,_productId;productLinks=get(container).getElementsByTagName("a");YUE.on(productLinks,"click",function(e){YUE.stopPropagation(e);_productId=this.getAttribute("rel");if(!_productId){_productId=this.parentNode.getAttribute("rel")}
_self.clickStat(_productId,config.pageType,recomNo);});},showStat:function(ids,page,recomNo){if(typeof(dmtrack)=='undefined'||!ids)return;var url="http://stat.alibaba.com/bt/aliexpress_show.html",params={Page:page,Object_type:"offer",ObjectID:ids,rec_id:recomNo,user_id:this.memberId,isMember:this.isMember};dmtrack.clickstat(url,params);},clickStat:function(id,page,recomNo){if(!dmtrack||!id)return;var url="http://stat.alibaba.com/bt/aliexpress_click.html",params={Page:page,Object_type:"offer",ObjectID:id,rec_id:recomNo,user_id:this.memberId,isMember:this.isMember};dmtrack.clickstat(url,params);},renderProductList:function(productArray){var result=[],productIds=[],self=this;var maxItem=self.config.slideCount*2;for(var i=0;i<productArray.length;i++){if(i>=maxItem)break;var product=productArray[i];productIds.push(product.productId);var tmpUnit="sell_by_lot"==product.packageType?"lot":product.unitType;try{if(product.pieceUnitType){tmpUnit=product.pieceUnitType;}}catch(e){}
result=result.concat(['<li><div class="g-items-pic" rel="',product.productId,'"><a href="',product.productUrl,'" class="lnk-thumb"><img src="',product.imageUrl,'" alt="'+
XMLEncode(product.fullProductName)+'" /></a></div><div class="g-items-name"><a title="',XMLEncode(product.fullProductName),'" href="',product.productUrl,'" rel="',product.productId,'">',product.simpleProductName,'</a></div><div class="cost"><b>US $',product.minPrice,' </b> / ',tmpUnit,' </div>',"sell_by_lot"==product.packageType?('<div class="count">Min.Order:'+product.lotNum+' '+product.unitType+' </div>'):('<div class="count">Min.Order: 1 '+tmpUnit+'</div>'),'</li>']);}
return{html:result.join(""),ids:productIds};},initCarousel:function(listWrapper){var parentContainer=listWrapper.parentNode.id.split("-")[0];if(!parentContainer||!get(parentContainer))return;var slideBox=get(parentContainer).parentNode.parentNode;slideBox.id=parentContainer+"-box";(new AE.app.Slidebox()).init({slideboxId:slideBox.id,containerClassName:'pnl-slide-container',prevClassName:'lnk-prev',nextClassName:'lnk-next',prevDisabledClassName:'lnk-prev-disabled',nextDisabledClassName:'lnk-next-disabled',slideCount:this.config.slideCount,time:200,resizeItemWidth:172});},filter:function(array,fn,bind){var results=[];for(var i=0,l=array.length;i<l;i++){if((i in array)&&fn.call(bind,array[i],i,array))results.push(array[i]);}
return results;},fetchHistoryIds:function(){var config=this.config,value=YAHOO.util.Cookie.get(config.historyCookieKey),productIds=[];if(value==""||value==null)return"";if(/\$U/.test(value)){var historyGroups=value.split("\n\n");historyGroups=this.filter(historyGroups,function(item){return item.indexOf('product')!==-1;});if(historyGroups.length===0){return"";}
var productGroup=historyGroups[0].split("^\n")[1];if(!productGroup)return"";var productItem=productGroup.split("$\n");if(productItem.length==0)return"";var historyCount=0;historyCount=(productItem.length>3?3:(productItem.length));for(var i=0;i<historyCount;i++){productIds.push(productItem[i].split("\t")[0]);}
return productIds.join(",");}else{var arr=value.split('\n\n'),item=[],productArr=[];for(var i=0,len=arr.length;i<len;i++){if(/product_selloffer/.test(arr[i])){item=arr[i].split('\t');break;}}
for(var i=0,len=item.length;i<len;i++){if(parseInt(item[i],10)>0){productArr.push(item[i]);}}
return productArr.toString();}},fetchProductIds:function(){return"";}};;

var _wsalertInput=get("wsaalertmail");if(_wsalertInput){YUE.on(_wsalertInput,"focus",function(){if(this.value=="Your email address"){this.value="";}
YUD.addClass(_wsalertInput,"inp-txt-active");});YUE.on(_wsalertInput,"blur",function(){if(this.value==""){YUD.removeClass(_wsalertInput,"inp-txt-active");}});YUE.on(_wsalertInput.parentNode,"submit",function(e){if(!_wsalertInput.value.match(/^\s*\w+(?:\.{0,1}[\w-]+)*@[a-zA-Z0-9]+(?:[-.][a-zA-Z0-9]+)*\.[a-zA-Z]+\s*$/i)){alert("Please enter your email address");_wsalertInput.value="Your email address";YUD.removeClass(_wsalertInput,"inp-txt-active");YUE.stopEvent(e);}})}
var asksearchForm=get('asksearchlistfootsearchform');if(asksearchForm&&get('SearchTextIdx')){var searchCategory=get('searchCategory');var asksearchValue='How do I find {keyword}{category}?';var categoryIndex=searchCategory.selectedIndex;var categoryName=categoryIndex?searchCategory.options[categoryIndex].innerHTML.replace(/&amp;/g,'&'):null;asksearchValue=categoryName?asksearchValue.replace('{category}',' in '+categoryName):asksearchValue.replace('{category}','');if(categoryName){asksearchForm.myTags.value+=(','+categoryName);}
get('asksearchlistfootsearchvalue').value=asksearchValue.replace('{keyword}',get('SearchTextIdx').value);}
YUE.onDOMReady(function(){if(get('recommend-product')||get('customerWrapper')||get('history-product')){(new AE.list.relatedProduct()).init({getHistory:true,getProductUrl:runParams.recomUrl+'/personal/ajaxRecommendProducts.htm',proxyUrl:runParams.recomUrl+'/ajax_proxy.html',slideCount:6,recomNO:[2007,2008],fromPage:'list',pageType:4});}});;
;(function(){var LocalStorage=AE.namespace('app').LocalStorage={_get:function(){},_set:function(){},_remove:function(){},_initUserData:function(){if(!this._elUserData){this._elUserData=document.createElement('style');this._elUserData.style.display='none';this._elUserData.style.behavior='url("#default#userData")';this._elUserData.id='AeAppLocalStorageUserDataWrapper';this._elHead.appendChild(this._elUserData);this._elUserData.expires=new Date(2019,0,1,7,59,59).toUTCString();this._elUserData.load('oXMLBranch');}},_detect:function(){if(window.localStorage){this._useLocalStorage();}else if(window.globalStorage){this._useGlobalStorage();}else if(window.ActiveXObject){this._elHead=document.getElementsByTagName('head')[0];this._elHead.id='htmlheadtag';YUE.onAvailable('htmlheadtag',function(){this._initUserData();this._setUserData('_test','test');if(this._getUserData('_test','test')==='test'){this._removeUserData('_test','test');this._useUserData();}else{this._elUserData=null;this._useCookie();}},null,this,true);}else{this._useCookie();}},_setLocalStorage:function(name,value){window.localStorage.setItem(name,value);},_getLocalStorage:function(name){return window.localStorage.getItem(name);},_removeLocalStorage:function(name){window.localStorage.removeItem(name);},_setGlobalStorage:function(name,value){window.globalStorage[document.domain][name]=value;},_getGlobalStorage:function(name){var res=window.globalStorage[document.domain][name].value;if(isNaN(res)){return null;}else{return res;}},_removeGlobalStorage:function(name){window.globalStorage[document.domain][name]=null;},_setUserData:function(name,value){this._elUserData.setAttribute(name,value);this._elUserData.save('oXMLBranch');},_getUserData:function(name){return this._elUserData.getAttribute(name);},_removeUserData:function(name){this._elUserData.removeAttribute(name);this._elUserData.save('oXMLBranch');},_setCookie:function(name,value){var str,obj,YLJ=YAHOO.lang.JSON;str=AE.util.getCookie('localstorage');obj=YLJ.parse(str||'{}');obj[name]=value;str=YLJ.stringify(obj);AE.util.setCookie('localstorage',str,1);},_getCookie:function(name){var str,obj,value,YLJ=YAHOO.lang.JSON,lang=YAHOO.lang;str=AE.util.getCookie('localstorage');obj=YLJ.parse(str||'{}');value=obj[name];if(lang.isUndefined(value)){value=null;}
return value;},_removeCookie:function(name){var str,obj,YLJ=YAHOO.lang.JSON;str=AE.util.getCookie('localstorage');obj=YLJ.parse(str||'{}');delete obj[name];str=YLJ.stringify(obj);if(str==='{}'){AE.util.removeCookie('localstorage');}else{AE.util.setCookie('localstorage',str,1);}},_useLocalStorage:function(){this._support='localStorage';this._set=this._setLocalStorage;this._get=this._getLocalStorage;this._remove=this._removeLocalStorage;},_useGlobalStorage:function(){this._support='globalStorage';this._set=this._setGlobalStorage;this._get=this._getGlobalStorage;this._remove=this._removeGlobalStorage;},_useUserData:function(){this._support='userData';this._set=this._setUserData;this._get=this._getUserData;this._remove=this._removeUserData;},_useCookie:function(){this._support='cookie';if(!YAHOO.lang.JSON){this._importJSON();}
this._set=this._setCookie;this._get=this._getCookie;this._remove=this._removeCookie;},_switch:function(type){switch(type){case'localStorage':this._useLocalStorage();break;case'globalStorage':this._useGlobalStorage();break;case'userData':if(this._elUserData){this._useUserData();}else{YUE.onAvailable('htmlheadtag',function(){this._initUserData();this._useUserData();},null,this,true);}
break;case'cookie':this._useCookie();break;}},_importJSON:function(){(function(){var l=YAHOO.lang,isFunction=l.isFunction,isObject=l.isObject,isArray=l.isArray,_toStr=Object.prototype.toString,Native=(YAHOO.env.ua.caja?window:this).JSON,_UNICODE_EXCEPTIONS=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_ESCAPES=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,_VALUES=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,_BRACKETS=/(?:^|:|,)(?:\s*\[)+/g,_UNSAFE=/^[\],:{}\s]*$/,_SPECIAL_CHARS=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,_CHARS={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},UNDEFINED="undefined",OBJECT="object",NULL="null",STRING="string",NUMBER="number",BOOLEAN="boolean",DATE="date",_allowable={"undefined":UNDEFINED,"string":STRING,"[object String]":STRING,"number":NUMBER,"[object Number]":NUMBER,"boolean":BOOLEAN,"[object Boolean]":BOOLEAN,"[object Date]":DATE,"[object RegExp]":OBJECT},EMPTY="",OPEN_O="{",CLOSE_O="}",OPEN_A="[",CLOSE_A="]",COMMA=",",COMMA_CR=",\n",CR="\n",COLON=":",COLON_SP=": ",QUOTE='"';Native=_toStr.call(Native)==="[object JSON]"&&Native;function _char(c){if(!_CHARS[c]){_CHARS[c]="\\u"+("0000"+(+(c.charCodeAt(0))).toString(16)).slice(-4);}return _CHARS[c];}function _revive(data,reviver){var walk=function(o,key){var k,v,value=o[key];if(value&&typeof value==="object"){for(k in value){if(l.hasOwnProperty(value,k)){v=walk(value,k);if(v===undefined){delete value[k];}else{value[k]=v;}}}}return reviver.call(o,key,value);};return typeof reviver==="function"?walk({"":data},""):data;}function _prepare(s){return s.replace(_UNICODE_EXCEPTIONS,_char);}function _isSafe(str){return l.isString(str)&&_UNSAFE.test(str.replace(_ESCAPES,"@").replace(_VALUES,"]").replace(_BRACKETS,""));}function _parse(s,reviver){s=_prepare(s);if(_isSafe(s)){return _revive(eval("("+s+")"),reviver);}throw new SyntaxError("JSON.parse");}function _type(o){var t=typeof o;return _allowable[t]||_allowable[_toStr.call(o)]||(t===OBJECT?(o?OBJECT:NULL):UNDEFINED);}function _string(s){return QUOTE+s.replace(_SPECIAL_CHARS,_char)+QUOTE;}function _indent(s,space){return s.replace(/^/gm,space);}function _stringify(o,w,space){if(o===undefined){return undefined;}var replacer=isFunction(w)?w:null,format=_toStr.call(space).match(/String|Number/)||[],_date=YAHOO.lang.JSON.dateToString,stack=[],tmp,i,len;if(replacer||!isArray(w)){w=undefined;}if(w){tmp={};for(i=0,len=w.length;i<len;++i){tmp[w[i]]=true;}w=tmp;}space=format[0]==="Number"?new Array(Math.min(Math.max(0,space),10)+1).join(" "):(space||EMPTY).slice(0,10);function _serialize(h,key){var value=h[key],t=_type(value),a=[],colon=space?COLON_SP:COLON,arr,i,keys,k,v;if(isObject(value)&&isFunction(value.toJSON)){value=value.toJSON(key);}else{if(t===DATE){value=_date(value);}}if(isFunction(replacer)){value=replacer.call(h,key,value);}if(value!==h[key]){t=_type(value);}switch(t){case DATE:case OBJECT:break;case STRING:return _string(value);case NUMBER:return isFinite(value)?value+EMPTY:NULL;case BOOLEAN:return value+EMPTY;case NULL:return NULL;default:return undefined;}for(i=stack.length-1;i>=0;--i){if(stack[i]===value){throw new Error("JSON.stringify. Cyclical reference");}}arr=isArray(value);stack.push(value);if(arr){for(i=value.length-1;i>=0;--i){a[i]=_serialize(value,i)||NULL;}}else{keys=w||value;i=0;for(k in keys){if(keys.hasOwnProperty(k)){v=_serialize(value,k);if(v){a[i++]=_string(k)+colon+v;}}}}stack.pop();if(space&&a.length){return arr?OPEN_A+CR+_indent(a.join(COMMA_CR),space)+CR+CLOSE_A:OPEN_O+CR+_indent(a.join(COMMA_CR),space)+CR+CLOSE_O;}else{return arr?OPEN_A+a.join(COMMA)+CLOSE_A:OPEN_O+a.join(COMMA)+CLOSE_O;}}return _serialize({"":o},"");}YAHOO.lang.JSON={useNativeParse:!!Native,useNativeStringify:!!Native,isSafe:function(s){return _isSafe(_prepare(s));},parse:function(s,reviver){return Native&&YAHOO.lang.JSON.useNativeParse?Native.parse(s,reviver):_parse(s,reviver);},stringify:function(o,w,space){return Native&&YAHOO.lang.JSON.useNativeStringify?Native.stringify(o,w,space):_stringify(o,w,space);},dateToString:function(d){function _zeroPad(v){return v<10?"0"+v:v;}return d.getUTCFullYear()+"-"+_zeroPad(d.getUTCMonth()+1)+"-"+_zeroPad(d.getUTCDate())+"T"+_zeroPad(d.getUTCHours())+COLON+_zeroPad(d.getUTCMinutes())+COLON+_zeroPad(d.getUTCSeconds())+"Z";},stringToDate:function(str){var m=str.match(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{3}))?Z$/);if(m){var d=new Date();d.setUTCFullYear(m[1],m[2]-1,m[3]);d.setUTCHours(m[4],m[5],m[6],(m[7]||0));return d;}return str;}};YAHOO.lang.JSON.isValid=YAHOO.lang.JSON.isSafe;})();YAHOO.register("json",YAHOO.lang.JSON,{version:"2.8.2r1",build:"7"});},_init:function(){this._detect();},get:function(name,options){var converter,data,lang=YAHOO.lang;;if(lang.isFunction(options)){converter=options;options={};}else if(lang.isObject(options)){converter=options.converter;}else{options={};}
if(!lang.isString(name)||name===''){throw new TypeError('Cookie.get(): Cookie name must be a non-empty string.');}
data=this._get(name);if(!lang.isFunction(converter)){return data;}else{return converter(data);}},set:function(name,value){var lang=YAHOO.lang;if(!lang.isString(name)){throw new TypeError('name must be a string.');}
if(lang.isUndefined(value)){throw new TypeError('Value cannot be undefined.');}
this._set(name,value);},remove:function(name,options){if(!YL.isString(name)||name===''){throw new TypeError('name must be a non-empty string.');}
this._remove(name);},getSupport:function(){return this._support;}};LocalStorage._init();}());;

AE.namespace('AE.app');if(!AE.app.dialog){AE.app.dialog=function(){this.config={tempContentId:'',closeClassName:'',contentClassName:'',contentTop:null,fixed:false,maskColor:'#666',maskDivId:'ae-mask',zIndex:1024,title:'title',contentHTML:'',callback:null,isEscUsed:true};this.cache={isIE6:false,contentEl:null};};AE.app.dialog.prototype={init:function(customConfig){var config=YL.merge(this.config,customConfig||{});var _self=this;_self.config=config;var contentEl;if(AE.bom.isIE6){this.cache.isIE6=true;}
contentEl=_self._addContentDom();this.cache.contentEl=contentEl;_self._appendTitle(contentEl);_self._appendContent(contentEl);_self._run({contentEl:contentEl});_self._bindActions({contentEl:contentEl});},_appendTitle:function(contentEl){if(this.config.title){var titleEl=document.createElement('h3');var titleTextEl=document.createTextNode(this.config.title);titleEl.appendChild(titleTextEl);contentEl.appendChild(titleEl);}},_appendContent:function(contentEl){var contentTempEl=document.createElement('div');contentTempEl.innerHTML=this.config.contentHTML;contentEl.appendChild(contentTempEl);},_bindActions:function(args){var _self=this;var config=_self.config;var contentEl=args.contentEl;YUE.on(window,'resize',_self._onResize,{_self:_self,contentEl:contentEl});var closeEl=YUD.getElementsByClassName(config.closeClassName,'a',contentEl)[0];YUE.on(closeEl,'click',_self._close,{_self:_self});YUE.on(document,'keyup',_self._onKeyup,{_self:_self,config:config,contentEl:contentEl});YUE.on(document,'keydown',_self._onKeydown,{_self:_self,config:config,contentEl:contentEl});if(_self.cache.isIE6&&_self.config.fixed){YUE.on(window,'scroll',_self._scroll,{_self:_self,config:config,contentEl:contentEl});}},_onKeydown:function(ev,args){var _self=args._self;var config=_self.config;var contentEl=args.contentEl;},_onKeyup:function(ev,args){var _self=args._self;var config=_self.config;var contentEl=args.contentEl;if(ev.keyCode==27&&config.isEscUsed){_self.close();}},_addContentDom:function(){var _self=this;var config=_self.config;var tempContentEl=YUD.get(config.tempContentId);tempContentEl.style.zIndex=(config.zIndex+1);tempContentEl.style.display='block';return tempContentEl;},_scroll:function(ev,args){var _self=args._self;var config=args.config;var contentEl=args.contentEl;var top=_self._computeStyleTop({contentEl:args.contentEl});contentEl.style.top=top+'px';},_close:function(ev,args){var _self=args._self;var config=_self.config;var maskEl=YUD.get(config.maskDivId);if(maskEl){maskEl.parentNode.removeChild(maskEl);var contentEl;var oSrcElement=ev.target||ev.srcElement;YUE.removeListener(oSrcElement,'click',_self._close);contentEl=oSrcElement.parentNode;contentEl.style.display='none';contentEl.innerHTML='<a href="#" class="'+_self.config.closeClassName+'"></a>';YUE.removeListener(document,'keyup',_self._onKeyup);}
YUE.removeListener(window,'resize',_self._onResize);if(_self.config.callback){_self.config.callback();}
YUE.stopEvent(ev);},_computeStyleTop:function(args){var _self=this;var contentEl=args.contentEl,styleTop=null;if(!!_self.config.contentTop){styleTop=_self.config.contentTop+'px';}else{styleTop=(document.documentElement.clientHeight-contentEl.offsetHeight)/2;if(_self.cache.isIE6){styleTop=styleTop+YUD.getDocumentScrollTop();}}
return parseInt(styleTop,10);},_adjustPosition:function(args){var _self=args._self;var config=args.config;var contentEl=args.contentEl;var maskElWidth=parseFloat(_self._getComputedStyle(contentEl,'width'));if(!isNaN(maskElWidth)){contentEl.style.left=parseInt((document.body.clientWidth-maskElWidth)/2,10)+'px';}
var top=_self._computeStyleTop({contentEl:args.contentEl});contentEl.style.top=top+'px';},_run:function(args){var _self=this;var config=_self.config;var maskEl;maskEl=document.createElement('div');maskEl.id=config.maskDivId;maskEl.style.opacity=0.5;maskEl.style.width=YUD.getDocumentWidth()+'px';maskEl.style.height=document.documentElement.clientHeight+'px';maskEl.style.filter='alpha(opacity = 50)';maskEl.style.zIndex=config.zIndex;if(_self.cache.isIE6){maskEl.style.height=YUD.getDocumentHeight()+'px';var iframe=document.createElement('iframe');iframe.style.position='absolute';iframe.style.top=0;iframe.style.left=0;iframe.style.opacity=0.5;iframe.src='https://ipaystyle.alibaba.com/js/5v/util/blank.html';iframe.style.width=YUD.getDocumentWidth()+'px';iframe.style.height=YUD.getDocumentHeight()+'px';iframe.style.backgroundColor=config.maskColor;iframe.style.filter='alpha(opacity = 50)';iframe.style.zIndex=config.zIndex;maskEl.appendChild(iframe);}
document.body.appendChild(maskEl);_self._adjustPosition({_self:_self,config:config,contentEl:args.contentEl});YUD.getElementsByClassName(config.closeClassName,'a',args.contentEl)[0].focus();},_onResize:function(ev,args){var _self=args._self;var config=_self.config;var maskEl=YUD.get(config.maskDivId);var contentEl=args.contentEl;if(contentEl&&maskEl){maskEl.style.width='0';_self._adjustPosition({_self:_self,config:config,contentEl:args.contentEl});maskEl.style.width=document.documentElement.scrollWidth+'px';if(_self.cache.isIE6){maskEl.style.height=YUD.getDocumentHeight()+'px';}
else{maskEl.style.height=document.documentElement.clientHeight+'px';}}},_getComputedStyle:function(el,style){var result='';if(window.getComputedStyle){result=window.getComputedStyle(el,null)[style];}
else{result=el.currentStyle[style];}
return result;},close:function(){var config=this.config;var closeEl=YUD.getElementsByClassName(config.closeClassName,'a',this.cache.contentEl)[0];if(document.createEvent){var evt=document.createEvent('MouseEvents');evt.initEvent('click',true,true);closeEl.dispatchEvent(evt);}
else{closeEl.click();}}};};

AE.namespace('AE.run');if(!AE.run.popXmanDialog){AE.run.popXmanDialog=function(){this.config={sourceId:'',xmanTempContentId:'',xmanContentClassName:'',xmanCloseClassName:'',registerAction:'',usaeServer:'',registerFrom:'',couponCode:'',sessionId:'',registerSuccessCallback:null,loginSuccessCallback:null,unDefaultDo:null,loginCallBackGlobal:'LOGIN_CALLBACK',regCheckCodeServer:'http://checktoken1.alibaba.com/service/checkcode',tipsContent:'',unClose:false};this.cache={type:'l',ajaxEmailCheck:false,lastCheckEmail:'',maskEl:{},oDialog:{}};};AE.run.popXmanDialog.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,cache=this.cache;var cookie_logined=AE.bom.getCookie('xman_us_t'),check_reg=new RegExp('sign=y');if(config.sourceId!==''){YUE.on(config.sourceId,'click',function(ev){window[config.loginCallBackGlobal]=function(){config.loginSuccessCallback.call();};cookie_logined=AE.bom.getCookie('xman_us_t');if(cookie_logined&&check_reg.test(cookie_logined)){cache.type='';}else if(AE.app.cookieInfo['firstName']){cache.type='l';}else{cache.type='r';}
if(cache.type==='r'||cache.type==='l'){YUE.stopEvent(ev);}
if(cache.type&&cache.type!==''){_self._popXmanDialog(cache.type);}else{if(config.unDefaultDo!==null){YUE.stopEvent(ev);config.unDefaultDo();}}});}else{window[config.loginCallBackGlobal]=function(){config.loginSuccessCallback.call();};if(cookie_logined&&check_reg.test(cookie_logined)){cache.type='';}else if(AE.app.cookieInfo['firstName']){cache.type='l';cache.originPassport='';}else{cache.type='r';}
if(cache.type&&cache.type!==''){_self._popXmanDialog(cache.type);}else{if(config.unDefaultDo!==null){config.unDefaultDo();}}}
YUE.on(window,'load',function(){(new Image()).src='http://i02.i.aliimg.com/images/eng/wholesale/icon/loading-middle.gif';(new Image()).src='http://i02.i.aliimg.com/images/eng/wholesale/icon/loading_1.gif';});},_onXmanSuccess:function(){var _self=this,config=_self.config,cache=_self.cache;var registerCurrent='',loginCurrent='',registerDisplay='display:none;',loginDisplay='display:none;';if(cache.type==='r'){registerCurrent='current';registerDisplay='display:block';}else{loginCurrent='current';loginDisplay='display:block';}
get('ws-xman-wrapper').innerHTML='<ul class="ws-xman-tab-menu">'+'    <li class="ws-xman-tab-item '+registerCurrent+'"><span><a href="javascript:;" style="outline: medium none;">Not a Member?</a></span></li>'+'    <li class="ws-xman-tab-item '+loginCurrent+'"><span><a href="javascript:;" style="outline: medium none;">Already an AliExpress/Alibaba Member?</a></span></li>'+'</ul>'+'<div class="ws-xman-form xman-box-content" style="'+registerDisplay+'">'+'    <form  method="post">'+'        <table class="ws-xman-register-table">'+'            <tbody>'+'                <tr>'+'                    <td colspan="2"><div class="error-tip" id="ws-xman-register-server-info" style="display:none;">Server Error!</div></td>'+'                </tr>'+'                <tr><th colspan="2"><span>Email:</span></th></tr>'+'                <tr>'+'                    <td style="width:200px;"><input type="text" class="input-text" name="" id="ws-xman-register-email" /></td>'+'                    <td style="width:218px;"><img id="ws-xman-email-checking" src="http://i02.i.aliimg.com/images/eng/wholesale/icon/loading_1.gif" width="16" height="16" alt="loading" style="display:none;vertical-align:middle" /> <div class="error-tip" id="ws-xman-register-email-info" style="display:none;"></div></td>'+'                </tr>'+'                <tr><th colspan="2"><span>Contact Name:</span></th></tr>'+'                <tr>'+'                    <td>'+'                         <input type="text" class="input-name" name="" id="ws-xman-register-fname" placeholder="First Name">'+'                         <input type="text" class="input-name" name="" id="ws-xman-register-lname" placeholder="Last Name">'+'                    </td>'+'                    <td><div class="error-tip" id="ws-xman-register-name-info" style="display:none;"></div></td>'+'                </tr>'+'                <tr><th colspan="2"><span>Password:</span></th></tr>'+'                <tr>'+'                    <td>'+'                        <input type="password" class="input-text" name="" id="ws-xman-register-password">'+'                    </td>'+'                    <td><div class="error-tip" id="ws-xman-register-password-info" style="display:none;"></div></td>'+'                </tr>'+'                <tr><th colspan="2"><span>Reenter Password:</span></th></tr>'+'                <tr>'+'                    <td>'+'                        <input type="password" class="input-text" name="" id="ws-xman-register-repassword">    '+'                    </td>'+'                    <td><div class="error-tip" id="ws-xman-register-repassword-info" style="display:none;"></div></td>'+'                </tr>'+'                <tr><th colspan="2"><span>Enter the Code Shown:</span></th></tr>'+'                <tr>'+'                    <td>'+'                        <input type="text" class="input-text" name="" id="ws-xman-register-checkcode" style="width:150px;float:left;">'+'                    </td>'+'                    <td><div class="error-tip" id="ws-xman-register-checkcode-info" style="display:none;"></td>'+'                </tr>'+'                <tr>'+'                    <td colspan="2">'+'                       <img width="150" height="40" alt="checkcode" title="Refresh" id="ws-xman-register-checkcode-img" src="'+config.regCheckCodeServer+'?sessionID='+config.sessionId+'&type=mark&t='+Math.random()+'">'+'                       <a href="javascript:void(0);" id="ws-xman-register-refresh-code">Refresh</a>'+'                    </td>'+'                </tr>'+'                <tr>'+'                    <td colspan="2" style="padding-top:5px;">'+'                        <input type="checkbox" checked="checked" class="input-checkbox" name="" id="ws-xman-register-agreement" value="agreement">'+'                            AliExpress.com Free Membership '+'                        <a href="http://news.alibaba.com/article/detail/help/100453670-1-alibaba.com-free-membership-agreement.html" target="_blank">Agreement</a>'+'                    </td>'+'                </tr>'+'            </tbody>'+'        </table>'+'        <div class="submit-box">'+'            <a type="button" class="buttonSkinA1" id="ws-xman-register-submit">Create My Account</a>'+'        </div>    '+'    </form>'+'</div>'+'<div class="ws-xman-form" id="xman-login-wrapper" style="'+loginDisplay+'"></div>';_self._initXmanTab();YUE.on('ws-xman-register-email','blur',_self._onEmailBlur,{_self:_self});YUE.on('ws-xman-register-lname','blur',_self._onUserNameBlur,{_self:_self});YUE.on('ws-xman-register-password','blur',_self._onPasswordBlur,{_self:_self});YUE.on('ws-xman-register-repassword','blur',_self._onRepasswordBlur,{_self:_self});YUE.on('ws-xman-register-checkcode','blur',_self._onCheckCodeBlur,{_self:_self});YUE.on('ws-xman-register-refresh-code','click',function(){_self.getRegCheckCode('ws-xman-register-checkcode-img',_self.config.regCheckCodeServer);},{_self:_self});YUE.on('ws-xman-register-agreement','click',function(ev,args){if(this.checked){YUD.removeClass(get('ws-xman-register-submit'),'buttonSkinC1');YUD.addClass(get('ws-xman-register-submit'),'buttonSkinA1');}else{YUD.removeClass(get('ws-xman-register-submit'),'buttonSkinA1');YUD.addClass(get('ws-xman-register-submit'),'buttonSkinC1');}},{_self:_self});var _doRegister=function(ev,args){if(YUD.hasClass('ws-xman-register-submit','buttonSkinC1')){return;}
var _self=args._self,config=_self.config,cache=_self.cache,check=true;var userInutEmail=get('ws-xman-register-email').value;check=_self._onCheckCodeBlur.call(get('ws-xman-register-checkcode'),null,{_self:_self})&&check;check=_self._onRepasswordBlur.call(get('ws-xman-register-repassword'),null,{_self:_self})&&check;check=_self._onPasswordBlur.call(get('ws-xman-register-password'),null,{_self:_self})&&check;check=_self._onUserNameBlur.call(get('ws-xman-register-lname'),null,{_self:_self})&&check;check=_self._onUserNameBlur.call(get('ws-xman-register-fname'),null,{_self:_self})&&check;if(!_self.cache.ajaxEmailCheck&&(userInutEmail===''||_self.cache.lastCheckEmail!==userInutEmail)){check=_self._onEmailBlur.call(get('ws-xman-register-email'),null,{_self:_self})&&check;}
if(check&&_self.cache.ajaxEmailCheck){YUD.setStyle(get('ws-xman-register-server-info'),'display','none');var boxRegion=document.getElementById('ws-xman-temp-mask-content');_self.loadingShow(boxRegion.clientHeight+2);var paramArr=[];paramArr.push('action='+config.registerAction);paramArr.push('from='+encodeURIComponent(_self.config.registerFrom));paramArr.push('cc='+config.couponCode);paramArr.push('event_submit_do_buyer_register=anything');paramArr.push('email='+encodeURIComponent(get('ws-xman-register-email').value));paramArr.push('firstName='+encodeURIComponent(get('ws-xman-register-fname').value));paramArr.push('lastName='+encodeURIComponent(get('ws-xman-register-lname').value));paramArr.push('password='+encodeURIComponent(get('ws-xman-register-password').value));paramArr.push('imagePassword='+encodeURIComponent(get('ws-xman-register-checkcode').value));paramArr.push('t='+Math.random());paramArr.push('_csi_='+config.sessionId);YAHOO.util.Get.script(_self.config.usaeServer+'/wsuser/buyerJoin/noMemberResult.htm?'+paramArr.join('&'),{onSuccess:function(o){var _self=o.data._self,config=_self.config,cache=_self.cache;var returnObj=window.REGISTER_RESULT;if(returnObj.result==='true'){var regIframe=document.createElement('iframe');YUD.setStyle(regIframe,'display','none');cache.maskEl.parentNode.appendChild(regIframe);regIframe.src=returnObj.loginUrl;YUE.on(regIframe,'load',function(ev,args){var _self=args._self;if(AE.bom.getCookie('xman_us_t')){cache.maskEl.parentNode.removeChild(cache.maskEl);cache.oDialog.close();config.registerSuccessCallback.call();YUE.removeListener(this,'load');}},{_self:_self});}else{cache.maskEl.parentNode.removeChild(cache.maskEl);if(returnObj.email){_self.showError('ws-xman-register-email',returnObj.email);}
if(returnObj.firstName){_self.showError('ws-xman-register-fname',returnObj.firstName);}
if(returnObj.lastname){_self.showError('ws-xman-register-lname',returnObj.lastname);}
if(returnObj.password){_self.showError('ws-xman-register-password',returnObj.password);}
if(returnObj.repassword){_self.showError('ws-xman-register-repassword',returnObj.repassword);}
if(returnObj.checkCode){_self.showError('ws-xman-register-checkcode','Type the characters you see in the picture');_self.getRegCheckCode('ws-xman-register-checkcode-img',config.regCheckCodeServer);}}},onFailure:function(){cache.maskEl.parentNode.removeChild(cache.maskEl);YUD.setStyle(get('ws-xman-register-server-info'),'display','');},onTimeout:function(){cache.maskEl.parentNode.removeChild(cache.maskEl);YUD.setStyle(get('ws-xman-register-server-info'),'display','');},data:{_self:_self},timeout:10000});}
YUE.stopEvent(ev);};YUE.on('ws-xman-register-submit','click',_doRegister,{_self:_self});YUE.on('ws-xman-register-checkcode','keydown',function(ev,args){if(ev.keyCode==13){_doRegister(ev,args);}},{_self:_self});},_onEmailBlur:function(ev,args){var _self=args._self;if(_self._checkEmail(this.value)){_self.hideInfo(this.id);YUD.setStyle(get('ws-xman-email-checking'),'display','block');_self.cache.lastCheckEmail=this.value;YAHOO.util.Get.script(_self.config.usaeServer+'/wsuser/buyerJoin/ajaxEmailDuplicatedCheck.htm?email='+this.value,{onSuccess:function(o){var _self=o.data._self;YUD.setStyle(get('ws-xman-email-checking'),'display','none');if(EMAIL_CHECK_RESULT.result==='no'){_self.hideError(o.data.id);_self.cache.ajaxEmailCheck=true;}else{_self.showError(o.data.id,'This email already exists.');_self.cache.ajaxEmailCheck=false;}},onFailure:function(o){var _self=o.data._self;YUD.setStyle(get('ws-xman-email-checking'),'display','none');_self.showError(o.data.id,'This email already exists.');_self.cache.ajaxEmailCheck=false;},onTimeout:function(o){var _self=o.data._self;YUD.setStyle(get('ws-xman-email-checking'),'display','none');_self.showError(o.data.id,'This email already exists.');_self.cache.ajaxEmailCheck=false;},data:{_self:_self,id:this.id},timeout:5000});return true;}else{_self.showError(this.id,'Please enter a valid Email Address');return false;}},_onUserNameBlur:function(ev,args){var _self=args._self;var fname=get('ws-xman-register-fname').value;var lname=get('ws-xman-register-lname').value;if(!_self._checkName(fname)){_self.showError(this.id,'Please enter a valid First Name');return false;}else if(!_self._checkName(lname)){_self.showError(this.id,'Please enter a valid Last Name');return false;}else{_self.hideError(this.id);return true;}},_onPasswordBlur:function(ev,args){var _self=args._self;if(_self._checkPassword(this.value)){_self.hideError(this.id);if(get('ws-xman-register-repassword').value.length>0){_self._onRepasswordBlur.call(get('ws-xman-register-repassword'),null,{_self:_self});}
return true;}else{_self.showError(this.id,'Please enter 6 - 20 characters (A-Z, a-z, 0-9 only)');return false;}},_onRepasswordBlur:function(ev,args){var _self=args._self;if(_self._checkPassword(this.value)){if(this.value!==get('ws-xman-register-password').value){_self.showError(this.id,'Passwords are not the same');return false;}else{_self.hideError(this.id);return true;}}else{_self.showError(this.id,'Please enter 6 - 20 characters (A-Z, a-z, 0-9 only)');return false;}},_onCheckCodeBlur:function(ev,args){var _self=args._self;if(_self._checkCode(this.value)){_self.hideError(this.id);return true;}
else{_self.showError(this.id,'Please enter valid Code');return false;}},_checkCode:function(code){var r=/^[\x00-\x7f]{1,250}$/;if(r.test(code)){return true;}else{return false;}},_checkPassword:function(password){var r=/^[\w]{6,20}$/;if(password.length<6||password.length>20){return false;}else if(r.test(password)){return true;}else{return false;}},_checkName:function(name){var r=/^[a-zA-Z .-]{1,128}$/;if(name.length>128){return false;}else if(r.test(name)){return true;}else{return false;}},_checkEmail:function(email){var r1=/^\s*\w+(?:\.{0,1}[\w-]+)*@[a-zA-Z0-9]+(?:[\-.][a-zA-Z0-9]+)*\.[a-zA-Z]+\s*$/i;var r2=/^((?!@(?:.*)alibaba).)*$/i;if(email.length>128){return false;}else if(r1.test(email)&&r2.test(email)){return true;}else{return false;}},showError:function(elId,message){var errorEl=YUD.get(elId+'-info');if(!errorEl){errorEl=get('ws-xman-register-name-info');}
errorEl.innerHTML=message;YUD.removeClass(errorEl,'success-tip');YUD.addClass(errorEl,'error-tip');YUD.setStyle(errorEl,'display','');},hideError:function(elId){var errorEl=get(elId+'-info');if(!errorEl){errorEl=get('ws-xman-register-name-info');}
errorEl.innerHTML='';YUD.removeClass(errorEl,'error-tip');YUD.addClass(errorEl,'success-tip');if(elId!='ws-xman-register-checkcode'){YUD.setStyle(errorEl,'display','');}else{YUD.setStyle(errorEl,'display','none');}},hideInfo:function(elId){var errorEl=get(elId+'-info');if(!errorEl){errorEl=get('ws-xman-register-name-info');}
errorEl.innerHTML='';YUD.removeClass(errorEl,'error-tip');YUD.removeClass(errorEl,'success-tip');YUD.setStyle(errorEl,'display','none');},getRegCheckCode:function(elId,server){var config=this.config,cache=this.cache;var t=Math.random();get(elId).src=server+'?sessionID='+config.sessionId+'&type=mark&t='+t;},loadingShow:function(heightNum){var maskEl=document.createElement('div');maskEl.innerHTML='<img src="http://i02.i.aliimg.com/images/eng/wholesale/icon/loading-middle.gif" width="32" height="32" />';maskEl.id='ws-xman-mask';YUD.setStyle(maskEl,'z-index',parseInt(YUD.getStyle(get(this.config.xmanTempContentId),'z-index'),10)+1);YUD.setStyle(maskEl,'width',YUD.getStyle(get(this.config.xmanTempContentId),'width'));YUD.setStyle(maskEl,'height',heightNum+'px');YUD.setStyle(maskEl,'display','block');get(this.config.xmanTempContentId).appendChild(maskEl);this.cache.maskEl=maskEl;},_initXmanTab:function(){var menuItem=YUD.getElementsByClassName('ws-xman-tab-item','*','ws-xman-wrapper');var contentItem=YUD.getElementsByClassName('ws-xman-form','div','ws-xman-wrapper');for(var i=0,len=menuItem.length;i<len;i++){YUE.on(menuItem[i],'click',function(ev,args){var index=args.index;YUD.removeClass(menuItem,'current');YUD.addClass(menuItem[index],'current');YUD.setStyle(contentItem,'display','none');YUD.setStyle(contentItem[index],'display','block');},{index:i});}},_popXmanDialog:function(type){var _self=this;var config=_self.config;var cache=_self.cache;var xmanDialogHTML='';if(config.tipsContent!==''){xmanDialogHTML=config.tipsContent;}
xmanDialogHTML+='<div id="ws-xman-wrapper">'+'<div id="ws-xman-loading" class="ws-xman-loading"><img src="http://i02.i.aliimg.com/images/eng/wholesale/icon/loading-middle.gif" alt="loading" /></div>'+'</div>';YAHOO.util.Get.script('https://login.alibaba.com/xman/xman.js?pd=aliexpress&display=e&div_id=xman-login-wrapper&style=l&lbutton=c&login=a&tab=j&country_d=us&title=a&callback='+config.loginCallBackGlobal,{onSuccess:function(){_self._onXmanSuccess();},onFailure:function(){get('ws-xman-wrapper').innerHTML='<div style="margin:10px;"><div class="board infoC">Server Error!</div></div>';},onTimeout:function(){get('ws-xman-wrapper').innerHTML='<div style="margin:10px;"><div class="board infoC">Server Error!</div></div>';},timeout:10000});var oDialog=new AE.app.dialog();oDialog.init({tempContentId:config.xmanTempContentId,contentClassName:config.xmanContentClassName,closeClassName:config.xmanCloseClassName,contentTop:70,maskColor:'#666',maskDivId:'ae-mask',zIndex:1024,title:'Sign In or Join for Free!',contentHTML:xmanDialogHTML,callback:null,isEscUsed:false});cache.oDialog=oDialog;var closeEl=YUD.getElementsByClassName(config.xmanCloseClassName,'a',config.xmanTempContentId);if((config.registerFrom&&config.registerFrom=='ATM')||config.unClose){YUD.setStyle(closeEl[0],'display','none');}}};};

AE.namespace("AE.app.falls");AE.app.falls=function(){this.config={selector:get("selector"),selectorTitleClass:"title",selectorOverClass:"over",fromFirstChar:true,content:get("selector-content"),contentItemOverClass:"over",contentIgnoreItemClass:"ignore",contentItemOddClass:"odd",contentItemEvenClass:"even",contentItemCurrentClass:"current",itemHiddenClass:"hidden",isKillTheSame:false,indexInputLength:3,indexInputTime:80,excursion:[0,20]};this.temp={selectorTitle:null,selectorTitleText:null,contentItems:[],contentValidItems:[],itemsCharMapArray:[],itemsCharMap:null,keyListenerInput:null,lastInputChar:null,sameCharLastIndex:1,lastSelectIndex:0};afterSelect=null;return this;};AE.app.falls.prototype={contentItemMouseOver:function(o){var _self=this,config=this.config,temp=this.temp;YUD.addClass(o.item,config.contentItemOverClass);YUD.removeClass(temp.contentValidItems[temp.lastSelectIndex],config.contentItemCurrentClass);temp.lastSelectIndex=null;},contentItemMouseOut:function(o){var _self=this,config=this.config,temp=this.temp;YUD.removeClass(o.item,config.contentItemOverClass);},selectorMouseOver:function(){var _self=this,config=this.config,temp=this.temp;YUD.addClass(config.selector,config.selectorOverClass);},selectorMouseOut:function(){var _self=this,config=this.config,temp=this.temp;YUD.removeClass(config.selector,config.selectorOverClass);},oddEvenColor:function(){var _self=this,config=this.config,temp=this.temp;for(var i=0;i<temp.contentValidItems.length;i++){var item=temp.contentValidItems[i];if(i%2==0){YUD.addClass(item,config.contentItemOddClass);}else{YUD.addClass(item,config.contentItemEvenClass);}}},focusTheKeyListener:function(){var _self=this,config=this.config,temp=this.temp;if(typeof(temp.keyListenerInput.selectionStart)=="number"){temp.keyListenerInput.focus();}else{var oRange=temp.keyListenerInput.createTextRange();oRange.move('character',temp.keyListenerInput.value.length);oRange.select();}},killTheSame:function(){var _self=this,config=this.config,temp=this.temp;for(var i=0;i<temp.contentValidItems.length;i++){var item=temp.contentValidItems[i];itemText=_self.getInnerText(item);if(itemText==temp.selectorTitleText){YUD.addClass(item,config.itemHiddenClass);}else{YUD.removeClass(item,config.itemHiddenClass);}}},contentItemsClick:function(o){var _self=this,config=this.config,temp=this.temp;temp.selectorTitle.innerHTML=o.item.innerHTML;temp.contentClickShow.hiddenDirectly(null,true);_self.afterSelect.fire("afterSelect",{item:o.item});},createKeyListener:function(){var _self=this,config=this.config,temp=this.temp;var keyListenerInput=document.createElement("input");keyListenerInput.style.position="absolute";keyListenerInput.style.left="-50000px";keyListenerInput.maxLength=config.indexInputLength;keyListenerInput.style.imeMode="disabled";config.selector.parentNode.appendChild(keyListenerInput);return keyListenerInput;},getPreviousValidItemIndex:function(index){var _self=this,config=this.config,temp=this.temp;if(YUD.getElementsByClassName(config.contentItemCurrentClass,"*",config.content).length==0){var preIndex=0;}else{var preIndex=index-1;if(preIndex<0){preIndex=temp.contentValidItems.length-1;}
if(YUD.hasClass(temp.contentValidItems[preIndex],config.itemHiddenClass)){if(_self.getPreviousValidItemIndex(preIndex-1)<=0){return _self.getPreviousValidItemIndex(temp.contentValidItems.length-1);}else{return _self.getPreviousValidItemIndex(preIndex-1)+1;}}}
return preIndex;},getNextValidItemIndex:function(index){var _self=this,config=this.config,temp=this.temp;if(YUD.getElementsByClassName(config.contentItemCurrentClass,"*",config.content).length==0){var nextIndex=0;}else{var nextIndex=index+1;if(nextIndex>temp.contentValidItems.length-1){nextIndex=0;}
if(YUD.hasClass(temp.contentValidItems[nextIndex],config.itemHiddenClass)){if(_self.getNextValidItemIndex(nextIndex+1)>temp.contentValidItems.length){return _self.getNextValidItemIndex(0);}else{return _self.getNextValidItemIndex(nextIndex+1)-1;}}}
return nextIndex;},keyListenerPress:function(o){var _self=this,config=this.config,temp=this.temp;var keyCode=o.keyCode;if(o.charIndex=="")return;if(config.fromFirstChar){var re=new RegExp("{{"+o.charIndex+"[^}]*?#-#.*?}}","gi");}else{var re=new RegExp("{{[^{]*?"+o.charIndex+"[^}]*?#-#.*?}}","gi");}
var matchCharArray=temp.itemsCharMap.match(re);if(!matchCharArray)return;if(o.charIndex==temp.lastInputChar){temp.sameCharLastIndex++;if(temp.sameCharLastIndex>matchCharArray.length){temp.sameCharLastIndex=1;}}else{temp.sameCharLastIndex=1;}
var charPart=matchCharArray[temp.sameCharLastIndex-1].replace("{{","").replace("}}","");var itemIndex=charPart.split("#-#")[1];_self.hightLightItem({index:itemIndex});temp.lastInputChar=o.charIndex;},arrowTabKayPress:function(o){var _self=this,config=this.config,temp=this.temp;var keyCode=o.keyCode;if("|37|38|".indexOf(keyCode)>0){itemIndex=_self.getPreviousValidItemIndex(temp.lastSelectIndex);}
if("|40|39|9|".indexOf(keyCode)>0){itemIndex=_self.getNextValidItemIndex(temp.lastSelectIndex);}
if("|13|".indexOf(keyCode)>0){temp.selectorTitle.innerHTML=_self.getInnerText(temp.contentValidItems[temp.lastSelectIndex]);config.content.style.display="none";temp.contentClickShow.hiddenDirectly();config.content.scrollTop=0;_self.afterSelect.fire("afterSelect",{item:temp.contentValidItems[temp.lastSelectIndex]});}
_self.hightLightItem({index:itemIndex});},hightLightItem:function(o){var _self=this,config=this.config,temp=this.temp;YUD.removeClass(temp.contentValidItems[temp.lastSelectIndex],config.contentItemCurrentClass);var itemIndex=o.index;YUD.addClass(temp.contentValidItems[itemIndex],config.contentItemCurrentClass);if(config.content.scrollHeight>config.content.offsetHeight){var scrollAnim=new YAHOO.util.Scroll(config.content,{scroll:{to:[0,((YUD.getY(temp.contentValidItems[itemIndex])+config.content.scrollTop)-YUD.getY(config.content)-3)]}},0.2);scrollAnim.animate();}
temp.lastSelectIndex=itemIndex;},defineTemps:function(){var _self=this,config=this.config,temp=this.temp;temp.selectorTitle=YUD.getElementsByClassName(config.selectorTitleClass,"*",config.selector)[0];temp.selectorTitleText=_self.getInnerText(temp.selectorTitle);temp.contentItems=YUD.getChildren(config.content);for(var i=0;i<temp.contentItems.length;i++){var item=temp.contentItems[i];if(!YUD.hasClass(item,config.contentIgnoreItemClass)){temp.contentValidItems.push(item);temp.itemsCharMapArray.push(_self.getInnerText(item)+"#-#"+(temp.contentValidItems.length-1));}};temp.itemsCharMap="{{"+temp.itemsCharMapArray.join("}},{{")+"}}";temp.keyListenerInput=_self.createKeyListener();},defineEvents:function(){var _self=this,config=this.config,temp=this.temp;YUE.on(config.selector,"mouseover",function(){_self.selectorMouseOver();});YUE.on(config.selector,"mouseout",function(){_self.selectorMouseOut();});if(!_self.isMobileDevice){YUE.on(config.selector,"click",function(){_self.focusTheKeyListener();});}
YUE.on([config.selector,config.content],"keydown",function(){_self.focusTheKeyListener();});if(AE.bom.isIE){YUE.on(config.content,"scroll",function(){_self.focusTheKeyListener();})}
YUE.on(temp.keyListenerInput,"keydown",function(e){if(temp.keyListenerIV){clearTimeout(temp.keyListenerIV);}
var eventKeyCode=e.keyCode;if("|13|9|37|38|39|40|".indexOf(eventKeyCode)>0){_self.arrowTabKayPress({keyCode:eventKeyCode});if(AE.bom.isIE){e.returnValue=false;}else{e.preventDefault();}
return;}
temp.keyListenerIV=setTimeout(function(){_self.keyListenerPress({charIndex:temp.keyListenerInput.value,keyCode:eventKeyCode});temp.keyListenerInput.value="";},config.indexInputLength*config.indexInputTime);});YUE.on(config.content,"keydown",function(){return false;});YUE.on(temp.contentValidItems,"mouseover",function(){_self.contentItemMouseOver({item:this});});YUE.on(temp.contentValidItems,"mouseout",function(){_self.contentItemMouseOut({item:this});});YUE.on(temp.contentValidItems,"click",function(){_self.contentItemsClick({item:this});});temp.contentClickShow=new AE.widget.clickShow();temp.contentClickShow.init({targetId:config.selector,contentId:config.content,needMask:true,showOrHidden:true,excursion:config.excursion,onShow:function(){YUD.removeClass(temp.contentValidItems[temp.lastSelectIndex],config.contentItemCurrentClass);temp.selectorTitleText=_self.getInnerText(temp.selectorTitle);if(config.isKillTheSame){_self.killTheSame();}}});_self.afterSelect=new YAHOO.util.CustomEvent("afterSelect",_self);},run:function(){var _self=this,config=this.config,temp=this.temp;_self.oddEvenColor();},init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,temp=this.temp;_self.isMobileDevice=navigator.userAgent.toLowerCase().match(/ipad|iphone/i);_self.defineTemps();_self.defineEvents();_self.run();if(AE.bom.isIE){CollectGarbage();}
return _self;},getInnerText:function(dom){return trim(dom.innerText?dom.innerText:dom.textContent);}};;
;(function(){function ScrollTrigger(){this.config={distance:0,delay:400};this.cache={threadId:null,registers:{}};}
YAHOO.lang.extend(ScrollTrigger,Object,{init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});},run:function(){this.activate();YUE.on(window,'scroll',this.scroll,{_self:this});},stop:function(){YUE.removeListener(window,'scroll',this.scroll);},register:function(id,fn,params,isOneOff){var registers=this.cache.registers;if(id.nodeType!==undefined){if(id.id.length<=0){var date=new Date();id.id='scroll-trigger-'+date.getTime();}
id=id.id;}
registers[id]={fn:fn,args:params||null,isOneOff:isOneOff||false};},dispose:function(id){var registers=this.cache.registers;if(id instanceof Object){id=id.id;}
delete registers[id];},scroll:function(ev,args){var _self=args._self;clearTimeout(_self.cache.threadId);_self.cache.threadId=setTimeout(function(){_self.activate();clearTimeout(_self.cache.threadId);},_self.config.delay);},activate:function(){var registers=this.cache.registers;var executables=[];var disposables=[];for(var id in registers){var register=registers[id];var element=get(id);if(this.isOnScreen(element)){executables.push(register);if(register.isOneOff){disposables.push(id);}}}
for(var i=0;i<disposables.length;i++){var disposable=disposables[i];delete registers[disposable];}
for(var i=0;i<executables.length;i++){var executable=executables[i];executable.fn(executable.args);}},isOnScreen:function(element){var screenRect=this.getScreenRect();var elementRect=this.getElementRect(element);if(elementRect.bottom<screenRect.top-this.config.distance){return false;}
if(elementRect.left>screenRect.right+this.config.distance){return false;}
if(elementRect.top>screenRect.bottom+this.config.distance){return false;}
if(elementRect.right<screenRect.left-this.config.distance){return false;}
return true;},getElementRect:function(element){var rect={top:0,right:0,bottom:0,left:0};var offset=this.getCumulativeOffset(element);var size=this.getVisibleSize(element);rect.top=offset.top;rect.right=offset.left+size.width;rect.bottom=offset.top+size.height;rect.left=offset.left;return rect;},getScreenRect:function(){var rect={top:0,right:0,bottom:0,left:0};var scrollPos=this.getScrollPos();rect.top=scrollPos.top;rect.right=scrollPos.left+YUD.getViewportWidth();rect.bottom=scrollPos.top+YUD.getViewportHeight();rect.left=scrollPos.left;return rect;},getScrollPos:function(){var pos={left:0,top:0};var x1=0;var y1=0;if(document.documentElement){x1=document.documentElement.scrollLeft||0;y1=document.documentElement.scrollTop||0;}
var x2=0;var y2=0;if(document.body){x2=document.body.scrollLeft||0;y2=document.body.scrollTop||0;}
var x3=window.scrollX||0;var y3=window.scrollY||0;pos.left=Math.max(x1,Math.max(x2,x3));pos.top=Math.max(y1,Math.max(y2,y3));return pos;},getCumulativeOffset:function(element){var offset={left:0,top:0};do{offset.left+=element.offsetLeft||0;offset.top+=element.offsetTop||0;element=element.offsetParent;}while(element);return offset;},getVisibleSize:function(element){var dimension={width:0,height:0};dimension.width=element.offsetWidth;dimension.height=element.offsetHeight;return dimension;}});AE.namespace('app').scrollTrigger=ScrollTrigger;}());;

AE.namespace('AE.app');if(!AE.app.Slidebox){AE.app.Slidebox=function(){this.config={slideboxId:'',containerClassName:'',prevClassName:'',nextClassName:'',prevDisabledClassName:'disabled',nextDisabledClassName:'disabled',slideCount:5,time:400,autoScroll:false,autoScrollTime:3000,slideRightCusFunc:function(){},slideLeftCusFunc:function(){},resizeConfig:[],resizeItemWidth:0};this.temp={page:1,itemIndex:0,panel:null,items:null,itemWidth:0,bntPrev:null,bntNext:null};};AE.app.Slidebox.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this;var config=_self.config;var temp=_self.temp;var slidebox=get(config.slideboxId);if(!slidebox){return false;}
var container=YUD.getElementsByClassName(config.containerClassName,'*',slidebox)[0];var panel=container.getElementsByTagName('ul')[0];panel.style.marginLeft='0';temp.panel=panel;var items=container.getElementsByTagName('li');temp.items=items;var itemWidth=_self._getVisibleWidth(items[0]);temp.itemWidth=itemWidth;var bntPrev=_self._buildPrevButton({_self:_self,wrap:slidebox});temp.bntPrev=bntPrev;var bntNext=_self._buildNextButton({_self:_self,wrap:slidebox});temp.bntNext=bntNext;if(parseInt(config.resizeItemWidth,10)>1){var resizeConfig=[];var itemWidth=parseInt(config.resizeItemWidth,10);for(var i=2;i<10;i++){var obj={minWidth:itemWidth*i,maxWidth:itemWidth*(i+1),slideCount:i};resizeConfig.push(obj);}
config.resizeConfig=resizeConfig;}
if(config.resizeConfig.length>0){_self.resize(_self);YUE.on(window,'resize',function(){_self.resize(_self);});}
if(config.autoScroll){_self._autoScroll();}},resize:function(self){var _self=self;var config=_self.config;var temp=_self.temp;var prevCount=config.slideCount;var container=YUD.getElementsByClassName(config.containerClassName,'*',config.slideboxId)[0];var boxWidth=container.offsetWidth;for(var i=0;i<config.resizeConfig.length;i++){if((boxWidth>config.resizeConfig[i].minWidth)&&(boxWidth<=config.resizeConfig[i].maxWidth)){config.slideCount=config.resizeConfig[i].slideCount;continue;}}
var itemWidth=boxWidth/config.slideCount;for(var i=0;i<temp.items.length;i++){var pl=parseInt(YUD.getStyle(temp.items[i],'padding-left'),10);var pr=parseInt(YUD.getStyle(temp.items[i],'padding-right'),10);var liWidth=Math.ceil(itemWidth);YUD.setStyle(temp.items[i],'width',(liWidth-pl-pr)+'px');}
temp.itemWidth=itemWidth;temp.panel.style.marginLeft=(temp.itemIndex*(-1)*itemWidth)+'px';if(_self._isLast(temp.itemIndex)){YUD.addClass(temp.bntNext,config.nextDisabledClassName);}else{YUD.removeClass(temp.bntNext,config.nextDisabledClassName);}},_buildPrevButton:function(args){var wrap=args.wrap;var _self=args._self;var config=_self.config;var selectBnt=YUD.getElementsByClassName(config.prevClassName,'*',wrap);var bntPrev=null;if(selectBnt.length==1){bntPrev=selectBnt[0];}else{bntPrev=document.createElement('a');}
var reg=new RegExp(config.prevDisabledClassName,'g');bntPrev.className=bntPrev.className.replace(reg,'');if(/MSIE\s7|MSIE\s8/i.test(navigator.userAgent)){setTimeout(function(){bntPrev.className+=' '+config.prevDisabledClassName;},1000);}else{bntPrev.className+=' '+config.prevDisabledClassName;}
YUE.on(bntPrev,'click',_self._slideRight,{_self:_self});return bntPrev;},_buildNextButton:function(args){var wrap=args.wrap;var _self=args._self;var config=_self.config;var temp=_self.temp;var selectBnt=YUD.getElementsByClassName(config.nextClassName,'*',wrap);var bntNext=null;if(selectBnt.length==1){bntNext=selectBnt[0];}else{bntNext=document.createElement('a');}
var reg=new RegExp(config.nextDisabledClassName,'g');bntNext.className=bntNext.className.replace(reg,'');if(temp.items.length<=parseInt(config.slideCount,10)){if(/MSIE\s7|MSIE\s8/i.test(navigator.userAgent)){setTimeout(function(){bntNext.className+=' '+config.nextDisabledClassName;},1000);}else{bntNext.className+=' '+config.nextDisabledClassName;}}
YUE.on(bntNext,'click',_self._slideLeft,{_self:_self});return bntNext;},_slideLeft:function(ev,args){var _self=args._self;var config=_self.config;var temp=_self.temp;var time=parseInt(config.time,10);if(_self._isLast(temp.itemIndex)){return;}
var toItemIndex=temp.itemIndex+config.slideCount;var fromPos=_self._getItemPosition(temp.itemIndex);var toPos=_self._getItemPosition(toItemIndex);if(_self._isLast(toItemIndex)){temp.bntNext.className+=' '+config.nextDisabledClassName;}
config.slideLeftCusFunc();temp.itemIndex=toItemIndex;var step=10*(toPos-fromPos)/time;_self._slide(temp.panel,fromPos,toPos,step,10,_self);temp.bntPrev.className=temp.bntPrev.className.replace(config.prevDisabledClassName,'');},_slideRight:function(ev,args){var _self=args._self;var config=_self.config;var temp=_self.temp;var time=parseInt(config.time,10);if(_self._isFirst(temp.itemIndex)){return;}
var toItemIndex=temp.itemIndex-config.slideCount;toItemIndex=toItemIndex>0?toItemIndex:0;var fromPos=_self._getItemPosition(temp.itemIndex);var toPos=_self._getItemPosition(toItemIndex);if(_self._isFirst(toItemIndex)){temp.bntPrev.className+=' '+config.prevDisabledClassName;}
config.slideRightCusFunc();temp.itemIndex=toItemIndex;var panel=temp.panel;var step=10*(toPos-fromPos)/time;_self._slide(panel,fromPos,toPos,step,10,_self);temp.bntNext.className=temp.bntNext.className.replace(config.nextDisabledClassName,'');},_autoScroll:function(){var _self=this;var config=_self.config;var temp=_self.temp;var slideTimer;var scroll=function(){slideTimer=setInterval(function(){if(_self._isLast(temp.itemIndex)){var pageNum=Math.ceil(temp.itemIndex/config.slideCount);for(var i=0;i<pageNum;i++){_self._slideRight('',{_self:_self});}}else{_self._slideLeft('',{_self:_self});}},config.autoScrollTime);};scroll();YUE.on(config.slideboxId,'mouseover',function(){clearInterval(slideTimer);});YUE.on(config.slideboxId,'mouseout',function(){scroll();});},_slide:function(element,from,to,step,freq,_self){if(step===0){return;}
var current=0;if((step>0&&to<from)||(step<0&&to>from)){current=to;element.style.marginLeft=(current*(-1))+'px';return;}else{current=from+step;element.style.marginLeft=(current*(-1))+'px';setTimeout(function(){_self._slide(element,current,to,step,freq,_self);},freq);}},_isFirst:function(itemIndex){var _self=this;var config=_self.config;var temp=_self.temp;if(itemIndex<=0){return true;}
return false;},_isLast:function(itemIndex){var _self=this;var config=_self.config;var temp=_self.temp;if((itemIndex+config.slideCount)>=this.temp.items.length){return true;}
return false;},_getItemPosition:function(itemNumber){var width=parseFloat(this.temp.itemWidth);return width*itemNumber;},_getVisibleWidth:function(element){return element.offsetWidth||0;},getCurrentPage:function(){var _self=this;var config=_self.config;var temp=_self.temp;var pageNum=Math.ceil(temp.itemIndex/config.slideCount);return pageNum;}};};

var Cookies={set:function(name,value){var argv=arguments;var argc=arguments.length;var expires=(argc>2)?argv[2]:null;var domain=(argc>3)?argv[3]:null;var path=(argc>4)?argv[4]:'/';var secure=(argc>5)?argv[5]:false;document.cookie=name+"="+escape(value)+
((expires==null)?"":("; expires="+expires.toGMTString()))+
((path==null)?"":("; path="+path))+
((domain==null)?"":("; domain="+domain))+
((secure==true)?"; secure":"");},get:function(name){var arg=name+"=";var alen=arg.length;var clen=document.cookie.length;var i=0;var j=0;while(i<clen){j=i+alen;if(document.cookie.substring(i,j)==arg)
return this.__get(j);i=document.cookie.indexOf(" ",i)+1;if(i==0)
break;}
return null;},__get:function(offset){var endstr=document.cookie.indexOf(";",offset);if(endstr==-1){endstr=document.cookie.length;}
return unescape(document.cookie.substring(offset,endstr));},clear:function(name){var argv=arguments;var argc=arguments.length;var domain=(argc>1)?argv[1]:null;var path=(argc>2)?argv[2]:'/';var secure=(argc>3)?argv[3]:false;if(this.get(name)){document.cookie=name+"="+
((path)?"; path="+path:"")+
((domain)?"; domain="+domain:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT";}},cookieCache:{},getCookieTable:function(name,domain){var table=Cookies.cookieCache[name];if(null==table||table.changed){table=new CookieTable(name);var str=Cookies.get(name);if(null!=str&&str!=""){table.parseFromString(str);}
if(domain){table.domain=domain;}
Cookies.cookieCache[name]=table;}
return table;}};var noExpires=new Date();noExpires.setTime(noExpires.getTime()+60*60*1000*24*60);var SEP_GROUP="\n\n";var SEP_GROUP_NAME="^\n";var SEP_GROUP_ITEM="$\n";var SEP_ATTR="\t";var NO_SET_STR="NOSET";function isArray(object){return object!=null&&typeof object=="object"&&'join'in object;}
function CookieTable(name,arrOrString,expires,domain,path,secure){this.expires=expires?expires:noExpires;this.domain=domain?domain:null;this.path=path?path:'/';this.secure=secure?secure:false;this.name=name?name:null;this.groups=arrOrString&&isArray(arrOrString)?arrOrString:[];this.__tree={};this.changed=false;this.buildString=function(arr){if(null!=arr&&arr.length>0){return arr.join(SEP_GROUP);}
return null;}
this.parseFromString=function(str){if(null==str||""==str)return this;var arr=str.split(SEP_GROUP);this.removeAll();for(var i=0;i<arr.length;i++){if(null!=arr[i]&&""!=arr[i]){var group=new CookieGroup();group.parseFromString(arr[i]);this.add(group);}}
return this;}
this.toString=function(){return this.buildString(this.groups);}
this.size=function(){return this.groups.length;}
this.arrange=function(){var arr=[],obj={};for(var i=0;i<this.size();i++){if(null!=this.groups[i]){arr[arr.length]=this.groups[i];obj[this.groups[i].name]=this.groups[i];}}
this.removeAll();this.groups=arr;this.__tree=obj;}
this.__clearTree=function(){this.__tree={};}
this.__addToTree=function(obj){if(null!=obj){this.__tree[obj.name]=obj;}}
this.__removeFromTree=function(obj){if(null!=obj){delete this.__tree[obj.name];}}
this.removeAll=function(){this.groups=[];this.__clearTree();}
this.get=function(name){if(this.__tree[name]){return this.__tree[name];}
return null;}
this.add=function(obj){if(null==obj)return;for(var i=0;i<this.size();i++){if(obj.name.toLowerCase()==this.groups[i].name.toLowerCase()){this.remove(obj.name);}}
obj.parent=this;this.groups[this.size()]=obj;this.__addToTree(obj);return this;}
this.remove=function(str){if(null==str||""==str)return;for(var i=0;i<this.size();i++){if(str.toLowerCase()==this.groups[i].name.toLowerCase()){this.__removeFromTree(this.groups[i]);this.groups[i]=null;}}
this.arrange();return this;}
this.save=function(){this.changed=true;Cookies.set(this.name,this.toString(),this.expires,this.domain,this.path,this.secure);}
this.clear=function(){Cookies.clear(this.name);}
if(this.name!=null&&typeof(arrOrString)=="string"){this.parseFromString(arrOrString);}else if(this.name!=null&&isArray(arrOrString)){for(var i=0;i<this.size();i++){if(null!=this.groups[i]){this.__addToTree(this.groups[i]);this.groups[i].parent=this;}}}}
function CookieGroup(name,arrOrString){this.name=name?name:null;this.items=arrOrString&&isArray(arrOrString)?arrOrString:[];this.__tree={};this.max=20;this.parent=null;this.buildString=function(arr){var str=this.name?this.name:NO_SET_STR;if(null!=arr&&arr.length>0){return str+SEP_GROUP_NAME+arr.join(SEP_GROUP_ITEM);}
return str;}
this.parseFromString=function(str){if(null==str||""==str)return this;var name_end=str.indexOf(SEP_GROUP_NAME);if(name_end>-1){this.name=str.substring(0,name_end);var itemsStr=str.substring(name_end+SEP_GROUP_NAME.length);if(null!=itemsStr&&itemsStr!=""){this.removeAll();var arr=itemsStr.split(SEP_GROUP_ITEM);for(var i=0;i<arr.length;i++){if(null!=arr[i]&&""!=arr[i]){var item=new CookieItem();item.parseFromString(arr[i]);this.add(item);}}}}else{this.name=str;}
return this;}
this.toString=function(){return this.buildString(this.items);}
this.getReverse=function(){var arr=[];if(this.size()>0){return this.items.slice(0,this.items.length).reverse();}
return arr;}
this.setMax=function(max){this.max=max;this.arrange();}
this.size=function(){return this.items.length;}
this.arrange=function(){var arr=[],obj={};for(var i=0;i<this.size();i++){if(null!=this.items[i]){arr[arr.length]=this.items[i];}}
if(arr.length>this.max){arr=arr.slice(arr.length-this.max,arr.length);}
for(var i=0;i<arr.length;i++){obj[arr.key]=arr[i];}
this.removeAll();this.items=arr;this.__tree=obj;}
this.__clearTree=function(){this.__tree={};}
this.__addToTree=function(obj){if(null!=obj){this.__tree[obj.key]=obj;}}
this.__removeFromTree=function(obj){if(null!=obj){delete this.__tree[obj.key];}}
this.removeAll=function(){this.items=[];this.__clearTree();}
this.get=function(key){if(this.__tree[key]){return this.__tree[key];}
return null;}
this.add=function(obj){if(null==obj)return;for(var i=0;i<this.size();i++){if(obj.key.toLowerCase()==this.items[i].key.toLowerCase()){this.remove(obj.key);}}
obj.parent=this;this.items[this.size()]=obj;this.__addToTree(obj);return this;}
this.remove=function(str){if(null==str||""==str)return;for(var i=0;i<this.size();i++){if(str.toLowerCase()==this.items[i].key.toLowerCase()){this.__removeFromTree(this.items[i]);this.items[i]=null;}}
this.arrange();return this;}
this.save=function(){if(null!=this.parent){this.arrange();this.parent.save();}}
if(this.name!=null&&typeof(arrOrString)=="string"){this.parseFromString(this.name+SEP_GROUP_NAME+arrOrString);}else if(this.name!=null&&isArray(arrOrString)){for(var i=0;i<this.size();i++){if(null!=this.items[i]){this.__addToTree(this.items[i]);this.items[i].parent=this;}}}}
function CookieItem(key,arrOrString){this.key=key?key:null;this.attributes=arrOrString&&isArray(arrOrString)?arrOrString:[];this.max=20;this.parent=null;this.buildString=function(arr){var str=this.key?this.key:NO_SET_STR;if(null!=arr&&arr.length>0){return str+SEP_ATTR+arr.join(SEP_ATTR);}
return str;}
this.parseFromString=function(str){if(null==str||""==str)return this;var arr=str.split(SEP_ATTR);if(arr.length>0){this.key=arr[0];this.attributes=arr.slice(1,arr.length);}
return this;}
this.setMax=function(max){this.max=max;this.arrange();}
this.size=function(){return this.attributes.length;}
this.toString=function(){return this.buildString(this.attributes);}
this.getReverse=function(){var arr=[];if(this.size()>0){return this.attributes.slice(0,this.attributes.length).reverse();}
return arr;}
this.reverseString=function(){return this.buildString(this.getReverse());}
this.arrange=function(){var arr=[];for(var i=0;i<this.size();i++){if(null!=this.attributes[i]){arr[arr.length]=this.attributes[i];}}
if(arr.length>this.max){this.attributes=arr.slice(arr.length-this.max,arr.length);}else{this.attributes=arr;}}
this.removeAll=function(){this.attributes=[];}
this.get=function(index){return index<this.size()?this.attributes[index]:null;}
this.add=function(str){if(null==str||""==str)return;this.remove(str);this.attributes[this.size()]=str;this.arrange();return this;}
this.remove=function(str){if(null==str||""==str)return;for(var i=0;i<this.size();i++){if(str.toLowerCase()==this.attributes[i].toLowerCase()){this.attributes[i]=null;}}
this.arrange();return this;}
this.contains=function(str){for(var i=0;i<this.size();i++){if(str.toLowerCase()==this.attributes[i].toLowerCase()){return true;}}}
this.save=function(){if(null!=this.parent){this.arrange();this.parent.save();}}
if(this.key!=null&&typeof(arrOrString)=="string"){this.parseFromString(this.key+SEP_ATTR+arrOrString);}}
var TOP_DOMAIN="aliexpress.com";var HISTORY_COOKIE_NAME="aep_history";var GROUP_KEYWORDS="keywords";var GROUP_PRODUCT="product";var GROUP_SELLOFFER="selloffer";var GROUP_BUYOFFER="buyoffer";var GROUP_COMPANY="company";var GROUP_CATEGORY="category";var GROUP_PRODUCT_SELLOFFER=GROUP_PRODUCT+"_"+GROUP_SELLOFFER;var MAX_KEYWORDS=8;var MAX_PRODUCT=8;var MAX_SELLOFFER=8;var MAX_BUYOFFER=6;var MAX_COMPANY=4;var MAX_CATEGORY=6;var MAX_PRODUCT_SELLOFFER=8;function getHistoryCookieTable(){return Cookies.getCookieTable(HISTORY_COOKIE_NAME,TOP_DOMAIN);}
function getHistoryCookieGroup(groupName){var table=getHistoryCookieTable();var group=table.get(groupName);if(null==group){group=new CookieGroup(groupName);table.add(group);group.parent=table;}
return group;}
function addOrUpdateHistoryCookieItem(groupName,itemKey,value,max){if((typeof value!='string'||value=='')&&!(value instanceof Array)){return;}
var group=getHistoryCookieGroup(groupName);var item=group.get(itemKey);var changed=false;if(isArray(value)){item=new CookieItem(itemKey,value);changed=true;}
else{item=(null==item)?new CookieItem(itemKey):item;item.add(value);changed=true;}
group.add(item);if(groupName==GROUP_KEYWORDS){item.setMax(max);}
else{group.setMax(max);}
if(changed){group.save();}}
function logKeywordsHistory(value){addOrUpdateHistoryCookieItem(GROUP_KEYWORDS,GROUP_KEYWORDS,value,MAX_KEYWORDS);}
function logProductHistory(itemKey,value){addOrUpdateHistoryCookieItem(GROUP_PRODUCT_SELLOFFER,itemKey,value,MAX_PRODUCT_SELLOFFER);}
function logSellOfferHistory(itemKey,value){addOrUpdateHistoryCookieItem(GROUP_PRODUCT_SELLOFFER,itemKey,value,MAX_PRODUCT_SELLOFFER);}
function logCompanyHistory(itemKey,value){addOrUpdateHistoryCookieItem(GROUP_COMPANY,itemKey,value,MAX_COMPANY);}
function logBuyOfferHistory(itemKey,value){addOrUpdateHistoryCookieItem(GROUP_BUYOFFER,itemKey,value,MAX_BUYOFFER);}
function logCategoryHistory(itemKey,value){addOrUpdateHistoryCookieItem(GROUP_CATEGORY,itemKey,value,MAX_CATEGORY);}
AE.namespace('AE.app');if(!AE.app.proHistory){AE.app.proHistory=function(){this.config={target:get('historyOuterBox'),isDetail:false,probox:'product_selloffer_hispanel',imgServer:'http://i02.i.aliimg.com',cookieName:'aep_history',cookieGroupName:GROUP_PRODUCT_SELLOFFER,maxNUM:MAX_PRODUCT}
this.cache={productItem:''}};AE.app.proHistory.prototype={init:function(customConfig){var config=YL.merge(this.config,customConfig||{});var _self=this;_self.config=config;if(_self.config.target){_self.loadHistoryBox();_self.cloneAllHistoryFloatDiv(_self.config.maxNUM);}},loadHistoryBox:function(){var _config=this.config;if(_config.target){var divstr='<div class="hd"><h3>Recently Viewed Items</h3></div><div class="bd historyBox"><div class="historylog"><div id="PSHistoryBox"><ul id="product_selloffer_hispanel" class="productimage">';for(var i=0;i<_config.maxNUM;i++){var str='<li id="product_selloffer_li_'+i+'"><div onmouseover="onPSHistoryItemsMouseOver('+i+');"><a onclick="dmtrack.clickstat(\'http://tracelog.www.alibaba.com/null.gif\',{tracelog:\'Recently_Viewed_Items\'});" id="product_selloffer_link_a_'+i+'" href="javascript:void(0);"><img width="65" border="0" id="product_selloffer_img_'+i+'" /></a></div><span id="mask_div_'+i+'"><img src="http://img.alibaba.com/images/eng/navigation/others/catch.gif" alt="img_adorn" /></span></li>';divstr+=str;}
divstr+='</ul><div id="floatdiv_model" class="history_box" style="display:none;"><div class="fdiv_right"><img src="http://img.alibaba.com/images/eng/wholesale/icon/list-quickview-dart.gif"  alt="img_history_arrow" /></div><div class="info"><div class="cor-bg01"><div><h2><a onclick="dmtrack.clickstat(\'http://tracelog.www.alibaba.com/null.gif\',{tracelog:\'Recently_Viewed_Items\'});" href="javascript:void(0);" class="fdiv_title fdiv_href" target="_blank"></a></h2></div><div class="productPic"><a onclick="dmtrack.clickstat(\'http://tracelog.www.alibaba.com/null.gif\',{tracelog:\'Recently_Viewed_Items\'});" href="javascript:void(0);" class="fdiv_href" target="_blank"><img class="fdiv_image" border="0" /></a></div></div></div></div><form id="historyContactForm" method="post" action="http://us.my.alibaba.com/mcweb/contact.htm?action=mcweb:contact_action"  target="_blank" style="display:none;">$!{intlCsrfToken.HiddenField}</form><div style="clear:both;"></div></div></div></div>'
_config.target.innerHTML=divstr;}},cloneAllHistoryFloatDiv:function(num){var dFloatDiv_Box=YUD.getElementsByClassName("historyBox",'*')[0];for(var i=0;i<num;i++){var dTarget=get("product_selloffer_link_a_"+i);var dFloat_Model=get("floatdiv_model");var dNew_FloatDiv=dFloat_Model.cloneNode(true);dNew_FloatDiv.setAttribute("id","history_floatdiv_"+i);dFloatDiv_Box.appendChild(dNew_FloatDiv);var oshow=new AE.widget.overShow();oShow_config={targetId:dTarget,contentId:dNew_FloatDiv,showDelayTime:500,hiddenDelayTime:100,excursion:[parseInt(YUD.getStyle(dFloat_Model,"width"))-90,-10],needMask:true}
oshow.init(oShow_config);}},fixOld:function(){var str=YAHOO.util.Cookie.get(this.config.cookieName);if(/\$U/.test(str)&&str.length>0){var productGroup=getHistoryCookieGroup(this.config.cookieGroupName);productGroup.removeAll();productGroup.save();}},addLSHistory:function(proid){if(typeof runParams!=='undefined'){var _self=this,_config=this.config,cache=this.cache;var hisProStr=this.getLSHistory();var productItems;if(/productlist/.test(hisProStr)){productItems=YAHOO.lang.JSON.parse(hisProStr);}else{productItems={productlist:[],productoverview:{total_num:0}};}
var productlist=productItems.productlist;var product={id:proid,subject:get('product-name').innerHTML.replace(/\n\t*/g,''),image_url:runParams.imageURL[0].replace('.jpg','.summ.jpg'),detail_url:window.location.href}
var len=productlist.length;productlist.push(product);for(var i=0;i<len;i++){if(proid==productlist[i].id){productlist.splice(i,1);break;}}
if(productlist.length>_config.maxNUM){productlist.splice(0,1);}
productItems.productlist=productlist;cache.productItem=productlist;productItems.productoverview.total_num=productlist.length;hisProStr=YAHOO.lang.JSON.stringify(productItems);window.localStorage.hisProStr=hisProStr;}},getLSHistory:function(){var str=window.localStorage.hisProStr||[];return str;},addCookieHistory:function(itemId){var ostr=this.getCookieHistory(),nstr,arr,_config=this.config;if(ostr!=''&&ostr!=null){arr=ostr.split(',');var len=arr.length;arr.push(itemId);for(var i=0;i<len;i++){if(itemId==arr[i]){arr.splice(i,1);break;}}
if(arr.length>_config.maxNUM){arr.splice(0,1);}}else{arr=[];arr.push(itemId);}
addOrUpdateHistoryCookieItem(_config.cookieGroupName,_config.cookieGroupName,arr,_config.maxNUM)},getCookieHistory:function(){var _config=this.config;var group=getHistoryCookieGroup(_config.cookieGroupName);var item=group.get(_config.cookieGroupName);var arr=item!=null?item.attributes:[];var str=arr.toString();return str;},correctDate:function(productItem){var cookiestr=this.getCookieHistory(),_config=this.config;var cookiearr=cookiestr.split(',');var newItem=[];var plen=productItem.length;for(var i=0;i<cookiearr.length;i++){for(var j=0;j<productItem.length;j++){if(cookiearr[i]==productItem[j].id){newItem[i]=productItem[j];}};if(typeof newItem[i]=='undefined'){cookiearr.splice(i,1)
i--;}}
var group=getHistoryCookieGroup(_config.cookieGroupName);var item=group.get(_config.cookieGroupName);item=new CookieItem(_config.cookieGroupName,cookiearr);group.save();return newItem;},addHistory:function(proid){this.fixOld();if(window.localStorage){this.addLSHistory(proid);this.addCookieHistory(proid);}else{this.addCookieHistory(proid);}},getHistory:function(){this.fixOld();var _self=this,_config=this.config,cache=this.cache;if(window.localStorage){var hisProStr=this.getLSHistory();if(hisProStr!=''){cache.productItem=YAHOO.lang.JSON.parse(hisProStr).productlist;_self.fillData(cache.productItem);}}else{var cookiestr=this.getCookieHistory();var url='http://hotproducts.aliexpress.com/wsproduct-openapi-server.html?ak=1234567890&pid='+cookiestr,ajaxProxy=new AE.run.ajaxProxy(),callback={success:function(res){if(/productlist/.test(res.responseText)){cache.productItem=YAHOO.lang.JSON.parse(res.responseText).productlist;cache.productItem=_self.correctDate(cache.productItem);_self.fillData(cache.productItem);}},failure:function(){},timeout:5000};if(cookiestr!=''){ajaxProxy.asyncRequest('GET',url,callback,'',{proxy:'http://hotproducts.aliexpress.com/ajax_proxy.html',domain:'aliexpress.com'});}}},getData:function(){return this.cache.productItem;},fillData:function(productItems){var config=this.config;if(productItems!=''){var productList=productItems,lnum=get('product_selloffer_hispanel').getElementsByTagName('li').length;len=productItems.length;for(var i=0;i<lnum;i++){if(i<len){try{var mImage=productList[len-i-1].image_url;if(!/http\:\/\/.*\.com/.test(mImage)){mImage=config.imgServer+mImage;}
get('product_selloffer_img_'+i).src=mImage;get('product_selloffer_link_a_'+i).href=productList[len-i-1].detail_url;}catch(ex){}}else{get('product_selloffer_li_'+i).style.display='none';}}
get('historyOuterBox').style.display='block';}}};if(typeof head!=='undefined'){head.ready('commons',function(){YUE.onDOMReady(function(){window.proHistory=new AE.app.proHistory();proHistory.init();});});}else{YUE.onDOMReady(function(){window.proHistory=new AE.app.proHistory();proHistory.init();});}};var onPSHistoryItemsMouseOver=function(index){var items=proHistory.getData();var len=items.length;var item=index<len?items[index]:null;if(null!=item){var floatDiv=get("history_floatdiv_"+index);var dTitle=YUD.getElementsByClassName("fdiv_title",'*',floatDiv)[0],dHref=YUD.getElementsByClassName("fdiv_href",'*',floatDiv)[0],dImage=YUD.getElementsByClassName("fdiv_image",'*',floatDiv)[0];dHref.href=items[len-index-1].detail_url;dTitle.innerHTML=items[len-index-1].subject;var mImage=items[len-index-1].image_url.replace('.summ.jpg','.jpg_200x200.jpg');if(!/http\:\/\/.*\.com/.test(mImage)){mImage='http://i02.i.aliimg.com'+mImage;}
dImage.src=mImage;}};var logHistoryById=function(proid){if(proHistory){proHistory.addHistory(proid);}};var initobj=function(){pageLoaded=true;try{if(get("historyOuterBox")){showProductHistory();}}catch(ex){}};var showProductHistory=function(){var historyTriggerId='page',scrollTrigger=new AE.app.scrollTrigger();scrollTrigger.init({distance:400,delay:200});scrollTrigger.run();var tiggle=function(){if(get('PSHistoryBox')){proHistory.getHistory();}}
if(get('sub-wsalert')){historyTriggerId='sub-wsalert';}else if(get('left-banners')){historyTriggerId='left-banners';}else if(get('refine-search')){historyTriggerId='refine-search';}else if(get('refine-category')){historyTriggerId='refine-category';}
scrollTrigger.register(historyTriggerId,tiggle,'historyId',true);};;

pageTiming=function(){this.param=null;this.config={rate:0.01,filterRegular:'googlebot|bingbot|yahoo|baidu',excludedBrowserRegular:'MSIE 5|MSIE 6|MSIE 7',receiverUrl:'stat.gmonitor.aliimg.com/stat.htm',defaultResponseStartTime:150};this.context={isSupportHtml5Timing:false,responseStartTimestamp:0,documentCompleteTimestamp:0,fullyLoadedTimestamp:0};};pageTiming.prototype={init:function(config){this.config=config||this.config;var _self=this;if(!_self._validate()||!_self._filter()||!_self._lottery(_self.config.rate)){return;}
this.param=PAGE_TIMING;this.context.isSupportHtml5Timing=_self._markResponseStart();if(/MSIE\s6|MSIE\s7|MSIE\s8/i.test(navigator.userAgent)){document.write('<script id="__page_timing_document_complete" defer src="javascript:void(0);"></script>');var script=document.getElementById("__page_timing_document_complete");script.onreadystatechange=function(){if(this.readyState==='complete'){_self._markDocumentComplete();}}}else if(document.addEventListener){document.addEventListener('DOMContentLoaded',function(){_self._markDocumentComplete();},false);}else if(document.attachEvent){document.attachEvent('onDOMContentLoaded',function(){_self._markDocumentComplete();});}
if(document.addEventListener){window.addEventListener('load',function(){_self._markFullyLoaded();if(_self._getPageType()==='detail'&&/(www.aliexpress.com\/wholesale\?SearchText=.*)|(www.aliexpress.com\/wholesale\/wholesale\-.*)/i.test(document.referrer)){_self._send('list-to-detail');}else{_self._send();}},false);}else if(document.attachEvent){window.attachEvent('onload',function(){_self._markFullyLoaded();if(_self._getPageType()==='detail'&&/(www.aliexpress.com\/wholesale\?SearchText=.*)|(www.aliexpress.com\/wholesale\/wholesale\-.*)/i.test(document.referrer)){_self._send('list-to-detail');}else{_self._send();}});}},_markResponseStart:function(){if(!window.performance||!window.performance.timing){return false;}
var rst=window.performance.timing.responseStart;if(!rst){return false;}
this.context.responseStartTimestamp=rst;return true;},_markDocumentComplete:function(){this.context.documentCompleteTimestamp=new Date().getTime();return true;},_markFullyLoaded:function(){this.context.fullyLoadedTimestamp=new Date().getTime();return true;},_send:function(pageType){var data={srt:this._getStartRenderTiming(),fst:this._getFirstPageTiming(),dct:this._getDocumentCompleteTiming(),flt:this._getFullyLoadedTiming(),flv:this._getFlashVersion(),url:this._getPageUrl(),pt:pageType||this._getPageType()};var iframeWrapper=document.createElement('div');var iframeId='page-timing-'+new Date().getTime();iframeWrapper.innerHTML='<iframe width="0" height="0" id="'+iframeId
+'"name="'+iframeId
+'" frameBorder="0" style="top: -100%; position: absolute;"></iframe>';document.body.appendChild(iframeWrapper);var formEl=document.createElement('form');formEl.style.display='none';formEl.target=iframeId;formEl.method='POST';formEl.action=('https:'===document.location.protocol?'https://':'http://')+(this.config.receiverUrl||errorPostAction);for(var key in data){var tempEl=document.createElement('input');tempEl.type='hidden';tempEl.name=key;tempEl.value=data[key];formEl.appendChild(tempEl);}
var submitButtonEl=document.createElement('input');submitButtonEl.type='submit';submitButtonEl.value='';formEl.appendChild(submitButtonEl);document.body.appendChild(formEl);formEl.submit();},_validate:function(){if(!window['PAGE_TIMING']){return false;}
return true;},_filter:function(){var ua=navigator.userAgent.toLowerCase();if(new RegExp(this.config.filterRegular).test(ua)){return false;}
if(new RegExp(this.config.excludedBrowserRegular).test(ua)){return false;}
return true;},_lottery:function(rate){if(Math.random()>parseFloat(rate)){return false;}
return true;},_getResponseStartTiming:function(){if(this.context.isSupportHtml5Timing){return this.context.responseStartTimestamp;}
return this.param['startRender']-this.config.defaultResponseStartTime;},_getStartRenderTiming:function(){if(!this.context.isSupportHtml5Timing){return'';}
var time=this.param['startRender'];if(time>0){var timing=time-this.context.responseStartTimestamp;return timing;}
return'';},_getFirstPageTiming:function(){var time=this.param['firstScreen'];if(time>0){var timing=time-this._getResponseStartTiming();return timing;}
return'';},_getDocumentCompleteTiming:function(){var time=this.context.documentCompleteTimestamp;if(time>0){var timing=time-this._getResponseStartTiming();return timing;}
return'';},_getFullyLoadedTiming:function(){var time=this.context.fullyLoadedTimestamp;if(time>0){var timing=time-this._getResponseStartTiming();return timing;}
return'';},_getPageType:function(){if(this.param.pageType){return this.param.pageType;}
return'';},_getFlashVersion:function(){var ver,SF='ShockwaveFlash';if(navigator.plugins&&navigator.mimeTypes.length){ver=(navigator.plugins['Shockwave Flash']||0).description;}else if(window.ActiveXObject){try{ver=new ActiveXObject(SF+'.'+SF)['GetVariable']('$version');}catch(ex){}}
if(!ver){return'';}
var version=ver.match(/(\d)+/g).splice(0,3);if(version){version[2]='rc'+version[2];return version.join('.');}
return'';},_getPageUrl:function(){return window.location.href;}};(new pageTiming()).init();;

AE.list.form={iptKwd:function(){return YUD.get('ipt-kwd');},iptExt:function(){return YUD.get('ipt-exc');},isFreeShip:function(){return YUD.get('isFreeShip');},isOnSale:function(){return YUD.get('isOnSale');},isFavorite:function(){return YUD.get('isFavorite');},atm:function(){return YUD.get('atm-online');},aPlus:function(){return YUD.get('isAPlus');},retail:function(){return YUD.get('isRtl');},country:function(){return YUD.get('shipCountry');},shippingLevel:function(){return YUD.get('logisticsLevel');},shippingCompany:function(){return YUD.get('shipCompanies');},minQuantity:function(){return YUD.getElementsBy(function(element){if(element.name=='minQuantity'){return true;}else{return false;}},'input','narrow-form')[0];},maxQuantity:function(){return YUD.getElementsBy(function(element){if(element.name=='maxQuantity'){return true;}else{return false;}},'input','narrow-form')[0];}};AE.list.narrowDown=function(){this.config={};};AE.list.narrowDown.prototype={enableIptExt:function(isEnable){var oIptExt=AE.list.form.iptExt();if(!isEnable){oIptExt.disabled=true;oIptExt.value='';oIptExt.parentNode.className='exception-ipt exception-ipt-disabled';}else{oIptExt.disabled=false;oIptExt.parentNode.className='exception-ipt';}},formConfirm:function(confirmType,valueType,confirmValue){var self=this,form=AE.list.form;AE.list.dataRecord.sendNarrowDownConifrm(confirmType,valueType,confirmValue);var oIsFreeShip=form.isFreeShip();oIsFreeShip.value=oIsFreeShip.checked?'y':'';var oIsOnSale=form.isOnSale();oIsOnSale.value=oIsOnSale.checked?'yes':'all';var oIsFav=form.isFavorite();oIsFav.value=oIsFav.checked?'y':'all';var oAtm=form.atm();oAtm.value=oAtm.checked?'yes':'all';var oAplus=form.aPlus();if(oAplus){oAplus.value=oAplus.checked?'yes':'all';}
var oRetail=form.retail();oRetail.value=oRetail.checked?'yes':'all';if(oRetail.checked){var oMinQuantity=form.minQuantity();if(oMinQuantity){oMinQuantity.value='';}
var oMaxQuantity=form.maxQuantity();if(oMaxQuantity){oMaxQuantity.value='';}}
if(form.country().value=='all'){form.shippingCompany().value='';}
var oIptKwd=form.iptKwd(),oIptExt=form.iptExt();var kwdValue=trim(oIptKwd.value),excValue=trim(oIptExt.value);var narrowForm=get('narrow-form');if(kwdValue==''&&!(window.runParams.pageType&&window.runParams.pageType=='category')){self.noSearchTextDo();return;}
if(kwdValue!=''&&kwdValue!=XMLDecode(window.runParams.new_keywords)||excValue!=XMLDecode(window.runParams.new_exception_words)){var similarId=get('similar-id');if(similarId){similarId.parentNode.removeChild(similarId);}
var excludeId=get('exclude-id');if(excludeId){excludeId.parentNode.removeChild(excludeId);}
narrowForm.action='/wholesale';}
narrowForm.submit();},init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,form=AE.list.form;if(!get('narrow-form')){return;}
var oIptKwd=form.iptKwd(),oIptExt=form.iptExt(),oIsFreeShip=form.isFreeShip();var oIsOnSale=form.isOnSale(),oIsFav=form.isFavorite(),oAtm=form.atm();var oAplus=form.aPlus(),oRetail=form.retail();oIptKwd.value=XMLDecode(window.runParams.new_keywords);oIptExt.value=XMLDecode(window.runParams.new_exception_words);if(oAplus){var selState=window.runParams.new_selState?window.runParams.new_selState.split('-'):[0,0,0,0,0,0];oIsFreeShip.checked=selState[0]==1;oIsFav.checked=selState[1]==1;oRetail.checked=selState[2]==1;oIsOnSale.checked=selState[3]==1;oAplus.checked=selState[4]==1;oAtm.checked=selState[5]==1;}else{var selState=window.runParams.new_selState?window.runParams.new_selState.split('-'):[0,0,0,0,0];oIsFreeShip.checked=selState[0]==1;oIsFav.checked=selState[1]==1;oRetail.checked=selState[2]==1;oIsOnSale.checked=selState[3]==1;oAtm.checked=selState[4]==1;}
form.country().value=runParams.ship_to;form.shippingCompany().value=runParams.shipping_method;var iptKwdValue=oIptKwd.value;trim(oIptKwd.value)===''?this.enableIptExt(false):this.enableIptExt(true);YUE.on(oIptKwd,'keyup',function(){trim(this.value)===''?_self.enableIptExt(false):_self.enableIptExt(true);});var oldkwd=oIptKwd.value,oldext=oIptExt.value;var keywordSubmitFun=function(){var confirmType='';if(oldkwd!=oIptKwd.value){confirmType='kewords';}else if(oldext!=oIptExt.value){confirmType='exclude';}else{confirmType='kewords|exclude';}
_self.formConfirm(confirmType,'keywords',oIptKwd.value+'|'+oIptExt.value);};YUE.on([oIptKwd,oIptExt],'focus',function(){var oKeywordGo=YUD.getElementsByClassName('keyword-go')[0];if(!oKeywordGo){oKeywordGo=document.createElement('div');oKeywordGo.className='keyword-go';oKeywordGo.id='keyword-go';oKeywordGo.innerHTML='<input type="button" id="keyword-go-submit" class="narrow-go" />';var oIptContainer=YUD.getElementsByClassName('exception-ipt')[0];YUD.insertAfter(oKeywordGo,oIptContainer);YUD.setX(oKeywordGo,YUD.getX(oIptContainer)+oIptContainer.offsetWidth+10);oKeywordGo=YUD.getElementsByClassName('keyword-go')[0];YUE.on('keyword-go-submit','click',keywordSubmitFun);}
oKeywordGo.style.display='block';YUE.addListener(document.body,'click',hideButton);});var hideButton=function(e){var target=YUE.getTarget(e);var oKeywordGo=YUD.getElementsByClassName('keyword-go')[0];var oButton=get('keyword-go-submit');if(target.className!='keyword-go'&&target.id!='keyword-go-submit'&&target.id!=oIptKwd.id&&target.id!=oIptExt.id){oKeywordGo.style.display='none';oIptKwd.value=oldkwd;oIptExt.value=oldext;YUE.removeListener(document.body,'click',hideButton);}};YUE.on([oIptKwd,oIptExt],'keydown',function(e){if((e.keyCode||e.which)==13){keywordSubmitFun();}});YUE.on([oIsFreeShip,oIsOnSale,oIsFav,oAtm,oAplus,oRetail],'click',function(){var confirmType='';switch(this){case oIsFreeShip:confirmType='free_shipping';break;case oIsOnSale:confirmType='sale_items';break;case oIsFav:confirmType='top_related';break;case oAtm:confirmType='seller_online';break;case oAplus:confirmType='assurance_plus';break;case oRetail:confirmType='showretail';break;}
_self.formConfirm(confirmType,'checkbox',this.checked?'Y':'N');});},noSearchTextDo:function(){var host='http://www.aliexpress.com/',urlA=host+'activities/',urlB=host+'category/';var catId=get('narrowDownCate').value;switch(catId){case'0':targetUrl=host+'all-wholesale-products.html';break;case'26':targetUrl=urlA+'toys-hobbies/index.html';break;case'18':targetUrl=urlA+'Sports-Entertainment/index.html';break;case'322':targetUrl=urlA+'shoes/index.html';break;case'39':targetUrl=urlA+'lights_lighting/index.html';break;case'36':targetUrl=urlA+'jewelry-watch/index.html';break;case'15':targetUrl=urlA+'home_garden/index.html';break;case'44':targetUrl=urlA+'electronics/index.html';break;case'7':targetUrl=urlA+'computers-networking/index.html';break;case'509':targetUrl=urlA+'cell-phones/index.html';break;case'66':targetUrl=urlA+'beauty-personalcare/index.html';break;case'1524':targetUrl=urlA+'bags/index.html';break;case'34':targetUrl=urlA+'auto_parts/index.html';break;case'3':targetUrl=urlA+'apparel/index.html';break;case'0':targetUrl=urlA+'wedding-supplies/index.html';break;case'13':targetUrl=urlB+'13/construction-real-estate.html';break;case'5':targetUrl=urlB+'5/electrical-equipment-supplies.html';break;case'502':targetUrl=urlB+'502/electronic-components-supplies.html';break;case'2':targetUrl=urlB+'2/food.html';break;case'1503':targetUrl=urlB+'1503/furniture.html';break;case'17':targetUrl=urlB+'17/gifts-crafts.html';break;case'42':targetUrl=urlB+'42/hardware.html';break;case'6':targetUrl=urlB+'6/home-appliances.html';break;case'43':targetUrl=urlB+'43/machinery.html';break;case'1537':targetUrl=urlB+'1537/measurement-analysis-instruments.html';break;case'41':targetUrl=urlB+'41/mechanical-parts-fabrication-services.html';break;case'21':targetUrl=urlB+'21/office-school-supplies.html';break;case'23':targetUrl=urlB+'23/packaging-printing.html';break;case'80':targetUrl=urlB+'80/rubber-plastics.html';break;case'2829':targetUrl=urlB+'2829/service-equipment.html';break;case'4':targetUrl=urlB+'4/textiles-leather-products.html';break;case'1420':targetUrl=urlB+'1420/tools.html';break;case'30':targetUrl=urlB+'30/security-protection.html';break;default:targetUrl=host+'all-wholesale-products.html';break;}
if(targetUrl!=''){window.location.href=targetUrl;}}};AE.list.viewFilter={_widthAuto:function(){var oViewFilter=get('view-filter');YUD.setStyle(oViewFilter,'width','');},_fixWidth:function(){var oViewFilter=get('view-filter');var oArea=get('narrow-down-area')||get('main-wrap');YUD.setStyle(oViewFilter,'width',(oArea.offsetWidth-28)+'px');},init:function(){var self=this;if(get('sort-by-selector')){(new AE.widget.clickShow()).init({targetId:'sort-by-selector',contentId:'sort-by-container',bodyClickClose:true,needMask:true,excursion:[0,20]});}
var viewportHeight=YUD.getViewportHeight();var ghostPanel=new AE.app.ghostPanel();ghostPanel.init({id:'view-filter',offsetFromTop:viewportHeight-140});var oViewFilter=get('view-filter');var viewFilterTop=YUD.getY(oViewFilter);var narrowCookie='';YUE.on(window,'resize',function(){if(ghostPanel._getScrollY()>viewFilterTop&&narrowCookie==''){self._fixWidth();YUD.setStyle(oViewFilter,'position','fixed');YUD.setStyle(oViewFilter,'top','0px');if(runParams.ws_page_type==='4'){YUD.setStyle(oViewFilter,'background','#f5f5f5');YUD.setStyle(oViewFilter,'box-shadow','2px 5px 8px #DDD');}
YUD.setStyle(get('narrow-down-close'),'display','');}});window.onscroll=function(){narrowCookie=AE.bom.getCookie('list_narrow');if(ghostPanel._getScrollY()>viewFilterTop&&narrowCookie==''){self._fixWidth();YUD.setStyle(oViewFilter,'position','fixed');YUD.setStyle(oViewFilter,'top','0px');if(runParams.ws_page_type==='4'){YUD.setStyle(oViewFilter,'background','#f5f5f5');YUD.setStyle(oViewFilter,'box-shadow','2px 5px 8px #DDD');}
YUD.setStyle(get('narrow-down-close'),'display','');}else{self._widthAuto();YUD.setStyle(oViewFilter,'position','relative');YUD.setStyle(oViewFilter,'top',0);if(runParams.ws_page_type==='4'){YUD.setStyle(oViewFilter,'background','none');YUD.setStyle(oViewFilter,'box-shadow','none');}
YUD.setStyle(get('narrow-down-close'),'display','none');}}
YUE.on(get('narrow-down-close'),'click',function(){YUD.setCookie('list_narrow','true',0,'www.aliexpress.com','/');YUD.setStyle(get('view-filter'),'position','relative');YUD.setStyle(get('view-filter'),'top',0);YUD.setStyle(get('narrow-down-close'),'display','none');});var showPriceSubmit=function(){var fiterObject=get('filter-form').parentNode;var leftNum=400;if(runParams.ws_page_type==='4'){leftNum=365;}
YUD.setStyle(fiterObject,'left',leftNum+'px');YUD.setStyle(fiterObject,'position','absolute');var fiterWidth=fiterObject.offsetWidth;var fiterHeight=fiterObject.offsetHeight;fiterObject.className='narrow-down-bg price-selected';YUD.setStyle(get('narrow-go-cancel'),'display','');YUD.setStyle(get('filter-submit'),'display','');if(get('filter-price-back')===null){var oDiv=document.createElement('div');oDiv.id='filter-price-back';oDiv.style.width=fiterWidth+'px';oDiv.style.height=fiterHeight+'px';oDiv.style.marginLeft='2px';YUD.setStyle(oDiv,'float','left');YUD.insertBefore(oDiv,fiterObject);}
YUD.setStyle('filter-price-back','display','block');};var hidePriceSubmit=function(){YUD.setStyle('filter-price-back','display','none');YUD.setStyle(get('narrow-go-cancel'),'display','none');YUD.setStyle(get('filter-submit'),'display','none');var fiterObject=get('filter-form').parentNode;fiterObject.className='narrow-down-bg';fiterObject.style.position='static';};YUE.on([get('filter-price-from'),get('filter-price-to')],'click',function(){showPriceSubmit();YUE.on(document.body,'click',bodyClick);});YUE.on([get('filter-price-from'),get('filter-price-to')],'keydown',function(e){if((e.keyCode||e.which)==13){filterSubmit();}});var bodyClick=function(ev,arg){var target=ev.target||ev.srcElement;if(target.id!='filter-price-from'&&target.id!='filter-price-to'&&target.id!='narrow-go'&&target.id!='narrow-go-cancel'){hidePriceSubmit();YUE.removeListener(document.body,'click',bodyClick);}}
YUE.on(get('narrow-go-cancel'),'click',function(){hidePriceSubmit();});var filterSubmit=function(){var priceForm=get('filter-price-from'),priceTo=get('filter-price-to');var minPrice=priceForm.value,maxPrice=priceTo.value;AE.list.dataRecord.sendFilterSubmit(minPrice,maxPrice);if(minPrice==0&&maxPrice==0){priceForm.value='';priceTo.value='';}else{if(minPrice!==''&&minPrice!==0){priceForm.value=parseFloat(minPrice)?parseFloat(minPrice,10):'';minPrice=priceForm.value;}
if(maxPrice!==''&&maxPrice!==0){priceTo.value=parseFloat(maxPrice)?parseFloat(maxPrice,10):'';maxPrice=priceTo.value;}
if(trim(maxPrice)!==''&&(parseFloat(minPrice)>parseFloat(maxPrice))){var temp=minPrice;priceForm.value=maxPrice;priceTo.value=temp;}}
get('filter-form').submit();}
YUE.on(get('filter-submit'),'click',function(){filterSubmit();});var quantitySubmit=function(){var quantityForm=get('filter-quantity-from'),quantityTo=get('filter-quantity-to');var minQuantity=quantityForm.value,maxQuantity=quantityTo.value;AE.list.dataRecord.sendQuantitySubmit(minQuantity,maxQuantity);if(minQuantity==0&&maxQuantity==0){quantityForm.value='';quantityTo.value='';}else{if(minQuantity!==''&&minQuantity!==0){quantityForm.value=parseInt(minQuantity,10)?parseInt(minQuantity,10):'';minQuantity=quantityForm.value;}
if(maxQuantity!==''&&maxQuantity!==0){quantityTo.value=parseInt(maxQuantity,10)?parseInt(maxQuantity,10):'';maxQuantity=quantityTo.value;}
if(trim(maxQuantity)!==''&&(parseInt(minQuantity,10)>parseInt(maxQuantity,10))){var temp=minQuantity;quantityForm.value=maxQuantity;quantityTo.value=temp;}}
var oRetail=YUD.getElementsBy(function(element){if(element.name=='isRtl'){return true;}else{return false;}},'input','quantity-form')[0];if(oRetail){oRetail.value='';}
get('quantity-form').submit();}
var showQuantitySubmit=function(){var fiterContainer=get('quantity-form').parentNode;var leftNum=522;YUD.setStyle(fiterContainer,'left',leftNum+'px');YUD.setStyle(fiterContainer,'position','absolute');var fiterWidth=fiterContainer.offsetWidth;var fiterHeight=fiterContainer.offsetHeight;fiterContainer.className='narrow-down-bg quantity-selected';YUD.setStyle(get('quantity-cancel'),'display','');YUD.setStyle(get('quantity-submit'),'display','');if(get('filter-quantity-back')===null){var oDiv=document.createElement('div');oDiv.id='filter-quantity-back';oDiv.style.width=fiterWidth+'px';oDiv.style.height=fiterHeight+'px';oDiv.style.marginLeft='2px';YUD.setStyle(oDiv,'float','left');YUD.insertBefore(oDiv,fiterContainer);}
YUD.setStyle('filter-quantity-back','display','block');};var hideQuantitySubmit=function(){get('filter-quantity-back').style.display='none';YUD.setStyle(get('quantity-cancel'),'display','none');YUD.setStyle(get('quantity-submit'),'display','none');var fiterContainer=get('quantity-form').parentNode;fiterContainer.className='narrow-down-bg';fiterContainer.style.position='static';};var body1Click=function(ev,arg){var target=ev.target||ev.srcElement;if(target.id!='filter-quantity-from'&&target.id!='filter-quantity-to'&&target.id!='quantity-submit'&&target.id!='quantity-cancel'){hideQuantitySubmit();YUE.removeListener(document.body,'click',body1Click);}}
YUE.on([get('filter-quantity-from'),get('filter-quantity-to')],'click',function(){showQuantitySubmit();YUE.on(document.body,'click',body1Click);});YUE.on(get('quantity-cancel'),'click',function(){hideQuantitySubmit();});YUE.on([get('filter-quantity-from'),get('filter-quantity-to')],'keydown',function(e){if((e.keyCode||e.which)==13){quantitySubmit();}});YUE.on(get('quantity-submit'),'click',function(){quantitySubmit();});}};YUE.onDOMReady(function(){var narrowDown=new AE.list.narrowDown();narrowDown.init({});var changeCompanies,companySelector=get('company-selector');if(companySelector){changeCompanies=new AE.list.changeCompanies();changeCompanies.init({selector:companySelector,comboBox:get('company-container'),okButton:get('btn-company-ok'),companiesContainer:get('pnl-companies'),okButtonAfterClick:function(shippingValue){AE.list.form.shippingCompany().value=shippingValue;narrowDown.formConfirm('shipping_method','shipping_method',shippingValue);}});}
var changeCountry=null,countrySelector=get('country-selector');if(countrySelector){changeCountry=new AE.list.changeCountry();changeCountry.init({selector:countrySelector,comboBox:get('country-container'),sepTplWrap:get('country-sep'),countryChange:function(countryCode){AE.list.form.country().value=countryCode;narrowDown.formConfirm('country','ship_to',countryCode);if(countryCode!='all'&&AE.app.LocalStorage){AE.app.LocalStorage._setLocalStorage('country_code',countryCode);}}});}
AE.list.viewFilter.init();});;

AE.list.changeCountry=function(){this.config={actionUrl:'/wholesale-allcountries.html',selector:null,comboBox:null,sepTplWrap:null,titleClass:'list-title',currentClass:'current',allRegionsCode:'all',countryChange:null};this.temp={prevSelectedCountry:''};};AE.list.changeCountry.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=_self.config;_self.temp.prevSelectedCountry=_self._getCountryCode(_self.getCurrentItem());YAHOO.util.Connect.asyncRequest('GET',config.actionUrl,{success:function(data){var json=data.responseText;var tpl=config.comboBox.innerHTML;var sepTpl=config.sepTplWrap.innerHTML;var content=[];var countryList=YAHOO.lang.JSON.parse(json);content.push('<a rel="nofollow"><span class="css_flag css_'+config.allRegionsCode+'">All Regions</span></a>');for(var i=0;i<countryList.countries.length;i++){var countryItem=countryList.countries[i];var option='';if(countryItem.i=='ignore'){option=sepTpl.replace(eval('/\\*n\\*/ig'),countryItem.n);}else{option=tpl.replace(eval('/\\*n\\*/ig'),countryItem.n).replace(eval('/\\*c\\*/ig'),(countryItem.c).toLowerCase());}
content.push(option);}
config.comboBox.innerHTML=content.join('');window.falls=(new AE.app.falls()).init({selector:config.selector,selectorTitleClass:config.titleClass,fromFirstChar:true,contentIgnoreItemClass:_self._getFirstChild(get(config.sepTplWrap)).className,content:config.comboBox,contentItemCurrentClass:config.currentClass,isKillTheSame:false});window.falls.afterSelect.subscribe(function(e,args){var item=args[1].item;var countryCode=_self._getCountryCode(item);if(countryCode==_self.temp.prevSelectedCountry){return;}
_self.temp.prevSelectedCountry=countryCode;if(typeof _self.config.countryChange=='function'){_self.config.countryChange(countryCode);}});},failure:function(data){},timeout:5000});},getCurrentItem:function(){var self=this;var item=YUD.getElementsByClassName(self.config.titleClass,'*',self.selector)[0];return item;},setCurrentItem:function(countryItem){var self=this;var currentItem=self.getCurrentItem();currentItem.innerHTML=countryItem.innerHTML;},_getFirstChild:function(list){var node=list.firstChild;while(node.nodeType==3&&!/\S/.test(node.nodeValue)){node=node.nextSibling;}
return node;},_getCountryCode:function(element){var flagLabels=YUD.getElementsByClassName('css_flag','*',element);if(!flagLabels||flagLabels.length<=0){return'us';}
var countryCode=flagLabels[0].className.replace('css_flag css_','').toLowerCase();return countryCode;}};;

AE.list.changeCompanies=function(){this.config={actionUrl:'/wholesale-support-companies.html',selector:null,comboBox:null,okButton:null,companiesContainer:null,titleClass:'list-title',itemName:'companies',allItemName:'all-companies',allCheckedItemText:'View All',paramKey:'logisticsLevel',paramOldKey:'shipCompanies',countryParamKey:'shipCountry',loadingText:'<div class="message">Loading...</div>',okButtonAfterClick:null};this.temp={dlgShippingShow:null,contentData:'',isLoadSucess:false};this.isCountryFresh=true;};AE.list.changeCompanies.prototype={init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=_self.config,temp=_self.temp;if(!config.selector){return;}
temp.dlgShippingShow=new AE.widget.clickShow();temp.dlgShippingShow.init({targetId:config.selector,contentId:config.comboBox,bodyClickClose:true,needMask:true,excursion:[0,20],onShow:function(){_self.callShippingDialog({_self:_self});}});YUE.on(config.okButton,'click',_self.submitChanges,{_self:_self});},callShippingDialog:function(args){var _self=args._self,config=_self.config;var companiesContent=config.companiesContainer.innerHTML.replace(/\s/gi,'');if(_self.isCountryFresh||!_self.temp.isLoadSucess){var countryCode=_self.getCountryCode();_self._showOtherPanle(false);config.companiesContainer.innerHTML=config.loadingText;_self.loadCompaniesAndFill({countryCode:countryCode,_self:_self});_self.isCountryFresh=false;}},submitChanges:function(ev,args){var _self=args._self,config=_self.config,temp=_self.temp;var checkboxes=_self._getSelectedCheckBoxs();var length=checkboxes.length;var selectedCompaniesValue=[],selectedCompaniesText=[];for(var i=0;i<length;i++){var checkbox=checkboxes[i];selectedCompaniesValue.push(checkbox.value);selectedCompaniesText.push(checkbox.getAttribute('rel'));}
temp.dlgShippingShow.hiddenDirectly(null,true);var allItem=_self._getAllItem(),titleText=null;if(_self.isNewSelector()){if(selectedCompaniesText.length==3){titleText='All Service Level';}else if(selectedCompaniesText.length==2){if(selectedCompaniesText[0].indexOf('Expedited')!=-1){selectedCompaniesText[0]=selectedCompaniesText[0].replace('Shipping','');}else if(selectedCompaniesText[0].indexOf('Standard')!=-1){selectedCompaniesText[0]=selectedCompaniesText[0].replace('Shipping','');}
titleText=selectedCompaniesText.join('\\ ');}else{titleText=selectedCompaniesText[0];}}else{if(allItem.checked==false){titleText=selectedCompaniesText.join(', ');}else{titleText=config.allCheckedItemText;}}
_self.setTitle(titleText);var paramValue=selectedCompaniesValue.join(_self._getParamSplit());if(typeof _self.config.okButtonAfterClick=='function'){_self.config.okButtonAfterClick(paramValue);}},checkSingleItem:function(ev,args){var self=args._self;var target=YUE.getTarget(ev);var ancestor=YUD.getAncestorByClassName(target,'all-companies');if(ancestor){self.checkAllItem();return;}
var checkboxes=self._getCheckboxs();var selectedBoxes=self._getSelectedCheckBoxs();if(selectedBoxes.length==1){selectedBoxes[0].disabled=true;}else{for(var i=0;i<checkboxes.length;i++){checkboxes[i].disabled=false;}}
selectedBoxes.length>=checkboxes.length?self._setAllItem(true):self._setAllItem(false);},checkAllItem:function(ev,args){var _self=this,config=_self.config;var allItem=_self._getAllItem();var checkboxes=_self._getCheckboxs();if(allItem){if(allItem.checked==true){allItem.disabled=true;for(var i=0;i<checkboxes.length;i++){var checkbox=checkboxes[i];checkbox.checked=true;checkbox.disabled=false;}}}},fillCompaniesList:function(){var _self=this,config=_self.config;var chkCompanies=config.companiesContainer;var json=_self.temp.contentData;if(json==''){return;}
try{var levelObj=YAHOO.lang.JSON.parse(json);}catch(e){_self._showError();return;}
_self._buildList(levelObj);},loadCompaniesAndFill:function(args){var countryCode=args.countryCode;var _self=args._self,config=_self.config;var paramKey=_self._getParamKey(),companyCodes;if(_self.isNewSelector()){companyCodes=get(paramKey).value;}else{companyCodes=AE.list.common.getUrlValueByKey(paramKey);}
var logisticsType=AE.list.common.getUrlValueByKey('logisticsType');var isFreeShip=AE.list.common.getUrlValueByKey('isFreeShip');var fobdoor=AE.list.common.getUrlValueByKey('fobdoor');var url=config.actionUrl+'?'+config.countryParamKey+'='+countryCode+'&'+paramKey+'='+companyCodes+'&logisticsType='+logisticsType+'&isFreeShip='+isFreeShip+'&fobdoor='+fobdoor;YAHOO.util.Connect.asyncRequest('GET',url,{success:function(data){try{var levelObj=YAHOO.lang.JSON.parse(data.responseText);if(_self.temp.contentData==''){_self.temp.contentData=data.responseText;}}catch(e){_self._showError();return;}
_self._buildList(levelObj);},failure:function(data){},timeout:5000});},_buildList:function(levelObj){var _self=this;var levelList=null;if(levelObj.logisticsLevels){levelList=levelObj.logisticsLevels;_self._buildItemList(levelList);}else if(levelObj.companies){levelList=levelObj.companies;_self._buildOldItemList(levelList);}else{_self._showError();return;}
_self._showOtherPanle(true);_self.temp.isLoadSucess=true;},_buildItemList:function(levelList){var self=this;var html='',tmpHtml,formatHtml='<dl class="clearfix">'+'<dt><input [check] [disabled] type="checkbox" class="companies" value="[abbr]" id="[abbr]" rel="[name]"></dt>'+'<dd class="cc-label level" style="[disablecolor]"><label for="[abbr]"><span>[name]</span>[maxmin]</label></dd></dl>';var level;for(var i=0;i<levelList.length;i++){level=levelList[i];tmpHtml=formatHtml.replace(/\[abbr\]/gi,level.abbr).replace(/\[name\]/gi,level.name).replace(/\[check\]/gi,(level.selected.toLowerCase()=='y'?'checked="true"':'')).replace(/\[disabled\]/gi,(level.support.toLowerCase()=='y'?'support="y"':'support="n" disabled="disabled" ')).replace(/\[disablecolor\]/gi,(level.support.toLowerCase()=='y'?'':'color:#aaa;')).replace(/\[maxmin\]/gi,level.support.toLowerCase()=='y'?'<span> ('+level.min+'-'+level.max+' Days)</span>':'');html+=tmpHtml;}
self.config.companiesContainer.innerHTML=html;var selectedBoxs=self._getSelectedCheckBoxs();if(selectedBoxs.length==1){selectedBoxs[0].disabled=true;}
YUE.on(self.config.companiesContainer,'click',self.checkSingleItem,{_self:self});},_buildOldItemList:function(levelList){var self=this;var html='',tmpHtml;var formatHtml='<dl class="[lowerabbr] clearfix"><dt><input support="y" [check] type="checkbox" class="companies" value="[abbr]" id="[abbr]" rel="[name]"></dt><dd class="cc-label"><label for="[abbr]"><span>[name]</span></label></dd></dl>';var level;html+='<dl class="all-companies clear-fix"><dt><input class="all-companies" type="checkbox" id="view-all" rel="View All" /></dt><dd class="cc-label"><label for="view-all"><span>View All</span></label></dd></dl>';for(var i=0;i<levelList.length;i++){level=levelList[i];tmpHtml=formatHtml.replace(/\[abbr\]/gi,level.abbr).replace(/\[lowerabbr\]/gi,level.abbr.toLowerCase()).replace(/\[name\]/gi,level.name).replace(/\[check\]/gi,(level.selected.toLowerCase()=='y'?'checked="true"':''))
html+=tmpHtml;}
self.config.companiesContainer.innerHTML=html;var selectedBoxs=self._getSelectedCheckBoxs(),checkBoxs=self._getCheckboxs();if(selectedBoxs.length==1){selectedBoxs[0].disabled=true;}else if(selectedBoxs.length==checkBoxs.length){self._setAllItem(true);}
YUE.on(self.config.companiesContainer,'click',self.checkSingleItem,{_self:self});},getCountryCode:function(args){var self=this;var countryCode='';if(get('shipCountry')){countryCode=trim(get('shipCountry').value);}
return countryCode;},setVisible:function(isVisible){YUD.setStyle(this.config.selector,'display',isVisible?'':'none');},setTitle:function(title){var selectorTitle=YUD.getElementsByClassName(this.config.titleClass,'*',this.config.selector)[0];selectorTitle.innerHTML=title;},reset:function(){if(this.isNewSelector()){this.setTitle('All Service Level')}},isNewSelector:function(){if(get('pnl-learn-level')){return true;}else{return false;}},_getParamSplit:function(){return this.isNewSelector()?',':' ';},_getParamKey:function(){return this.isNewSelector()?this.config.paramKey:this.config.paramOldKey;},_getAllItem:function(){return YUD.getElementsByClassName(this.config.allItemName,'input',get('company-container'))[0];},_setAllItem:function(checked){var item=this._getAllItem();if(item){item.disabled=checked;item.checked=checked;}},_showError:function(){var self=this;self.config.companiesContainer.innerHTML='<span class="shipping-error"><a href="javascript:void(0);" id="link-refresh-companys">refresh it.</a></span>';YUE.on('link-refresh-companys','click',function(){self.callShippingDialog({_self:self})});},_showOtherPanle:function(isShow){this.config.okButton.parentNode.style.display=isShow?'block':'none';var learnPanel=get('pnl-learn-level');if(learnPanel){learnPanel.style.display=isShow?'block':'none';}},_getCheckboxs:function(){var self=this;return YUD.getElementsBy(function(el){return el.className==self.config.itemName&&el.getAttribute('support')=='y';},'input',self.config.companiesContainer);},_getSelectedCheckBoxs:function(){var self=this;return YUD.getElementsBy(function(el){return el.className==self.config.itemName&&el.checked==true&&el.getAttribute('support')=='y';},'input',self.config.companiesContainer);}};;

AE.list.listItems=function(config){this.config={target:get("list-items"),listForm:get("list-form"),checkAllBtn:get("list-form-checkall"),selectedIdsInput:get("list-form-selected-ids"),itemCheckBoxClass:"item-checkbox",noSelectText:"No item(s) selected.",listFormReportAction:"report.htm",reportBtn:get("list-form-report-btn"),noPhotoSrc:(YUD.getElementsByClassName("gallery-mode").length>0)?"http://img.alibaba.com/images/eng/wholesale/icon/nophoto_200.gif":"http://img.alibaba.com/images/eng/wholesale/icon/nophoto.gif"};this.temp={productPics:[],checkboxs:[]};return this;};AE.list.listItems.prototype={fillSelectedId:function(){var _self=this,config=this.config,temp=this.temp;config.selectedIdsInput.value="";var selectedIds=[];for(var i=0;i<temp.checkboxs.length;i++){var chk=temp.checkboxs[i];if(chk.checked){selectedIds.push(chk.value);}};config.selectedIdsInput.value=selectedIds.join(",");},checkAllBoxes:function(args){var _self=this,config=this.config,temp=this.temp;var checkStatus=args.o.checked;for(var i=0;i<temp.checkboxs.length;i++){var chk=temp.checkboxs[i];chk.checked=checkStatus;};},checkBoxCheck:function(args){var _self=this,config=this.config,temp=this.temp;var checkbox=args.o;if(_self.isCheckAll()){config.checkAllBtn.checked=true;}else{config.checkAllBtn.checked=false;}},isCheckAll:function(){var _self=this,config=this.config,temp=this.temp;for(var i=0;i<temp.checkboxs.length;i++){var chk=temp.checkboxs[i];if(!chk.checked){return false}};return true;},itemReport:function(){var _self=this,config=this.config,temp=this.temp;_self.fillSelectedId();if(config.selectedIdsInput.value==""){alert(config.noSelectText);return;}
config.listForm.action=config.listFormReportAction;config.listForm.submit();},defineTemps:function(){var _self=this,config=this.config,temp=this.temp;temp.productPics=YUD.getElementsByClassName("picCore","img",config.target);temp.checkboxs=YUD.getElementsByClassName(config.itemCheckBoxClass,"input",config.target);},defineEvents:function(){var _self=this,config=this.config,temp=this.temp;YUE.on(config.checkAllBtn,"click",function(){_self.checkAllBoxes({o:this});});YUE.on(temp.checkboxs,"click",function(){_self.checkBoxCheck({o:this});});YUE.on(config.reportBtn,"click",function(){_self.itemReport();});},run:function(){var _self=this,config=this.config,temp=this.temp;YUE.on(window,"load",function(){if(AE.bom.isIE){for(var i=0;i<temp.productPics.length;i++){var productPic=temp.productPics[i];if(productPic.readyState!="complete"){productPic.src=config.noPhotoSrc;};};}else{for(var i=0;i<temp.productPics.length;i++){var productPic=temp.productPics[i];var bakAlt=productPic.alt;productPic.removeAttribute("alt");setTimeout(function(o){if(o.pic.offsetHeight==0){o.pic.src=config.noPhotoSrc;if(o.alt){o.pic.setAttribute("alt",o.alt);}};},10,{pic:productPic,alt:bakAlt});};}});},init:function(customConfig){this.config=YL.merge(this.config,customConfig||{});var _self=this,config=this.config,temp=this.temp;if(!config.target)return false;_self.defineTemps();_self.defineEvents();_self.run();if(AE.bom.isIE){CollectGarbage();}
return _self;}};YUE.onDOMReady(function(){(new AE.list.listItems()).init({listFormReportAction:"/propertyright/submitPropertyRight.vhtml"});});;

AE.list.imagePreview={init:function(isBucketTest){var quickViewConfig={bigImgBoxId:'quick-view-box',bigImgPosOffset:[-1,0],dartIconBoxId:'dart-icon-box',miniImgPosBoxId:'mini-img-posbox',miniImgMaskBoxId:'mini-img-mask-box',miniImgPosOffset:[-4,-4],displayDelay:150,closeDelay:50,autoClose:true,verticalAlign:'top',isUseImgMaskBox:false};iQuickView=new AE.widget.quickView();iQuickView.init(quickViewConfig);if(isBucketTest){iQuickView.setTemplateStr('<div class="large-img"><a id="$id$" href="$detailUrl$" target="_blank"><img src="$largeImgUrl$" /><\/a><\/div><div class="shadow"></div>');}
else{iQuickView.setTemplateStr('<div class="large-img"><a id="$id$" href="$detailUrl$"><img src="$largeImgUrl$" /><\/a><\/div><div class="shadow"></div>');}
var litImgs=YUD.getElementsByClassName('picCore','img','list-items');get('mini-img-mask-box').style.display='none';YUE.on(litImgs,'mouseout',function(e){iQuickView.cache.canClose=true;iQuickView.hide(e);});YUE.on(litImgs,'mouseover',function(){var litImg=this;litImg.removeAttribute('alt');var item=this;iQuickView.cache.canClose=false;iQuickView.setTemplateParseHash({'id':'largeimg'+this.parentNode.id,'detailUrl':this.parentNode.href,'largeImgUrl':this.src.replace('.summ').replace('_250x250.jpg','')},false);iQuickView.show(this);setTimeout(function(){var largeImgBox=iQuickView.cache.elBigImgBox.getElementsByTagName('a')[0];YUE.on(largeImgBox,'mousedown',function(e){AE.list.dataRecord.sendProductBigImageClick(item.parentNode.id.split('_')[1]);});},180);});}};AE.list.reportItem={conf:{picBoxClassName:'img',reportBaseURL:'http://channel.alibaba.com/complaint/aeReportHome.htm'},init:function(_conf){var conf=this.conf=YL.merge(this.conf,_conf||{});var picBoxes=YUD.getElementsByClassName(conf.picBoxClassName,'*','list-items');this.isInbox=(function(_picBoxClassName){var isInbox=function(el,undefined){if(el==null||el.tagName.toUpperCase()=='BODY'){return false;}
else{if(YUD.hasClass(el,_picBoxClassName)){return true;}
else{return isInbox(el.parentNode);}}};return isInbox;})(conf.picBoxClassName);for(var i=0,l=picBoxes.length;i<l;i++){(function(index,picBox,context){YUE.on(picBox,'mouseover',function(e,reportItemContext){reportItemContext.reportIcon.injectTo(index,this,conf.reportBaseURL);},context);})(i,picBoxes[i],this);}
YUE.on(picBoxes,'mouseout',function(e,reportItemContext){e=e||window.event;var tar=e.toElement||e.relatedTarget;var _isInbox=reportItemContext.isInbox;if(!_isInbox(tar)){reportItemContext.reportIcon.remove();}},this);},reportIcon:{_currIndex:null,_iconEl:null,_reportLink:'javascript:void(0)',_currPid:'',_currBloginid:'',_createIconNode:function(pid){var a=document.createElement('a');a.className='report-item';a.setAttribute('href',this._reportLink);a.setAttribute('target','_blank');a.setAttribute('title','Report fraud item');a.innerHTML='&nbsp;';return a;},injectTo:function(index,currPic,reportBaseURL){if(index!=this._currIndex){this.refreshReportLink(currPic,reportBaseURL);this.remove();this._currIndex=index;var iconEl=this._createIconNode();this._iconEl=iconEl;if(this._currPid==''||this._currBloginid==''){YUD.setStyle(this._iconEl,'display','none');}
else{YUD.setStyle(this._iconEl,'display','block');}
currPic.appendChild(iconEl);}},remove:function(){var iconEl=this._iconEl;if(iconEl!=null){iconEl.parentNode.removeChild(iconEl);this._iconEl=null;this._currIndex=null;}},refreshReportLink:function(currPic,reportBaseURL){var qrdatas=(currPic.parentNode.getAttribute('qrdata')||'').split('|');var pid=this._currPid=qrdatas[1]||'';var bLoginId=this._currBloginid=qrdatas[2]||'';this._reportLink=[reportBaseURL,'?product_id=',pid,'&b_login_id=',bLoginId].join('');}}};YUE.onDOMReady(function(){var isGallery=YUD.getElementsByClassName("gallery-mode").length===0?false:true;var pageType=runParams.ws_page_type;var isInitList=pageType=='8'||pageType=='1'||pageType=='9'||pageType=='10'||pageType=='11';var isBucketTest=(runParams.is_bucket_test!=undefined&&runParams.is_bucket_test=='y')?true:false;if(isInitList&&!isGallery){AE.list.imagePreview.init(isBucketTest);}
AE.list.reportItem.init({picBoxClassName:'img',reportBaseURL:'http://help.aliexpress.com/complaint/aeReportIntro.html'});});;

AE.namespace('AE.run');if(!AE.run.listSurvey){AE.run.listSurvey=function(){this.config={triggerId:'',prevSiblingId:'',actionUrl:'',buttonClickedClsName:'survey-btn-clicked',buttonDisabledClsName:'survey-btn-disabled'};this.temp={isYesFormInited:false,isNoFormInited:false};};}
AE.run.listSurvey.prototype={init:function(triggerId,prevSiblingId,actionUrl){this.config.prevSiblingId=prevSiblingId;this.config.actionUrl=actionUrl||'';this.config.triggerId=triggerId;},show:function(){var self=this,h=self._getHtml(),d=document.createElement('div');d.innerHTML=h;if(YUD.get(this.config.prevSiblingId)){YUD.insertAfter(d,get(self.config.prevSiblingId));}
var yes=get('linktoyes'),no=get('linktono');YUE.on(yes,'click',self._showYes,null,self);YUE.on(no,'click',self._showNo,null,self);},_showYes:function(e){YUE.preventDefault(e);this._disableYesAndNo(1);this._initForm('yes');var self=this;var qyes=get('survey-content-yes');YUD.setStyle(qyes,'display','block');YUD.setStyle('survey-content','display','block');var qno=get('survey-content-no');YUD.setStyle(qno,'display','none');},_showNo:function(e){YUE.preventDefault(e);this._disableYesAndNo(2);this._initForm('no');var self=this;var qno=get('survey-content-no');YUD.setStyle(qno,'display','block');YUD.setStyle('survey-content','display','block');var qyes=get('survey-content-yes');YUD.setStyle(qyes,'display','none');var optList=YUD.getElementsByClassName('survey-option-list','ul','survey-content-no')[0];if(optList){YUE.on(optList,'click',self._showOtherOption,null,self);}},_showOtherOption:function(e){var target=e.originalTarget||e.srcElement;var tagName=target.tagName.toLowerCase();if(tagName!='label'&&tagName!='input'){return;}
var arr=YUD.getElementsByClassName('survey-option-other','div','survey-container');if(arr.length<=0){return;}
var textarea=arr[0];YUD.setStyle(textarea,'display','block');},_showFeedBack:function(){var c=get('survey-container');var f=get('survey-feedback');var qno=get('survey-content-no');var qyes=get('survey-content-yes');var listq_t=YUD.getElementsByClassName('survey-title','p',c)[0];var listq_next=YUD.getElementsByClassName('survey-guide','div',c)[0];YUD.setStyle(f,'display','block');YUD.setStyle([listq_t,listq_next,qno,qyes],'display','none');},_initForm:function(state){var self=this,form;if(state=='yes'&&self.temp.isYesFormInited==true){return;}
if(state=='no'&&self.temp.isNoFormInited==true){return;}
if(state=='yes'){form=get('survey-content-yes');self.temp.isYesFormInited=true;}else{form=get('survey-content-no');self.temp.isNoFormInited=true;}
form.setAttribute('action',this.config.actionUrl);if(!this._support_input_placeholder()){var textarea=form.getElementsByTagName('textarea')[0];var title=textarea.getAttribute('placeholder');var v=AE.common.trim(textarea.value);if(v==''){textarea.value=title;textarea.style.color='#666';}
YUE.on(textarea,'focus',function(){var v=AE.common.trim(this.value);if(v==title){this.value='';}
this.style.color='#000';});YUE.on(textarea,'blur',function(){var v=AE.common.trim(this.value);if(v==''){this.value=title;this.style.color='#666';}});}
var surveySubmit=YUD.getElementsByClassName('survey-submit','a',form)[0];YUE.on(surveySubmit,'click',function(e){YUE.preventDefault(e);var oform=YUD.getAncestorByTagName(this,'form');var textarea=oform.getElementsByTagName('textarea')[0];var content=AE.common.trim(textarea.value);var title=textarea.getAttribute('placeholder');if(content==title){content='';textarea.value='';}
var contentLength=content.length;if(contentLength>2000){textarea.value=content.substr(0,2000);}
oform.submit();self._showFeedBack();});var referUrl=(document.referrer);var currentUrl=(location.href);var referUrlInput=YUD.getElementsBy(function(el){if(el.getAttribute('name')=='referPageUrl'){return true;}
return false;},'input',form)[0];referUrlInput.value=referUrl;var currentUrlInput=YUD.getElementsBy(function(el){if(el.getAttribute('name')=='currentPageUrl'){return true;}
return false;},'input',form)[0];currentUrlInput.value=currentUrl;var loginIdInput=YUD.getElementsBy(function(el){if(el.getAttribute('name')=='loginId'){return true;}
return false;},'input',form)[0];if(AE.app.cookieInfo&&AE.app.cookieInfo.isLoggedIn){loginIdInput.value=AE.app.cookieInfo.memberSeq;}
var stateInput=YUD.getElementsBy(function(el){if(el.getAttribute('name')=='state'){return true;}
return false;},'input',form)[0];stateInput.value=state=='yes'?'y':'n';},_support_input_placeholder:function(){var i=document.createElement('input');return'placeholder'in i;},_disableYesAndNo:function(s){var self=this;YUD.removeClass(['linktoyes','linktono'],self.config.buttonClickedClsName);YUD.removeClass(['linktoyes','linktono'],self.config.buttonDisabledClsName);if(s==1){YUD.addClass('linktoyes',self.config.buttonClickedClsName);YUD.addClass('linktono',self.config.buttonDisabledClsName);}else{YUD.addClass('linktoyes',self.config.buttonDisabledClsName);YUD.addClass('linktono',self.config.buttonClickedClsName);}},_getHtml:function(){return'<iframe name="survey-framesubmit" style="display:none;" width="1" height="1" ></iframe>'+'<div id="survey-container">'+'<p class="survey-title">Did you find what you were looking for?</p>'+'<div class="survey-guide">'+'<a href="javascript:;" rel="nofollow" hidefocus="true" class="survey-btn" id="linktoyes">Yes</a>'+'<a href="javascript:;" rel="nofollow" hidefocus="true" class="survey-btn" id="linktono">No</a>'+'</div>'+'<div id="survey-content">'+'<form id="survey-content-yes" method="post" action="" target="survey-framesubmit">'+'<p>How can we further improve your search experience?</p>'+'<div>'+'<textarea class="survey-blank-to-fill" name="qcontent" placeholder="Please note that we are unable to respond directly to feedback submitted via this form."></textarea>'+'</div>'+'<input type="hidden" name="loginId" />'+'<input type="hidden" name="currentPageUrl" />'+'<input type="hidden" name="referPageUrl" />'+'<input type="hidden" name="state" />'+'<a href="javascript:;" class="survey-submit" hidefocus="true">Submit</a>'+'</form>'+'<form id="survey-content-no" method="post" action="" target="survey-framesubmit">'+'<p>What problems did you have with the search experience?</p>'+'<ul class="survey-option-list">'+'<li><input type="checkbox" name="qlistnum" value="1" id="qnum1" /><label for="qnum1">Too many identical / similar products</label></li>'+'<li><input type="checkbox" name="qlistnum" value="2" id="qnum2" /><label for="qnum2">Too many unrelated search results</label></li>'+'<li><input type="checkbox" name="qlistnum" value="3" id="qnum3" /><label for="qnum3">Not enough search results</label></li>'+'<li><input type="checkbox" name="qlistnum" value="4" id="qnum4" /><label for="qnum4">Refine Search returns insufficient or unrelated products</label></li>'+'<li><input type="checkbox" name="qlistnum" value="5" id="qnum5" /><label for="qnum5">Product prices are not attractive and/or reasonable</label></li>'+'<li><input type="checkbox" name="qlistnum" value="6" id="qnum8" /><label for="qnum8">Other</label></li>'+'</ul>'+'<div class="survey-option-other">'+'<p>Please explain the problems you selected or tell us of other issues here.(Optional)</p>'+'<textarea class="survey-blank-to-fill" name="qcontent" placeholder="Please note that we are unable to respond directly to feedback submitted via this form."></textarea>'+'</div>'+'<input type="hidden" name="loginId" />'+'<input type="hidden" name="currentPageUrl" />'+'<input type="hidden" name="referPageUrl" />'+'<input type="hidden" name="state" />'+'<a href="javascript:;" class="survey-submit" hidefocus="true">Submit</a>'+'</form>'+'</div>'+'<div id="survey-feedback">'+'<p class="survey-feedback-h">Thank you for your feedback.</p>'+'<p>Your feedback will help us improve our search results to better serve customers like you.</p>'+'</div>'+'</div>';}};YUE.onDOMReady(function(){var triggerId='pagination-bottom';var prevSiblingId='p4pHotProducts';var prevSiblingIdTemp='p4pHotProducts';if(!get(prevSiblingId)){prevSiblingId=triggerId;}
if(AE.app.scrollTrigger&&get(triggerId)){var actionUrl='http://channel.alibaba.com/searchfeedback/searchFeedback.do';var listsurvey_new=new AE.run.listSurvey();listsurvey_new.init(triggerId,prevSiblingId,actionUrl,prevSiblingIdTemp);var feedbackTrigger=new AE.app.scrollTrigger();feedbackTrigger.init({distance:0,delay:100});feedbackTrigger.register(triggerId,function(){listsurvey_new.show();},null,true);feedbackTrigger.run();}});;

try{var WishList=(function(){if(typeof runParams==='undefined'){var wishListParams={};}else{var wishListParams=runParams;}
if(get('usaeServer')){var usaeServer=get('usaeServer').value;}
var config={productId:wishListParams.productId,userCountry:wishListParams.userCountry,wishListJsonPath:usaeServer+'/wishlist/add_to_wishlist.htm',wishListEmailCheck:usaeServer+'/wsuser/buyerJoin/ajaxEmailDuplicatedCheck.htm',wishListRegister:usaeServer+'/wsuser/buyerJoin/noMemberResult.htm',wishListProductAdmin:usaeServer+'/wishlist/wish_list_product_list.htm',wishListStoreAdmin:usaeServer+'/wishlist/wish_list_store_list.htm',wishListCollectUrl:usaeServer+'/wishlist/wishlist_item_count.htm',wishListSid:'',wishListFromReg:'',itemidSended:'',itemtypeSended:'',wishListSucNum:0,hasDialog:false,isEvict:'',pageType:'',wishListContainer:null};var wishListCollect=function(collectEl,itemType,itemId){var collectUrl=config.wishListCollectUrl+'?itemtype='+itemType+'&itemid='+itemId;var collectSuccCallback=function(){if(!window.collectNum){return;}
var getCollectNum=parseInt(window.collectNum.num);collectEl.innerHTML='(<span class="wl-collect-num">'+getCollectNum+'</span> Adds)';var wlStoreCollect=get('wl-store-collect');if(get('companyId')&&wlStoreCollect&&get('add-to-wishlist')){var companyId=get('companyId').value;if(companyId&&wlStoreCollect&&wlStoreCollect.innerHTML===''){wishListCollect(wlStoreCollect,'store',companyId);}}};var collectFailCallback=function(){};var collectTimeoutCallback=function(){};wishListJsonGet(collectUrl,collectSuccCallback,collectFailCallback,collectTimeoutCallback);};var onWishListDialog=function(dialogHd,dialogBd){var onloginDialog=new AE.app.dialog();onloginDialog.init({tempContentId:'wish-list-dialog',closeClassName:'close',contentTop:0,maskColor:'#666',maskDivId:'wish-list-mask',zIndex:1024,title:dialogHd,contentHTML:dialogBd,callback:function(){get('wish-list-dialog').className='';config.hasDialog=false;}});config.hasDialog=true;};var wishListJsonGet=function(url,succCallback,failCallback,timeoutCallback){YAHOO.util.Get.script(url+'&random='+Math.random(),{onSuccess:succCallback,onFailure:failCallback,onTimeout:timeoutCallback,timeout:15000});};var wishListJsonSuccess=function(){if(!window.wishListJson){WishList.closeDialog();wishListDialog('error');return;}
WishList.closeDialog();var wishListStatus=window.wishListJson.status,wishListResult=window.wishListJson.addresult;config.wishListFromReg=window.wishListJson.fromReg;config.wishListSid=window.wishListJson.sid;wishListStatusFun(wishListStatus,wishListResult);};var wishListJsonFailure=function(){WishList.closeDialog();wishListDialog('error');};var wishListJsonTimeout=function(){WishList.closeDialog();wishListDialog('error');};var wishListStatusFun=function(status,result){if(status=='succeed'){config.wishListSucNum=parseInt(result);if(config.pageType!='searchList'){wishListDialog('success');}
switch(config.itemtypeSended){case'product':if(get('wl-collect')){var getWishListCollectNum=YUD.getElementsByClassName('wl-collect-num','span',get('wl-collect'))[0];}
if(config.pageType=='searchList'){setContent();}
if(config.pageType!='searchList'){var lport=window.location.port;if(lport){var locationPath='http://www.aliexpress.com:1080';}else{var locationPath='http://www.aliexpress.com';}
var wishMangetRelated=new AE.run.magnetRelated();var wishListSuccessDiagContElm=get('wish-list-success');wishMangetRelated.init({scene:'2031',productCount:3,minProdCount:0,imgWidth:90,isOnlyInit:true,ajaxHost:locationPath,onSuccess:function(productInfo){var self=this;var itemsHtml=[];var prodArray=productInfo.prodArray;var magnetWrapElm=document.createElement('dl');magnetWrapElm.setAttribute('id','magnet-wish-relatied');YUD.addClass(magnetWrapElm,'magnet-relatied clearfix');for(var i=0,len=prodArray.length;i<len;i++){itemsHtml.push('<dd>'+this.creatItem(prodArray[i])+'</dd>');}
magnetWrapElm.innerHTML='<dt>Products you may also like:</dt>'+itemsHtml.join('');YUD.addClass(wishListSuccessDiagContElm,'wish-list-success-product');YUD.insertAfter(magnetWrapElm,wishListSuccessDiagContElm);setTimeout(function(){var oImages=magnetWrapElm.getElementsByTagName('img');self.setImageSize(oImages);self.bindStat(get('magnet-wish-relatied'),{pageType:'wishlist'});},250);}});wishMangetRelated.ajaxProdFromPersonal(0);}
break;case'store':if(get('wl-store-collect')){var getWishListCollectNum=YUD.getElementsByClassName('wl-collect-num','span',get('wl-store-collect'))[0];}
break;}
if(getWishListCollectNum){getWishListCollectNum.innerHTML=parseInt(getWishListCollectNum.firstChild.nodeValue)+1;}}else if(status=='failed'){var statusHandlers={'need_login':function(){window.location.href="https://login.aliexpress.com/?return_url="+encodeURIComponent(window.location.href);},'already_added':function(){if(config.pageType=='searchList'){setContent();}
wishListDialog('addAgain');},'over_limit':function(){wishListDialog('overLimit');},'network_err':function(){wishListDialog('error');},'need_code':function(){wishListDialog('checkcode');},'code_error':function(){wishListDialog('error');},'need_buyer':function(){wishListDialog('toBuyers');},'param_error':function(){wishListDialog('error');},'item_error':function(){wishListDialog('noExist');}};var handler=statusHandlers[result];if(typeof handler=='function'){handler();}}else{wishListDialog('error');}};var getCheckCode=function(){var t=Math.random();get('checkcode').src='http://checktoken1.alibaba.com/service/checkcode?sessionID='+config.wishListSid+'&t='+t;var errorMsgWlCheckcode=get('wl-checkcode-advice-error');errorMsgWlCheckcode.innerHTML='';YUD.setStyle(errorMsgWlCheckcode,'display','none');return false;};var checkCodeErr=function(){getCheckCode();var errorMsgWlCheckcode=get('wl-checkcode-advice-error');errorMsgWlCheckcode.innerHTML='Enter the characters you see in the image';YUD.setStyle(errorMsgWlCheckcode,'display','block');};var productStoreText=function(){var wishListUnit,wishListAdmin,wishListTxt;switch(config.itemtypeSended){case'product':if(config.wishListSucNum==1){wishListUnit='product';}else{wishListUnit='products';}
wishListAdmin=config.wishListProductAdmin;wishListTxt='Wish';break;case'store':if(config.wishListSucNum==1){wishListUnit='store';}else{wishListUnit='stores';}
wishListAdmin=config.wishListStoreAdmin;wishListTxt='Store';break;}
return{unit:wishListUnit,admin:wishListAdmin,txt:wishListTxt};};var wishListDialog=function(dialogType){if(get('wish-list-dialog')){get('wish-list-dialog').className='wish-list-dialog-'+dialogType;}
var title='',html='';var wishListDialogType={'error':function(){var productStoreTxt=productStoreText().txt;title='Add to My '+productStoreTxt+' List';html='<div id="wish-list-dialog-bd">'+'<div id="wish-list-error">'+'<div id="error-info" class="dialog-info">'+'<h5>Due to network reasons , adding that fails, re-click the "Add to '+productStoreTxt+' List".</h5>'+'</div>'+'</div>'+'</div>';},'checkcode':function(){YAHOO.util.Get.script(['http://style.alibaba.com/js/5v/app/form_validator/form_validator.js','http://style.alibaba.com/js/ae/message.js'],{onSuccess:function(obj){var checkCodeFormClient={fields:{'wl-checkcode':{eventFuncMap:{focus:'wishlist_focus'},validators:{require:{ruleName:'notTrimedEmpty',params:[],errorMsg:'Enter the characters you see in the image'},maxLength:{ruleName:'maxLength',params:[4],errorMsg:'Enter the characters you see in the image'},minLength:{ruleName:'minLength',params:[4],errorMsg:'Enter the characters you see in the image'},legalProvince:{ruleName:'regexp',params:['/^[\\x00-\\x7f]{1,250}$/'],errorMsg:'Please enter English characters only'}}}}};var checkCodeClient=new AE.form.validator();var ef={wishlist_focus:function(ev,el){el.value='';var errorMsgWlCheckcode=get('wl-checkcode-advice-error');errorMsgWlCheckcode.innerHTML='';YUD.setStyle(errorMsgWlCheckcode,'display','none');}};checkCodeClient.addEventFunc(ef);checkCodeClient.init('checkCodeFormClient',checkCodeFormClient);getCheckCode();YUE.on(get('wl-refresh'),'click',getCheckCode);get('wish-list-checkcode').onsubmit=function(){try{if(!checkCodeClient.validateAllField()){return false;}
var wlCheckcode=get('wl-checkcode').value;var checkcodeUrl=config.wishListJsonPath+'?itemtype='+config.itemtypeSended+'&itemid='+config.itemidSended+'&wl-checkcode='+wlCheckcode+
config.isEvict;var checkcodeSuccCallback=function(obj){var checkcodeStatus=window.wishListJson.status,checkcodeResult=window.wishListJson.addresult;if(checkcodeResult=='code_error'){checkCodeErr();}else{WishList.closeDialog();wishListStatusFun(checkcodeStatus,checkcodeResult);}};var checkcodeFailCallback=function(obj){WishList.closeDialog();wishListDialog('error');};var checkcodeTimeoutCallback=function(obj){WishList.closeDialog();wishListDialog('error');};wishListJsonGet(checkcodeUrl,checkcodeSuccCallback,checkcodeFailCallback,checkcodeTimeoutCallback);config.isEvict='';return false;}catch(e){return false;}};},onFailure:function(obj){},onTimeout:function(obj){},timeout:5000});var productStoreTxt=productStoreText().txt;title='Add to My '+productStoreTxt+' List';html='<div id="wish-list-dialog-bd">'+'<form method="post" id="wish-list-checkcode">'+'<div id="checkcode-info" class="dialog-info">'+'<h5>Enter the Code Shown</h5>'+'</div>'+'<ul>'+'<li>'+'<input type="text" id="wl-checkcode" name="wl-checkcode" class="input-text input-text2" /><img src="" id="checkcode" width="150" height="40" /><a href="javascript:;" id="wl-refresh">Refresh</a>'+'<div id="wl-checkcode-advice-error" class="error-tip error-tip1"></div>'+'<div id="wl-checkcode-advice-tips"></div>'+'</li>'+'</ul>'+'<div class="submit-box">'+'<input type="submit" id="wl-ok-btn" class="submit-btn" value="OK" />'+'</div>'+'</form>'+'</div>';},'success':function(){var productStoreUnit=productStoreText().unit;var productStoreAdmin=productStoreText().admin;var productStoreTxt=productStoreText().txt;if(config.wishListFromReg=='y'){var welcomeTxt='<h5>Welcome to AliExpress.</h5>';}else{var welcomeTxt='';}
title='Add to My '+productStoreTxt+' List';html='<div id="wish-list-dialog-bd">'+'<div id="wish-list-success" class="wish-list-success">'+'<div id="success-info" class="dialog-info">'+
welcomeTxt+'<h5>Successfully added to '+productStoreTxt+' List!</h5>'+'<p>'+config.wishListSucNum+' '+productStoreUnit+' in my '+productStoreTxt.toLowerCase()+' list. <a href="'+productStoreAdmin+'" title="Go to My '+productStoreTxt+' List">Go to My '+productStoreTxt+' List</a></p>'+'</div>'+'<div class="submit-box">'+'<input type="submit" id="wl-continue-shopping" class="submit-btn close-dialog" value="Continue Shopping" />'+'</div>'+'</div>'+'</div>';},'overLimit':function(){var productStoreUnit=productStoreText().unit,productStoreAdmin=productStoreText().admin,productStoreTxt=productStoreText().txt;title='Add to My '+productStoreTxt+' List';html='<div id="wish-list-dialog-bd">'+'<div id="wish-list-over-limit">'+'<div id="over-limit-info" class="dialog-info">'+'<h5>1000 '+productStoreUnit+' are already in your '+productStoreTxt.toLowerCase()+' list now, if you want to add this one,  the earliest '+productStoreUnit.substr(0,productStoreUnit.length-1)+' would be deleted.</h5>'+'<p>This operation will delete an earliest collection of '+productStoreUnit+', Please Confirm or Canel. <a href="'+productStoreAdmin+'" title="Go to My '+productStoreTxt+' List">Go to My '+productStoreTxt+' List</a></p>'+'</div>'+'<div class="submit-box">'+'<input type="submit" id="wl-confirm" class="submit-btn" value="OK, Add it" />'+'<input type="submit" id="wl-cancel" class="submit-btn close-dialog" value="Canel" />'+'</div>'+'</div>'+'</div>';},'addAgain':function(){var productStoreAdmin=productStoreText().admin,productStoreTxt=productStoreText().txt;title='Add to My '+productStoreTxt+' List';html='<div id="wish-list-dialog-bd">'+'<div id="wish-list-add-again">'+'<div id="add-again-info" class="dialog-info">'+'<h5>This '+config.itemtypeSended+' is already in your '+productStoreTxt.toLowerCase()+' list. It has now been moved to the top of the list!</h5>'+'<p><a href="'+productStoreAdmin+'" title="Go to My '+productStoreTxt+' List">Go to My '+productStoreTxt+' List</a></p>'+'</div>'+'<div class="submit-box">'+'<input type="submit" id="wl-continue-shopping" class="submit-btn close-dialog" value="Continue Shopping" />'+'</div>'+'</div>'+'</div>';},'toBuyers':function(){var productStoreTxt=productStoreText().txt;title='Add to My '+productStoreTxt+' List';html='<div id="wish-list-dialog-bd">'+'<div id="wish-list-tobuyers">'+'<div id="tobuyers-info" class="dialog-info">'+'<h5>This feature is only available to buyers.</h5>'+'</div>'+'<div class="submit-box">'+'<input type="submit" id="wl-continue-shopping" class="submit-btn close-dialog" value="Continue Shopping" />'+'</div>'+'</div>'+'</div>';},'noExist':function(){var productStoreUnit=productStoreText().unit,productStoreTxt=productStoreText().txt;title='Add to My '+productStoreTxt+' List';html='<div id="wish-list-dialog-bd">'+'<div id="wish-list-noexist">'+'<div id="noexist-info" class="dialog-info">'+'<h5>The '+productStoreUnit+' no longer exists.</h5>'+'</div>'+'</div>'+'</div>';}};var wishListDialogHandler=wishListDialogType[dialogType];if(typeof wishListDialogHandler=='function'){wishListDialogHandler();}
onWishListDialog(title,html);if(config.pageType=='searchList'){var goToWishListContainer=get('wish-list-add-again')||get('over-limit-info');if(goToWishListContainer){var oLinks=goToWishListContainer.getElementsByTagName('a');if(oLinks.length>0){var oLink=oLinks[0];YUE.on(oLink,'mousedown',function(e){sendGoToWishListClick();});}}}
var continueShoppingBtn=YUD.getElementsByClassName('close-dialog','input','wish-list-dialog-bd')[0];YUE.on(continueShoppingBtn,'click',WishList.closeDialog);YUE.on(get('wl-confirm'),'click',function(){config.isEvict='&isevict=y';var confirmUrl=config.wishListJsonPath+'?itemtype='+config.itemtypeSended+'&itemid='+config.itemidSended+
config.isEvict;wishListJsonGet(confirmUrl,wishListJsonSuccess,wishListJsonFailure,wishListJsonTimeout);});};var setPageType=function(type){config.pageType=type;};var sendGoToWishListClick=function(){if(AE.app.clickStat){AE.app.clickStat.buttonClick({projectId:'33200',pageType:'list',buttonType:'wish_list',objectType:'go_to_wish_list',objectValue:'go_to_wish_list',pageArea:'product_list'});}};var setContent=function(){var container=config.wishListContainer;if(!container){return;}
var linkWish=YUD.getElementsByClassName('atwl-button','a',container)[0];if(linkWish){linkWish.style.display='none';}
var texts=productStoreText();var oSpans=container.getElementsByTagName('span'),span;if(oSpans.length===0){span=document.createElement('span');container.appendChild(span);}else{span=oSpans[0];}
span.setAttribute('class','atc-success');span.className='atc-success';span.innerHTML='Added to <a href="'+texts.admin+'">'+texts.txt+' List</a>';var oLinks=span.getElementsByTagName('a');if(oLinks.length>0){var oLink=oLinks[0];YUE.on(oLink,'mousedown',function(e){sendGoToWishListClick();});}};return{init:function(){var wlCollect=get('wl-collect');if(wlCollect){wishListCollect(wlCollect,'product',config.productId);}
var wlStoreCollect=get('wl-store-collect');if(get('companyId')){var companyId=get('companyId').value;if(companyId&&wlStoreCollect&&!get('add-to-wishlist')){wishListCollect(wlStoreCollect,'store',companyId);}}
YUE.on(get('wishlist-btn-a'),'click',function(){var popXmanDialog=new AE.run.popXmanDialog;popXmanDialog.init({xmanTempContentId:'ws-xman-temp-mask-content',xmanContentClassName:'ws-xman-mask-content',xmanCloseClassName:'mask-close',sessionId:runParams.sessionId,registerAction:'buyerJoin/place_order_buyer_register_action',usaeServer:runParams.usaeServer,registerFrom:runParams.registerFrom,registerSuccessCallback:function(){WishList.addToWishList(config.productId,'product','');},loginSuccessCallback:function(){YUD.setStyle(get('ws-xman-temp-mask-content'),'display','none');get('ae-mask').parentNode.removeChild(get('ae-mask'));WishList.addToWishList(config.productId,'product','');},unDefaultDo:function(){WishList.addToWishList(config.productId,'product','');},tipsContent:'<div class="login-tips">You must sign in to use the Wish List.</div>'});if(get('companyId')){WishList.wishListDmtrack('store_product_detail','add_to_wish_list',config.productId,'product');}else{WishList.wishListDmtrack('product_detail','add_to_wish_list',config.productId,'product');}});YUE.on(get('wishlist-btn-b'),'click',function(){if(get('companyId')){var companyId=get('companyId').value;}else{return;}
var wsScoreSessionId=get('wsScoreSessionId').value;var from='store_left';var popXmanDialog=new AE.run.popXmanDialog;popXmanDialog.init({xmanTempContentId:'ws-xman-temp-mask-content',xmanContentClassName:'ws-xman-mask-content',xmanCloseClassName:'mask-close',sessionId:wsScoreSessionId,registerAction:'buyerJoin/place_order_buyer_register_action',usaeServer:usaeServer,registerFrom:from,registerSuccessCallback:function(){WishList.addToWishList(companyId,'store','');},loginSuccessCallback:function(){YUD.setStyle(get('ws-xman-temp-mask-content'),'display','none');get('ae-mask').parentNode.removeChild(get('ae-mask'));WishList.addToWishList(companyId,'store','');},unDefaultDo:function(){WishList.addToWishList(companyId,'store','');},tipsContent:'<div class="login-tips">You must sign in to use the Wish List.</div>'});WishList.wishListDmtrack('store','add_to_wish_list',companyId,'store');});YUE.on(YUD.getElementsByClassName('atwl-button'),'click',function(){if(!get('ws-xman-temp-mask-content')){var loginHTML=document.createElement('div');var loginClose=document.createElement('a');var body=document.getElementsByTagName('body')[0];loginHTML.setAttribute('id','ws-xman-temp-mask-content');YUD.addClass(loginHTML,'ws-xman-mask-content');YUD.setStyle(loginHTML,'display','none');loginHTML.appendChild(loginClose);YUD.addClass(loginClose,'mask-close');loginClose.setAttribute('href','#');body.appendChild(loginHTML);}
get('companyId')?setPageType('storeList'):setPageType('searchList');config.wishListContainer=this.parentNode;var listProductId=YUD.getElementsByClassName('atc-product-id','input',this.parentNode.parentNode)[0].value;var sessionId='';var lport=window.location.port;if(lport){var locationPath='http://www.aliexpress.com:1080';}else{var locationPath='http://www.aliexpress.com';}
var url=locationPath+'/getSession.htm';YAHOO.util.Get.script(url,{onSuccess:function(o){sessionId=wsScoreSessionId;var popXmanDialog=new AE.run.popXmanDialog;popXmanDialog.init({xmanTempContentId:'ws-xman-temp-mask-content',xmanContentClassName:'ws-xman-mask-content',xmanCloseClassName:'mask-close',sessionId:sessionId,registerAction:'buyerJoin/place_order_buyer_register_action',usaeServer:usaeServer,registerFrom:'whosesale_list',registerSuccessCallback:function(){WishList.addToWishList(listProductId,'product','');},loginSuccessCallback:function(){YUD.setStyle(get('ws-xman-temp-mask-content'),'display','none');get('ae-mask').parentNode.removeChild(get('ae-mask'));WishList.addToWishList(listProductId,'product','');},unDefaultDo:function(){WishList.addToWishList(listProductId,'product','');},tipsContent:'<div class="login-tips">You must sign in to use the Wish List.</div>'});}});if(get('companyId')){WishList.wishListDmtrack('store_list','add_to_wish_list',listProductId,'product');}else{WishList.wishListDmtrack('search_list','add_to_wish_list',listProductId,'product_id');}});},addToWishList:function(itemid,itemtype,otherParam){if(config.hasDialog){return false;}
config.itemidSended=itemid;config.itemtypeSended=itemtype;if(!get('wish-list-dialog')){var wishListDialogEl=document.createElement('div');wishListDialogEl.id='wish-list-dialog';wishListDialogEl.innerHTML='<a href="javascript:;" class="close"></a>';if(config.pageType=='searchList'){wishListDialogEl.style.display='none';}
document.body.appendChild(wishListDialogEl);}
if(config.pageType!='searchList'){var dialogHd='Loading...',dialogBd='<div id="wish-list-dialog-bd">'+'<img id="dialog-loading" src="http://img.alibaba.com/images/eng/wholesale/icon/loading_1.gif" alt="" />'+'</div>';onWishListDialog(dialogHd,dialogBd);}
var requestUrl=config.wishListJsonPath+'?itemtype='+itemtype+'&itemid='+itemid+
otherParam;wishListJsonGet(requestUrl,wishListJsonSuccess,wishListJsonFailure,wishListJsonTimeout);},wishListDmtrack:function(wsPageType,wsButtonType,wsValue,wsType){if(AE.app.clickStat){AE.app.clickStat.buttonClick({projectId:'5203',pageType:wsPageType=='search_list'?'list':wsPageType,buttonType:wsButtonType,objectType:wsType,objectValue:wsValue,pageArea:wsPageType=='search_list'?'product_list':''});}},closeDialog:function(){var wishListDialogEl=get('wish-list-dialog');wishListDialogEl.className='';wishListDialogEl.innerHTML='<a href="javascript:;" class="close"></a>';YUD.setStyle(wishListDialogEl,'display','none');if(get('wish-list-mask')){document.body.removeChild(get('wish-list-mask'));}
config.hasDialog=false;},itemid:function(){var itemidSended=config.itemidSended;return itemidSended;},itemtype:function(){var itemtypeSended=config.itemtypeSended;return itemtypeSended;}};})();WishList.init();function xmancallback(obj){WishList.closeDialog();WishList.addToWishList(WishList.itemid(),WishList.itemtype(),'');}}catch(errEv){};

YUE.onDOMReady(function(){if(get('floatdiv_model')){initobj();}
var tabexcursion=[5,25];if(AE.bom.isIE6){tabexcursion=[5,25];}
var hotproductTarget=YUD.getElementsByClassName('hotproduct','a');if(hotproductTarget.length==1&&!/current/.test(hotproductTarget[0].parentNode.className)){div=document.createElement('div');div.id='hotproduct-icon-detail';div.className='hotproduct-icon-detail';document.body.appendChild(div);div.style.display='none';div.innerHTML='<div class=\"arrow\"></div><div class=\"tip-popup-content\"><div><strong>Top-Rated Products</strong><ul><li>Top Feedback</li><li>Top Quality</li><li>Top Delivery</li></ul></div></div>';var hotproductShow=new AE.widget.overShow();hotproductShow.init({targetEl:hotproductTarget,positionId:false,contentId:"hotproduct-icon-detail",showDelayTime:200,hiddenDelayTime:200,excursion:tabexcursion,needMask:false,needXY:true,closeBtnClass:"close-button"});}
var aHotProductIconEl=YUD.getElementsByClassName('detail-hotproduct-icon','img','list-items');var excursion=[-5,20];if(AE.bom.isIE6){excursion=[-17,20];}
for(var i=aHotProductIconEl.length;i--;){(new AE.widget.overShow()).init({targetEl:aHotProductIconEl[i],positionId:false,contentId:"hotproduct-icon-detail",showDelayTime:200,hiddenDelayTime:200,excursion:excursion,needMask:false,needXY:true,closeBtnClass:"close-button"});}
var bottomBPInfo=get('bp-banner');if(bottomBPInfo){var scrollTrigger=new AE.app.scrollTrigger;scrollTrigger.init({distance:50});scrollTrigger.register(bottomBPInfo,function(){bottomBPInfo.innerHTML='<div class="bp-banner"><a href="http://www.aliexpress.com/buyerprotection/index.html" rel="nofollow"><img class="banner-img" src="http://img.alibaba.com/images/cms/upload/aliexpress/channel/buyerprotection/banner/bp_banner_718x75.png" /></a></div>';},null,true);scrollTrigger.run();}});;
;
